{"version":3,"sources":["views/Register/components/modal/RegisterWeekTimeTableModal/RegisterWeekTimeTableModal.module.css","views/Register/components/modal/RegisterCreateModal/RegisterPatientList/RegisterPatientList.module.css","views/Register/components/modal/RegisterCreateModal/RegisterCreateModal.module.css","views/Register/components/modal/RegisterCreateModal/RegisterCreateForm/RegisterCreateForm.module.css","components/common/Address/style.module.css","components/common/ValidationModal/style.module.css","components/common/WeatherAPI/WeatherAPI.module.css","views/Register/components/modal/RegisterWeekTimeTableModal/MonthTimeTable/MonthTimeTable.module.css","views/Auth/style.module.css","views/Register/components/modal/RegisterWeekTimeTableModal/ToDoList/ToDoList.module.css","components/common/Spinner/style.module.css","views/Treatment/components/modal/TreatmentHistoryReadModal/style.module.css","views/DataAnalysis/DataAnalysis.module.css","views/Inspection/components/modal/InspectionImgFormModal/InspectionImgFormModal.module.css","views/Inspection/components/modal/InspectionImgCreateFormModal/InspectionImgCreateFormModal.module.css","views/Inspection/components/modal/InspectionImgModifyFormModal/InspectionImgModifyModal.module.css","views/Register/components/modal/RegisterCreateModal/RegisterStateChange/RegisterStateChange.module.css","views/Inspection/components/modal/InspectionBarcodeModal/InspectionBarcodeModal.module.css","components/common/Address/index.js","apis/patient.js","components/common/ValidationModal/index.js","views/Patient/PatientCreateForm.js","components/common/Spinner/index.js","components/common/NoData/index.js","views/Patient/PatientList.js","views/Patient/PatientUpdateForm.js","apis/mqtt.js","views/Patient/index.js","apis/register.js","views/Register/components/items/RegisterListItem/index.js","views/Register/RegisterList.js","views/Register/RegisterRead.js","views/Register/components/modal/RegisterCreateModal/RegisterCreateForm/index.js","views/Register/components/modal/RegisterCreateModal/RegisterPatientList/index.js","views/Register/components/modal/RegisterCreateModal/RegisterStateChange/index.js","views/Register/components/modal/RegisterCreateModal/index.js","views/Register/components/modal/RegisterWeekTimeTableModal/MonthTimeTable/index.js","views/Register/components/modal/RegisterWeekTimeTableModal/ToDoList/index.js","views/Register/components/modal/RegisterWeekTimeTableModal/index.js","views/Register/RegisterTimeSchedule.js","views/Register/RegisterUpdateForm.js","views/Register/index.js","apis/treatments.js","apis/inspections.js","views/Inspection/components/modal/InspectionImgFormModal/index.js","views/Treatment/components/modal/TreatmentHistoryReadModal/index.js","views/Treatment/TreatmentCreateForm.js","views/Treatment/TreatmentHistoryList.js","views/Treatment/TreatmentPatientList.js","views/Treatment/index.js","views/Inspection/InspectionPatientListItem.js","views/Inspection/InspectionPatientList.js","views/Inspection/components/modal/InspectionBarcodeModal/index.js","views/Inspection/components/modal/InspectionImgCreateFormModal/index.js","views/Inspection/components/modal/InspectionImgModifyFormModal/index.js","views/Inspection/InspectionListItem.js","views/Inspection/InspectionList.js","views/Inspection/index.js","redux/auth-reducer.js","views/Help/index.js","apis/axiosConfig.js","apis/auth.js","redux/hospital-reducer.js","views/Login.js","views/DataAnalysis/Data1.js","views/DataAnalysis/Data2.js","views/DataAnalysis/Data3.js","views/DataAnalysis/Data4.js","views/DataAnalysis/index.js","apis/data.js","apis/users.js","views/User/UserCreateForm.js","views/User/UserList.js","views/User/UserUpdateForm.js","views/User/index.js","views/errors/Page404.js","views/errors/Page403.js","components/common/CustomeRoute/NurseRoute.js","components/common/CustomeRoute/DoctorRoute.js","components/common/CustomeRoute/InspectorRoute.js","components/common/CustomeRoute/MasterRoute.js","AppRoute.js","views/Auth/index.js","components/common/WeatherAPI/index.js","Header.js","App.js","reportWebVitals.js","redux/root-reducer.js","index.js"],"names":["module","exports","Modal","props","open","close","send","className","style","AddressModal","openModal","modal","AddressModal_header","onClick","onComplete","data","address","extraAddress","addressType","bname","buildingName","getPatientList","keyword","promise","axios","get","params","updatePatient","patient","put","createPatient","post","ValidationModal","errorMsg","ValidationModal_header","title","content","PatientCreateForm","useState","patient_name","patient_ssn1","patient_ssn2","patient_sex","patient_tel1","patient_tel2","patient_tel3","patient_zipcode","patient_address","patient_detailaddress1","patient_detailaddress2","setPatient","masking","setMasking","validationModalOpen","setValidationModalOpen","openvalidationModal","setErrorMsg","handleChange","event","target","name","value","handleCreate","a","preventDefault","patientValidation","length","response","console","log","result","ToastsStore","success","publishTopic","addressModalOpen","setAddressModalOpen","Fragment","onSubmit","type","placeholder","onChange","onBlur","replace","checked","readOnly","zonecode","prevPatient","store","position","ToastsContainerPosition","TOP_CENTER","lightBackground","Spinner","spinner2","role","Nodata","fontSize","height","PatientList","patients","setPatients","setKeyword","id","setId","loading","setLoading","handleSearch","patientList","useEffect","work","message","rowRenderer","index","key","patient_id","changePatient","width","moment","patient_regdate","format","disableHeight","list","rowCount","rowHeight","overscanRowCount","PatientUpdateForm","patientId","setPatientId","handleUpdate","ssn2Masking","slice","undefined","sendMqttMessage","topic","Patient","subTopic","pubMessage","setMessage","client","useRef","num","current","Paho","Client","Date","getTime","onConnectionLost","onMessageArrived","msg","Jmessage","JSON","parse","payloadString","connect","onSuccess","subscribe","getRegisterList","date","state","createRegister","register","updateRegister","changeRegisterState","getDoctorList","updateToDoLists","schedule","deleteToDoLists","delete","getRegisterByDoctor","user_id","RegisterListItem","selectedRegister","checkboxHandler","register_id","register_date","patient_ssn","substring","user_name","register_memo","register_communication","register_state","React","memo","registerLocale","ko","RegisterList","registerDate","setSelectedPatient","setRegisterDate","registerList","setRegisterList","startDate","setStartDate","registerStateReady","setRegisterStateReady","registerStateFinish","setRegisterStateFinish","registerStateCancel","setRegisterStateCancel","setSelectedRegister","selectPatient","find","changeRegisterStateToFinish","selectRegister","changeRegisterStateToCancel","showTotal","showReady","showFinish","showCancel","getRegistersState","count1","count2","count3","i","to","locale","selected","dateFormat","colSpan","map","RegisterRead","selectedPatient","changeRegister","register_patient_id","register_user_id","register_regdate","register_starttime","patient_tel","setSelectPatient","RegisterCreateForm","doctors","noneRegister","user_hospital_id","user_password","user_ssn","user_tel","user_email","user_sex","user_zipcode","user_address","user_detailaddress1","user_detailaddress2","user_regdate","user_enabled","user_authority","minDate","setMinDate","setHours","setMinutes","minTime","setMinTime","maxTime","setMaxTime","showTimeSelect","setShowTimeSelect","doctorsList","setDoctorsList","newDoctor","setNewDoctor","newMemo","setNewMemo","newCMemo","setNewCMemo","selectedTime","getFullYear","getMonth","getDate","getHours","setDate","RegisterCreateForm_content","RegisterCreateForm_cal","setNewRegister","newRegister","timeIntervals","timeCaption","timeClassName","time","inline","RegisterCreateForm_input","RegisterCreateForm_input_select","disabled","doctor","RegisterCreateForm_input_textarea","RegisterPatientList","setPatientList","searchContent","setSearchContent","getPatientsLists","RegisterPatientList_content","RegisterPatientList_search","RegisterPatientList_search_input","RegisterPatientList_search_input_1","RegisterPatientList_search_button","RegisterPatientList_content_table","RegisterPatientList_content_table_tr","RegisterStateChange","RegisterStateChange_content_table","RegisterStateChange_content_table_tr","RegisterStateChange_content_stateBtn","RegisterStateChange_content_stateBtn_item","RegisterStateChange_content_stateBtn_item_1","RegisterStateChange_content_stateBtn_item_2","RegisterStateChange_content_stateBtn_item_3","RegisterCreateModal","header","createNewRegister","registerValidation","updateNewRegister","RegisterCreateModal1","RegisterCreateModal_main","RegisterCreateModal_footer","MonthTimeTable","selectedDoctor","selectToday","selectTodayYear","selectTodayMonth","selectTodayDate","today","setToday","startOf","tMonth","setTMonth","registerListByDoctor","setRegisterListByDoctor","todayYear","todayMonth","thisYaerAndMonth","calCalender","thisYear","thisMonth","prevLast","thisLast","prevLastDate","prevLastDay","getDay","todayLastDate","todayLastDay","prevDates","thisDates","Array","keys","nextDates","unshift","push","concat","dates","setDates","prevMonth","setMonth","subtract","nextMonth","add","updateSelectDate","setSelectDate","getRegisterCount","MonthTimeTable_btns","MonthTimeTable_btn","MonthTimeTable_btnToday","yearAndMonth","days","day","dayN","thisDate","count","Rdate","count_font","onDoubleClick","otherDate1","otherDate2","otherDate","ToDoList","selectDate","globalUid","useSelector","authReducer","uid","inputText","setInputText","toDoList","setToDoList","addToDoList","newSchedule","schedule_id","schedule_user_id","schedule_content","schedule_state","schedule_regdate","changeYet","updateSchedule","changeDone","deleteToDo","getToDoList","todolist","ToDoList_header","ToDoList_header_name","ToDoList_header_date","ToDoList_header_inputLabel","ToDoList_header_inputLabel_input","ToDoList_header_inputLabel_button","ToDoList_content","ToDoList_content_header","ToDoList_content_items","ToDoList_content_items_yet_header","ToDoList_content_items_yet_header_1","ToDoList_content_items_yet_header_2","filter","toDo","ToDoList_content_items_yet_itmes","ToDoList_content_items_yet_item","ToDoList_content_items_yet_item_content","ToDoList_content_items_yet_item_btns","ToDoList_content_items_yet_item_btns_btn","ToDoList_btn_X","ToDoList_content_items_done_header","ToDoList_content_items_done_header_1","ToDoList_content_items_done_header_2","ToDoList_content_items_done_itmes","ToDoList_content_items_done_item","ToDoList_content_items_done_item_content","ToDoList_content_items_done_item_btns","ToDoList_content_items_done_item_btns_btn","ToDoList_btn_X2","RegisterWeekTimeTableModal","setPubMessage","RegisterWeekTimeTableModal_header","Main_content","RegisterWeekTimeTableModal_main","ToDoList_main","RegisterWeekTimeTableModal_footer","hours","mins","RegisterTimeSchedule","setDoctors","registers","setRegisters","modalOpen","setModalOpen","headerContent","setHeaderContent","selectTimeModalOpen","setSelectTimeModalOpen","setSelectedTime","setSelectedDoctor","registerWeekTimeTableOpen","setRegisterWeekTimeTableOpen","registerModalOpen","setRegisterModalOpen","openRegisterModal","getRegisterLists","tableRegisterList","getDoctorLists","doctorList","hour","min","currentTime","minCurrentTime","maxCurrentTime","isBetween","openRegisterWeekTimeTableOpen","index1","index2","h","m","index3","RegisterUpdateForm","doctorlist","cancelRegister","changeNewDoctor","useCallback","changeNewMemo","newCommunication","setNewCommunication","changeNewCommunication","updateRegisterBtn","new_doctor","Register","prevSubTopic","setPrevSubTopic","sendSubTopic","unsubscribe","registerRead","setRegisterRead","getTreatmentPatientList","getTreatmentHistoryList","treatment_patient_id","getTreatmentHistoryRead","treatment_id","getSearchDurg","condition","readPatient","treatmentDate","readInspection","treatmentId","updateState","inspectionId","updateResult","inspectionResult","selectImgId","createImage","multipartFormData","deleteImage","InspectionImgFormModal","inspection","inspectionImgResult","images","getInspectionImgs","inspection_id","inspectionImgList","original","inspection_img_path","thumbnail","originalHeight","responseImgId","inspectionImgId","inspection_img_id","responseType","InspectionImgModal","InspectionImgForm_title","InspectionImgForm_1","InspectionImgForm_1_1","InspectionImgForm_1_1_1","InspectionImgForm_1_1_2","inspection_list_category","inspection_list_name","inspection_doctor_name","inspection_inspector_name","inspection_lab","InspectionImgForm_1_2","items","InspectionImgForm_2","TreatmentHistoryRead","readTreatmentId","selectedTreatmentId","soap","setSoap","inspectionlists","setInspectionlists","druglists","setDrugLists","closeModal","getRead","treatmentSoaplist","treatmentInspectionlist","treatmentDrugsInjectionlist","TreatmentHistorymodal","TreatmentHistoryRead_title","TreatmentHistoryRead_border","TreatmentHistoryRead_1","TreatmentHistoryRead_1_table","bgcolor","treatment_smemo","treatment_omemo","treatment_amemo","treatment_pmemo","TreatmentHistoryRead_2","TreatmentHistoryRead_2_title","TreatmentHistoryRead_2_Totaltable","TreatmentHistoryRead_2_table","TreatmentHistoryRead_2_table_thead","TreatmentHistoryRead_2_table_tbody","inspections","inspection_date","inspection_list_reference","inspection_result","TreatmentHistoryRead_3","TreatmentHistoryRead_3_title","TreatmentHistoryRead_3_Totaltable","TreatmentHistoryRead_3_table","TreatmentHistoryRead_3_table_thead","drugInjections","treatment_date","drug_injection_drug_injection_list_id","drug_injection_list_name","drug_injection_list_category","TreatmentHistoryReadClose","TreatmentCreateForm","checkedPatientlist","inspectionlist","setInspectionlist","inspectionOption","setInspectionOption","selectedInspection","selectedInspection2","inspectionForm","setInspectionForm","selectedDrug","drugForm","setDrugForm","searchKeyword","setSearchKeyword","setSelectedTreatmentId","smemo","setSmemo","omemo","setOmemo","amemo","setAmemo","pmemo","setPmemo","cmemo","setCmemo","checkedpatient","treatment_register_id","treatment_state","checkList","setCheckList","handleCheckClick","newChecklist","item","getTotalInspectionsList","categoryValue","inspectionList","cList","iList","inspection_list_id","getSearchDurgs","druglist","searchClick","totalFilter","innerFilter","outerFilter","injectionFilter","updateTreatmentBtn","newTreatment","treatment_user_id","treatment_communication","treatment","handleChangeDrugInjections","prevDrugForm","handleChangeBloodInspections","prevInspectionForm","handleChangeImgInspections","rows","cols","drug_injection_list_id","TreatmentHistoryList","historyLists","setHistoryLists","getList","historylist","treatmentHistory","TreatmentPatientList","setCheckedpatient","patientlists","setPatientlists","inputdate","setInputdate","inputdate2","setInputdate2","selectedRegisterId","setSelectedRegisterId","ready","setReady","done","setDone","treatmentlist","getState","readyState","doneState","readyFilter","finishFilter","searchDateBtn","patientlist","checkedtreatmentPatient","Treatment","InspectionPatientListItem","changeIStateInspection","treatment_istate","handleIStateInspectionFalse","changeIStateFinish","handleIStateFinishFalse","changeIStateWait","handleIStateWaitFalse","iStateInspection","iStateFinish","iStateWait","handleChecked","split","color","patientsList","InspectionPatientList","setTreatmentDate","treatmentDate2","setTreatmentDate2","getIstateWaiting","istateWaiting","setIstateWaiting","getIstateInspection","istateInspection","setIstateInspection","getIstateCompletion","istateCompletion","setIstateCompletion","getPatient","treatmentList","checkIState","countWaiting","countInspection","countCompletion","showInspection","checkedtId","InspectionBarcodeModal","closeCheck","closeCancel","inspectionListName","patientName","inspectionInspectorName","barcode","tid","inspectionListSpecimen","inspectionListContainer","InspectionModal","InspectionBarcodePop","InspectionBarcodePop_title","InspectionBarcodePop_1","InspectionBarcodePop_1_1","renderer","InspectionBarcodePop_1_2","InspectionBarcodePop_1_3","InspectionImgCreateFormModal","closeR","inputFile","inspectionImgResultBtn","maxSize","sizeIndex","size","typeIndex","files","lastIndexOf","alert","formData","FormData","append","InspectionImgCreateModal","InspectionImgCreateForm","InspectionImgCreateForm_title","InspectionImgCreateForm_1","encType","InspectionImgCreateForm_1_1","InspectionImgCreateForm_1_1_1","InspectionImgCreateForm_1_1_2","multiple","ref","accept","InspectionImgCreateForm_1_2","closeM","InspectionImgModifyModal","InspectionListItem","inspectionR","setInspectionR","imgModalOpen","setImgModalOpen","imgModifyModalOpen","setImgModifyModalOpen","imgCreateModalOpen","setImgCreateModalOpen","handleResultChange","inspectionRRegister","inspectionRModify","openImgModal","closeImgModal","closeRImgCreateModal","changeStateInspection","inspection_state","handleStateInspectionFalse","changeStateWait","handleStateWaitFalse","plusStateWaitCount","changeStateFinish","handleStateFinishFalse","plusStateFinishCount","stateInspection","stateWait","stateFinish","inspection_list_specimen","InspectionImgModifyFormModal","inspeciton_list_container","inspectionsList","InspectionList","setInspections","filterInspections","setFilterInspections","setStateInspection","setStateWait","setStateFinish","stateFinishCount","setStateFinishCount","stateWaitCount","setStateWaitCount","authorityRole","uauthority","ExcelFile","ReactExport","ExcelSheet","ExcelColumn","dataSet","getInspections","inspection_inspector_id","getInspectionsWhenStateChange","getStateFinishCount","finishCount","getStateWaitCount","waitCount","handleIStateFinishTrue","handleIStateWaitTrue","ins","handleIStateInspectionTrue","element","category","specimen","reference","container","inspector","lab","label","window","confirm","Inspection","setTreatmentId","setIStateInspection","setIStateWait","setIStateFinish","initialState","authToken","SET_UID","SET_AUTH_TOKEN","SET_UAUTHORITY","createSetUidAction","createSetAuthTokenAction","cresteSetUauthorityAction","action","Help","href","download","rel","addAuthHeader","defaults","headers","common","login","user","updateUserInfo","baseURL","hid","hname","haddress","hurl","hlat","hlong","SET_HID","SET_HNAME","SET_HADDRESS","SET_HURL","SET_HLAT","SET_HLONG","createSetHidAction","createSetHnameAction","createSetHaddressAction","createSetHurlAction","createSetHLATAction","createSetHLONGAction","hospitalReducer","Login","userId","userPassword","setUser","dispatch","useDispatch","loginUser","sessionStorage","setItem","history","bid","setBid","boardClick","useForm","mode","handleSubmit","errors","src","alt","required","Data1","data1","DataAnalysis_col_header","DataAnalysis_col_content","indexBy","margin","top","right","bottom","left","padding","groupMode","valueScale","indexScale","round","colors","scheme","fill","match","borderColor","from","modifiers","axisTop","axisRight","axisLeft","tickSize","tickPadding","tickRotation","legend","legendPosition","legendOffset","animate","motionStiffness","motionDamping","Data2","data2","innerRadius","padAngle","cornerRadius","activeOuterRadiusOffset","borderWidth","arcLinkLabelsSkipAngle","arcLinkLabelsTextColor","arcLinkLabelsThickness","arcLinkLabelsColor","arcLabelsSkipAngle","arcLabelsTextColor","legends","anchor","direction","justify","translateX","translateY","itemsSpacing","itemWidth","itemHeight","itemTextColor","itemDirection","itemOpacity","symbolSize","effects","on","Data3","data3","defs","background","stagger","rotation","lineWidth","spacing","axisBottom","labelSkipWidth","labelSkipHeight","labelTextColor","dataFrom","Data4","data4","symbolShape","DataAnalysis","setData1","setData2","setData3","setData4","getData","calcData1","calcData2","calcData3","calcData4","datalist","countA1","countA2","countA3","countA4","countA5","countA6","countA7","countA8","countA9","countB1","countB2","countB3","countB4","countB5","countB6","countB7","countB8","countB9","countC1","countC2","countC3","countC4","countC5","countC6","countC7","countC8","countC9","countD1","countD2","countD3","countD4","countD5","countD6","countD7","countD8","countD9","countE1","countE2","countE3","countE4","countE5","countE6","countE7","countE8","countE9","pAge","yearToday","newAge","newAge2","countQ1","countQ2","countQ3","countQ4","DataAnalysis_row1","DataAnalysis_col","DataAnalysis_row2","getAllUserList","getUserList","updateUser","updateUserEnabled","createUser","UserCreateForm","hospital_id","user_ssn1","user_ssn2","user_tel1","user_tel2","user_tel3","user_email1","user_email2","userValidation","regex","test","prevUser","UserList","users","setUsers","userCount","setUserCount","getUsersCount","userList","count4","count5","countAll","setCondition","clickCondition","selectCondition","changeUser","UserUpdateForm","setUserId","handleEnabled","AddressModalOpen","User","Page404","useHistory","marginTop","goBack","Page403","DoctorRoute","Component","component","rest","render","InspectorRoute","MasterRoute","AppRoute","Uauthority","path","exact","NurseRoute","Auth","openValidationModal","old_password","new_password","re_password","Auth_header","Auth_box","Auth_content","minLength","maxLength","Auth_error","Auth_noterror","pattern","user_Address","Auth_password","API_KEY","WeatherAPI","hospitalTemp","setHospitalTemp","imgUrl","setImgUrl","getWeatherData","lat","long","fetch","then","json","Math","floor","main","temp","weather","icon","catch","error","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","timeout","enableHighAccuracy","maximumAge","WeatherAPI_items","WeatherAPI_item","Header","hospital_url","authModalOpen","setAuthModalOpen","removeItem","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","createStore","composeWithDevTools","getItem","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.81e56426.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"RegisterWeekTimeTableModal\":\"RegisterWeekTimeTableModal_RegisterWeekTimeTableModal__1pwux\",\"modal\":\"RegisterWeekTimeTableModal_modal__2kHnf\",\"modal-show\":\"RegisterWeekTimeTableModal_modal-show__3RPYl\",\"RegisterWeekTimeTableModal_header\":\"RegisterWeekTimeTableModal_RegisterWeekTimeTableModal_header__3fdlb\",\"Main_content\":\"RegisterWeekTimeTableModal_Main_content__3jwmk\",\"RegisterWeekTimeTableModal_footer\":\"RegisterWeekTimeTableModal_RegisterWeekTimeTableModal_footer__OA9dE\",\"openModal\":\"RegisterWeekTimeTableModal_openModal__8BdfL\",\"modal-bg-show\":\"RegisterWeekTimeTableModal_modal-bg-show__11W4g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"RegisterPatientList\":\"RegisterPatientList_RegisterPatientList__1LS1u\",\"RegisterPatientList_header\":\"RegisterPatientList_RegisterPatientList_header__ttCbr\",\"RegisterPatientList_search\":\"RegisterPatientList_RegisterPatientList_search__16gTB\",\"RegisterPatientList_search_input\":\"RegisterPatientList_RegisterPatientList_search_input__2fEBJ\",\"RegisterPatientList_search_input_1\":\"RegisterPatientList_RegisterPatientList_search_input_1__22r-k\",\"RegisterPatientList_search_button\":\"RegisterPatientList_RegisterPatientList_search_button__QxPV0\",\"RegisterPatientList_content\":\"RegisterPatientList_RegisterPatientList_content__1CEIG\",\"RegisterPatientList_content_table\":\"RegisterPatientList_RegisterPatientList_content_table__2fe95\",\"RegisterPatientList_content_table_tr\":\"RegisterPatientList_RegisterPatientList_content_table_tr__2Uus2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"RegisterCreateModal\":\"RegisterCreateModal_RegisterCreateModal__9vafi\",\"modal\":\"RegisterCreateModal_modal__39Ehp\",\"modal-show\":\"RegisterCreateModal_modal-show__104Yj\",\"RegisterCreateModal1\":\"RegisterCreateModal_RegisterCreateModal1__3qPRI\",\"RegisterCreateModal_main\":\"RegisterCreateModal_RegisterCreateModal_main__3S_PZ\",\"RegisterCreateModal_footer\":\"RegisterCreateModal_RegisterCreateModal_footer__3bSdL\",\"openModal\":\"RegisterCreateModal_openModal__3UP0r\",\"modal-bg-show\":\"RegisterCreateModal_modal-bg-show__2T2Ra\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"RegisterCreateForm\":\"RegisterCreateForm_RegisterCreateForm__2YFQt\",\"RegisterCreateForm_content\":\"RegisterCreateForm_RegisterCreateForm_content__18xUw\",\"RegisterCreateForm_cal\":\"RegisterCreateForm_RegisterCreateForm_cal__3cRtI\",\"RegisterCreateForm_input\":\"RegisterCreateForm_RegisterCreateForm_input__1RNg-\",\"RegisterCreateForm_input_select\":\"RegisterCreateForm_RegisterCreateForm_input_select__3Qe5i\",\"RegisterCreateForm_input_textarea\":\"RegisterCreateForm_RegisterCreateForm_input_textarea__3rvLD\",\"RegisterCreateForm_button\":\"RegisterCreateForm_RegisterCreateForm_button__3Kyb-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AddressModal_header\":\"style_AddressModal_header__3Tgiv\",\"AddressModal\":\"style_AddressModal__1_ByM\",\"modal\":\"style_modal__1Ea-Y\",\"modal-show\":\"style_modal-show__3UxOZ\",\"openModal\":\"style_openModal__2bZ4H\",\"modal-bg-show\":\"style_modal-bg-show__2-wG2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ValidationModal_header\":\"style_ValidationModal_header__K4tFw\",\"ValidationModal\":\"style_ValidationModal__17oYG\",\"modal\":\"style_modal__3yU5w\",\"modal-show\":\"style_modal-show__307Cu\",\"openModal\":\"style_openModal__1fRGH\",\"modal-bg-show\":\"style_modal-bg-show__zbtTj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"WeatherAPI\":\"WeatherAPI_WeatherAPI__1zJC9\",\"WeatherAPI_items\":\"WeatherAPI_WeatherAPI_items__1cepU\",\"WeatherAPI_item\":\"WeatherAPI_WeatherAPI_item__1Uut1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MonthTimeTable\":\"MonthTimeTable_MonthTimeTable__AwQuB\",\"yearAndMonth\":\"MonthTimeTable_yearAndMonth__rgav1\",\"MonthTimeTable_btns\":\"MonthTimeTable_MonthTimeTable_btns__2kY-x\",\"MonthTimeTable_btn\":\"MonthTimeTable_MonthTimeTable_btn__2gYdM\",\"MonthTimeTable_btnToday\":\"MonthTimeTable_MonthTimeTable_btnToday__1-47L\",\"days\":\"MonthTimeTable_days__NLGbT\",\"day\":\"MonthTimeTable_day__RUGQE\",\"dayN\":\"MonthTimeTable_dayN__1RXpL\",\"divisionLine\":\"MonthTimeTable_divisionLine__2JkcF\",\"divisionLine2\":\"MonthTimeTable_divisionLine2__3DANS\",\"dates\":\"MonthTimeTable_dates__1w7Va\",\"date\":\"MonthTimeTable_date__2bESt\",\"thisDate\":\"MonthTimeTable_thisDate__2tqWB\",\"otherDate\":\"MonthTimeTable_otherDate__Surad\",\"otherDate1\":\"MonthTimeTable_otherDate1__1QZ3a\",\"otherDate2\":\"MonthTimeTable_otherDate2__I-Z3B\",\"count\":\"MonthTimeTable_count__1yb2c\",\"count_font\":\"MonthTimeTable_count_font__r-qu7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Auth\":\"style_Auth__2J4yB\",\"Auth_box\":\"style_Auth_box__1xc85\",\"Auth_content\":\"style_Auth_content__3-GC9\",\"Auth_content2\":\"style_Auth_content2__1SlWC\",\"Auth_password\":\"style_Auth_password__2yFBU\",\"Auth_error\":\"style_Auth_error__3sgxB\",\"Auth_noterror\":\"style_Auth_noterror__1w43I\",\"Auth_header\":\"style_Auth_header__17yvL\",\"modal\":\"style_modal__3VrS7\",\"modal-show\":\"style_modal-show__128ff\",\"openModal\":\"style_openModal__1NVrR\",\"modal-bg-show\":\"style_modal-bg-show__31SUK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ToDoList\":\"ToDoList_ToDoList__2WBML\",\"ToDoList_header\":\"ToDoList_ToDoList_header__3pwjo\",\"ToDoList_header_name\":\"ToDoList_ToDoList_header_name__2407W\",\"ToDoList_header_date\":\"ToDoList_ToDoList_header_date__17h_1\",\"ToDoList_header_inputLabel\":\"ToDoList_ToDoList_header_inputLabel__1j9yT\",\"ToDoList_header_inputLabel_input\":\"ToDoList_ToDoList_header_inputLabel_input__28SBi\",\"ToDoList_header_inputLabel_button\":\"ToDoList_ToDoList_header_inputLabel_button__CYDo9\",\"button_team2_fill\":\"ToDoList_button_team2_fill__1L9h5\",\"ToDoList_content\":\"ToDoList_ToDoList_content__--9Uy\",\"ToDoList_content_header\":\"ToDoList_ToDoList_content_header__KgLeO\",\"ToDoList_content_items\":\"ToDoList_ToDoList_content_items__1J941\",\"ToDoList_content_items_yet_header\":\"ToDoList_ToDoList_content_items_yet_header__23bb4\",\"ToDoList_content_items_yet_header_1\":\"ToDoList_ToDoList_content_items_yet_header_1__1REau\",\"ToDoList_content_items_yet_header_2\":\"ToDoList_ToDoList_content_items_yet_header_2__Ummt7\",\"ToDoList_content_items_yet_itmes\":\"ToDoList_ToDoList_content_items_yet_itmes__2acVr\",\"ToDoList_content_items_yet_item\":\"ToDoList_ToDoList_content_items_yet_item__1ldx1\",\"ToDoList_content_items_yet_item_content\":\"ToDoList_ToDoList_content_items_yet_item_content__3afSw\",\"ToDoList_content_items_yet_item_btns\":\"ToDoList_ToDoList_content_items_yet_item_btns__oRpRq\",\"ToDoList_content_items_done_header\":\"ToDoList_ToDoList_content_items_done_header__2vc62\",\"ToDoList_content_items_done_header_1\":\"ToDoList_ToDoList_content_items_done_header_1__3VQjn\",\"ToDoList_content_items_done_header_2\":\"ToDoList_ToDoList_content_items_done_header_2__39hXi\",\"ToDoList_content_items_done_itmes\":\"ToDoList_ToDoList_content_items_done_itmes__18PsL\",\"ToDoList_content_items_done_item\":\"ToDoList_ToDoList_content_items_done_item__1Qvju\",\"ToDoList_content_items_done_item_content\":\"ToDoList_ToDoList_content_items_done_item_content__3PoaA\",\"ToDoList_content_items_done_item_btns\":\"ToDoList_ToDoList_content_items_done_item_btns__2O8ef\",\"ToDoList_btn_X\":\"ToDoList_ToDoList_btn_X__2wP6T\",\"ToDoList_btn_X2\":\"ToDoList_ToDoList_btn_X2__1KHnB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner2\":\"style_spinner2__2wGl0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TreatmentHistorymodal\":\"style_TreatmentHistorymodal__eRVR6\",\"modal\":\"style_modal__2qqIL\",\"modal-show\":\"style_modal-show__26Sq5\",\"openModal\":\"style_openModal__1tOBU\",\"modal-bg-show\":\"style_modal-bg-show__b4n7j\",\"TreatmentHistoryRead\":\"style_TreatmentHistoryRead__21Vmk\",\"TreatmentHistoryRead_title\":\"style_TreatmentHistoryRead_title__1frzE\",\"TreatmentHistoryRead_border\":\"style_TreatmentHistoryRead_border__38o5M\",\"TreatmentHistoryRead_1_table\":\"style_TreatmentHistoryRead_1_table__mus_e\",\"TreatmentHistoryRead_2\":\"style_TreatmentHistoryRead_2__1cdUG\",\"TreatmentHistoryRead_2_Totaltable\":\"style_TreatmentHistoryRead_2_Totaltable__qAFA9\",\"TreatmentHistoryRead_2_title\":\"style_TreatmentHistoryRead_2_title__3_T85\",\"TreatmentHistoryRead_2_table\":\"style_TreatmentHistoryRead_2_table__2tuZH\",\"TreatmentHistoryRead_2_table_thead\":\"style_TreatmentHistoryRead_2_table_thead__2glBN\",\"TreatmentHistoryRead_3\":\"style_TreatmentHistoryRead_3__3p0JY\",\"TreatmentHistoryRead_3_title\":\"style_TreatmentHistoryRead_3_title__3I6nz\",\"TreatmentHistoryRead_3_Totaltable\":\"style_TreatmentHistoryRead_3_Totaltable__1MnPh\",\"TreatmentHistoryRead_3_table\":\"style_TreatmentHistoryRead_3_table__2JZTc\",\"TreatmentHistoryReadClose\":\"style_TreatmentHistoryReadClose__3k39n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DataAnalysis\":\"DataAnalysis_DataAnalysis__3NTuV\",\"DataAnalysis_row1\":\"DataAnalysis_DataAnalysis_row1__oRlep\",\"DataAnalysis_row2\":\"DataAnalysis_DataAnalysis_row2__RJG1-\",\"DataAnalysis_col\":\"DataAnalysis_DataAnalysis_col__2lXR5\",\"DataAnalysis_col_header\":\"DataAnalysis_DataAnalysis_col_header__255NV\",\"DataAnalysis_col_content\":\"DataAnalysis_DataAnalysis_col_content__v7gWv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InspectionImgModal\":\"InspectionImgFormModal_InspectionImgModal__2Oiqs\",\"modal\":\"InspectionImgFormModal_modal__36N0g\",\"modal-show\":\"InspectionImgFormModal_modal-show__1ExMY\",\"openModal\":\"InspectionImgFormModal_openModal__Proue\",\"modal-bg-show\":\"InspectionImgFormModal_modal-bg-show__2P0aA\",\"InspectionImgForm\":\"InspectionImgFormModal_InspectionImgForm__1QSRz\",\"InspectionImgForm_title\":\"InspectionImgFormModal_InspectionImgForm_title__26CWr\",\"InspectionImgForm_1\":\"InspectionImgFormModal_InspectionImgForm_1__1AyiO\",\"InspectionImgForm_1_1\":\"InspectionImgFormModal_InspectionImgForm_1_1__1opcL\",\"InspectionImgForm_1_1_1\":\"InspectionImgFormModal_InspectionImgForm_1_1_1__3HW4X\",\"InspectionImgForm_1_1_2\":\"InspectionImgFormModal_InspectionImgForm_1_1_2__Xkuu7\",\"InspectionImgForm_1_2\":\"InspectionImgFormModal_InspectionImgForm_1_2__1UdKa\",\"InspectionImgForm_2\":\"InspectionImgFormModal_InspectionImgForm_2__3Jorr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InspectionImgCreateModal\":\"InspectionImgCreateFormModal_InspectionImgCreateModal__Kugic\",\"modal\":\"InspectionImgCreateFormModal_modal__8y5eb\",\"modal-show\":\"InspectionImgCreateFormModal_modal-show__1u9zy\",\"openModal\":\"InspectionImgCreateFormModal_openModal__18aQb\",\"modal-bg-show\":\"InspectionImgCreateFormModal_modal-bg-show__2FLRI\",\"InspectionImgCreateForm\":\"InspectionImgCreateFormModal_InspectionImgCreateForm__2xalN\",\"InspectionImgCreateForm_title\":\"InspectionImgCreateFormModal_InspectionImgCreateForm_title__3loLs\",\"InspectionImgCreateForm_1\":\"InspectionImgCreateFormModal_InspectionImgCreateForm_1__1YnWj\",\"InspectionImgCreateForm_1_1\":\"InspectionImgCreateFormModal_InspectionImgCreateForm_1_1__wBXJ-\",\"InspectionImgCreateForm_1_1_1\":\"InspectionImgCreateFormModal_InspectionImgCreateForm_1_1_1__1WJ0P\",\"InspectionImgCreateForm_1_1_2\":\"InspectionImgCreateFormModal_InspectionImgCreateForm_1_1_2__2v1lL\",\"InspectionImgCreateForm_1_2\":\"InspectionImgCreateFormModal_InspectionImgCreateForm_1_2__DJ5oz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InspectionImgModifyModal\":\"InspectionImgModifyModal_InspectionImgModifyModal__2BXTn\",\"modal\":\"InspectionImgModifyModal_modal__2-_C7\",\"modal-show\":\"InspectionImgModifyModal_modal-show__35-QE\",\"openModal\":\"InspectionImgModifyModal_openModal__2AuJ4\",\"modal-bg-show\":\"InspectionImgModifyModal_modal-bg-show__xvftg\",\"InspectionImgCreateForm\":\"InspectionImgModifyModal_InspectionImgCreateForm__2PjWW\",\"InspectionImgCreateForm_title\":\"InspectionImgModifyModal_InspectionImgCreateForm_title__2s63d\",\"InspectionImgCreateForm_1\":\"InspectionImgModifyModal_InspectionImgCreateForm_1__Z0o6V\",\"InspectionImgCreateForm_1_1\":\"InspectionImgModifyModal_InspectionImgCreateForm_1_1__2YjmF\",\"InspectionImgCreateForm_1_1_1\":\"InspectionImgModifyModal_InspectionImgCreateForm_1_1_1__1d2Ve\",\"InspectionImgCreateForm_1_1_2\":\"InspectionImgModifyModal_InspectionImgCreateForm_1_1_2__3xw30\",\"InspectionImgCreateForm_1_2\":\"InspectionImgModifyModal_InspectionImgCreateForm_1_2__1x49N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"RegisterStateChange\":\"RegisterStateChange_RegisterStateChange__A5vjP\",\"RegisterStateChange_content_table\":\"RegisterStateChange_RegisterStateChange_content_table__3aHLD\",\"RegisterStateChange_content_stateBtn\":\"RegisterStateChange_RegisterStateChange_content_stateBtn__3GWT5\",\"RegisterStateChange_content_stateBtn_item\":\"RegisterStateChange_RegisterStateChange_content_stateBtn_item__3UUmM\",\"RegisterStateChange_content_stateBtn_item_1\":\"RegisterStateChange_RegisterStateChange_content_stateBtn_item_1__pQwav\",\"RegisterStateChange_content_stateBtn_item_2\":\"RegisterStateChange_RegisterStateChange_content_stateBtn_item_2__mpf_F\",\"RegisterStateChange_content_stateBtn_item_3\":\"RegisterStateChange_RegisterStateChange_content_stateBtn_item_3__1Y77q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InspectionModal\":\"InspectionBarcodeModal_InspectionModal__1X4lT\",\"modal\":\"InspectionBarcodeModal_modal__1ovHv\",\"modal-show\":\"InspectionBarcodeModal_modal-show__3B8I2\",\"openModal\":\"InspectionBarcodeModal_openModal__15Rex\",\"modal-bg-show\":\"InspectionBarcodeModal_modal-bg-show__cZQoY\",\"InspectionBarcodePop\":\"InspectionBarcodeModal_InspectionBarcodePop__2T1bY\",\"InspectionBarcodePop_title\":\"InspectionBarcodeModal_InspectionBarcodePop_title__3fTQp\",\"InspectionBarcodePop_1\":\"InspectionBarcodeModal_InspectionBarcodePop_1__3t1EC\",\"InspectionBarcodePop_1_1\":\"InspectionBarcodeModal_InspectionBarcodePop_1_1__3psuu\",\"InspectionBarcodePop_1_2\":\"InspectionBarcodeModal_InspectionBarcodePop_1_2__3IURs\",\"InspectionBarcodePop_1_3\":\"InspectionBarcodeModal_InspectionBarcodePop_1_3__3pydY\"};","import React, { useState } from \"react\";\r\nimport DaumPostcode from 'react-daum-postcode';\r\nimport style from \"./style.module.css\";\r\n\r\nexport const Modal = (props) => {\r\n  const {open, close, send} = props;\r\n\r\n  // 다음 주소 API\r\n  const handleComplete = (data) => {\r\n    let fullAddress = data.address;\r\n    let extraAddress = ''; \r\n    \r\n    if (data.addressType === 'R') {\r\n      if (data.bname !== '') {\r\n        extraAddress += data.bname;\r\n      }\r\n      if (data.buildingName !== '') {\r\n        extraAddress += (extraAddress !== '' ? `, ${data.buildingName}` : data.buildingName);\r\n      }\r\n      fullAddress += (extraAddress !== '' ? ` (${extraAddress})` : '');\r\n    }\r\n\r\n    //console.log(fullAddress);  // e.g. '서울 성동구 왕십리로2길 20 (성수동1가)'\r\n    \r\n    // 주소 데이터를 createForm으로 보냄\r\n    send(data);\r\n    return data;\r\n  }\r\n\r\n  return(\r\n    <div className={`${style.AddressModal}`}>\r\n      <div className={open ? `${style.openModal} ${style.modal}`: `${style.modal}`}>\r\n        {open? (\r\n          <section>\r\n            <div className={`${style.AddressModal_header}`}>\r\n              <div>우편번호 찾기</div>\r\n              <button className=\"close\" onClick={close}>\r\n                {\" \"}\r\n                &times;{\" \"}\r\n              </button>\r\n            </div>\r\n            <main>\r\n              <DaumPostcode\r\n                onComplete={handleComplete} \r\n                { ...props }\r\n              />\r\n            </main>\r\n          </section>\r\n        ):null}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import axios from \"axios\";\r\n\r\nexport function getPatientList(keyword=\"\") {\r\n  const promise = axios.get(\"/patient\", {params: {keyword}});\r\n  return promise;\r\n}\r\n\r\nexport function updatePatient(patient) {\r\n  const promise = axios.put(\"/patient\", patient);\r\n  return promise;\r\n}\r\n\r\nexport function createPatient(patient) {\r\n  const promise = axios.post(\"/patient\", patient);\r\n  return promise;\r\n}","import style from \"./style.module.css\";\r\n\r\nexport const ValidationModal = (props) => {\r\n  const {open, close, errorMsg } = props;\r\n\r\n  return (\r\n    <div className={`${style.ValidationModal}`}>\r\n      <div className={open ? `${style.openModal} ${style.modal}`: `${style.modal}`}>\r\n        {open? (\r\n          <section>\r\n            <div className={`${style.ValidationModal_header}`}>\r\n              <div>{errorMsg.title}</div>\r\n              <button className=\"close\" onClick={close}>\r\n                {\" \"}\r\n                &times;{\" \"}\r\n              </button>\r\n            </div>\r\n            <main>\r\n              {errorMsg.content}\r\n            </main>\r\n          </section>\r\n        ):null}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { Modal } from \"../../components/common/Address\";\r\nimport React, { useState } from \"react\";\r\nimport { createPatient } from \"apis/patient\";\r\nimport { ToastsContainer, ToastsContainerPosition, ToastsStore } from \"react-toasts\";\r\nimport { ValidationModal } from \"components/common/ValidationModal\";\r\n\r\nfunction PatientCreateForm(props) {\r\n  // 환자 상태\r\n  const [patient, setPatient] = useState({\r\n    patient_name: \"\",\r\n    patient_ssn1: \"\",\r\n    patient_ssn2: \"\",\r\n    patient_sex: \"M\",\r\n    patient_tel1: \"010\",\r\n    patient_tel2: \"\",\r\n    patient_tel3: \"\",\r\n    patient_zipcode: \"\",\r\n    patient_address: \"\",\r\n    patient_detailaddress1: \"\",\r\n    patient_detailaddress2: \"\",\r\n  });\r\n\r\n  // 마스킹 상태\r\n  const [masking, setMasking] = useState(\"\");\r\n\r\n  //---------------------------------------------------------------------------------------\r\n  // validation 모달 상태(open일 떄 true로 바뀌어 열림)\r\n  const [validationModalOpen, setValidationModalOpen] = useState(false);\r\n  const openvalidationModal = () => {\r\n    setValidationModalOpen(true);\r\n  };\r\n  const closeValidationModal = () => {\r\n    setValidationModalOpen(false);\r\n  };\r\n  // 유효성 검사 오류 메시지\r\n  const [errorMsg, setErrorMsg] = useState({\r\n    title: \"환자 등록 실패\",\r\n    content: \"\",\r\n  });\r\n\r\n  //---------------------------------------------------------------------------------------\r\n  // 실행 함수\r\n  const handleChange = (event) => {\r\n    setPatient({\r\n      ...patient,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleChangeSsn = (event) => {\r\n    setPatient({\r\n      ...patient,\r\n      patient_ssn2: event.target.value,\r\n    });\r\n    setMasking(event.target.value);\r\n  };\r\n\r\n  // 환자 등록\r\n  const handleCreate = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      var patientValidation = true;\r\n\r\n      if (patient.patient_name === \"\") {\r\n        patientValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"환자명을 입력해주세요.\",\r\n        });\r\n        return openvalidationModal();\r\n      } else if (patient.patient_name.length < 2) {\r\n        patientValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"올바른 환자명을 작성해주세요.\",\r\n        });\r\n        return openvalidationModal();\r\n      } else if (patient.patient_ssn1 === \"\" || patient.patient_ssn2 === \"\") {\r\n        patientValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"주민등록번호를 입력해주세요.\",\r\n        });\r\n        return openvalidationModal();\r\n      } else if (patient.patient_ssn1.length !== 6 || patient.patient_ssn2.length !== 7) {\r\n        patientValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"올바른 주민등록번호를 입력해주세요.\",\r\n        });\r\n        return openvalidationModal();\r\n      } else if (patient.patient_tel2 === \"\" || patient.patient_tel3 === \"\") {\r\n        patientValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"전화번호를 입력해주세요.\",\r\n        });\r\n        return openvalidationModal();\r\n      } else if (patient.patient_tel2.length < 3 || patient.patient_tel2.length > 4 || patient.patient_tel3.length < 3 || patient.patient_tel3.length > 4) {\r\n        patientValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"올바른 전화번호를 입력해주세요.\",\r\n        });\r\n        return openvalidationModal();\r\n      }\r\n\r\n      if (patientValidation) {\r\n        const response = await createPatient(patient);\r\n        console.log(response.data.result);\r\n        if (response.data.result === \"success\") {\r\n          if (response.data) {\r\n            setPatient({\r\n              patient_name: \"\",\r\n              patient_ssn1: \"\",\r\n              patient_ssn2: \"\",\r\n              patient_sex: \"M\",\r\n              patient_tel1: \"010\",\r\n              patient_tel2: \"\",\r\n              patient_tel3: \"\",\r\n              patient_zipcode: \"\",\r\n              patient_address: \"\",\r\n              patient_detailaddress1: \"\",\r\n              patient_detailaddress2: \"\",\r\n            });\r\n            setMasking(\"\");\r\n            ToastsStore.success(\"환자를 등록했습니다.\");\r\n            props.publishTopic(1);\r\n          }\r\n        }      \r\n      } else {\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"이미 등록된 환자입니다.\",\r\n        });\r\n        return openvalidationModal();\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  //---------------------------------------------------------------------------------------\r\n  // 주소 모달 상태(open일 떄 true로 바뀌어 열림)\r\n  const [addressModalOpen, setAddressModalOpen] = useState(false);\r\n\r\n  const openAddressModal = (event) => {\r\n    setAddressModalOpen(true);\r\n  };\r\n  const closeAddressModal = () => {\r\n    setAddressModalOpen(false);\r\n  };\r\n  const sendModal = (data) => {\r\n    setAddressModalOpen(false);\r\n    // console.log(\"send 실행\", data);\r\n    setPatient({\r\n      ...patient,\r\n      patient_zipcode: data.zonecode,\r\n      patient_address: data.address,\r\n    });\r\n    if (data.buildingName === \"\") {\r\n      setPatient((prevPatient) => {\r\n        return {\r\n          ...prevPatient,\r\n          patient_detailaddress2: data.bname,\r\n        };\r\n      });\r\n    } else {\r\n      setPatient((prevPatient) => {\r\n        return {\r\n          ...prevPatient,\r\n          patient_detailaddress2: data.bname + \", \" + data.buildingName,\r\n        };\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-4\">\r\n      <div className={`Patient_title`}>\r\n        환자 등록\r\n        <React.Fragment>\r\n          <ValidationModal open={validationModalOpen} close={closeValidationModal} errorMsg={errorMsg}></ValidationModal>\r\n        </React.Fragment>\r\n      </div>\r\n      <div className={`border p-3`}>\r\n        <form onSubmit={handleCreate}>\r\n          <div className=\"Patient_item\">\r\n            <label className=\"col-sm-3 m-0\">환자명 * : </label>\r\n            <div className=\"col-sm\">\r\n              <input type=\"text\" name=\"patient_name\" placeholder=\"환자명\" value={patient.patient_name} onChange={handleChange}></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"Patient_item\">\r\n            <label className=\"col-sm-3 m-0\">주민등록번호 * : </label>\r\n            <div className=\"row ml-3\">\r\n              <input type=\"text\" className=\"col-sm\" name=\"patient_ssn1\" value={patient.patient_ssn1} placeholder=\"앞자리\" onChange={handleChange}></input>\r\n              <div className=\"mr-2 ml-2 d-flex align-items-center\">-</div>\r\n              <input type=\"text\" className=\"col-sm\" name=\"user_ssn2\" value={masking} placeholder=\"뒷자리\" onChange={handleChangeSsn} \r\n                onBlur={() => {setMasking(masking?.replace(/(?<=.{1})./gi, \"*\"));}}></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"Patient_item\">\r\n            <label className=\"col-sm-3 m-0\">성별 * : </label>\r\n            <div className=\"col-sm d-flex align-items-center\">\r\n              <input type=\"radio\" name=\"patient_sex\" value=\"M\" checked={patient.patient_sex === \"M\" ? true : false} onChange={handleChange}></input>\r\n              <label className=\"ml-3 mb-0\">남</label>\r\n            </div>\r\n            <div className=\"col-sm d-flex align-items-center\">\r\n              <input type=\"radio\" name=\"patient_sex\" value=\"F\" checked={patient.patient_sex === \"F\" ? true : false} onChange={handleChange}></input>\r\n              <label className=\"ml-3 mb-0\">여</label>\r\n            </div>\r\n          </div>\r\n          <div className=\"Patient_item\">\r\n            <label className=\"col-sm-3 m-0\">전화 번호 * : </label>\r\n            <div className=\"row col-sm\">\r\n              <select className=\"col-sm-2 ml-3\" name=\"patient_tel1\" value={patient.patient_tel1} onChange={handleChange}>\r\n                <option value=\"010\">010</option>\r\n                <option value=\"011\">011</option>\r\n                <option value=\"016\">016</option>\r\n                <option value=\"017\">017</option>\r\n                <option value=\"02\">02</option>\r\n                <option value=\"031\">031</option>\r\n                <option value=\"032\">032</option>\r\n                <option value=\"033\">033</option>\r\n                <option value=\"041\">041</option>\r\n                <option value=\"042\">042</option>\r\n                <option value=\"043\">043</option>\r\n                <option value=\"044\">044</option>\r\n                <option value=\"051\">051</option>\r\n                <option value=\"052\">052</option>\r\n                <option value=\"053\">053</option>\r\n                <option value=\"054\">054</option>\r\n                <option value=\"055\">055</option>\r\n                <option value=\"061\">061</option>\r\n                <option value=\"062\">062</option>\r\n                <option value=\"063\">063</option>\r\n                <option value=\"064\">064</option>\r\n              </select>\r\n              <div className=\"mr-2 ml-2 d-flex align-items-center\">-</div>\r\n              <input type=\"text\" className=\"col-sm-2\" name=\"patient_tel2\" value={patient.patient_tel2} onChange={handleChange}></input>\r\n              <div className=\"mr-2 ml-2 d-flex align-items-center\">-</div>\r\n              <input type=\"text\" className=\"col-sm-2\" name=\"patient_tel3\" value={patient.patient_tel3} onChange={handleChange}></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"Patient_item\">\r\n            <label className=\"col-sm-3 m-0\">주소 : </label>\r\n            <div className=\"col-sm\">\r\n              <div className=\"row mb-2\">\r\n                <input type=\"text\" className=\"col-sm-3 ml-3\" name=\"patient_zipcode\" value={patient.patient_zipcode} placeholder=\"우편번호\" onChange={handleChange} readOnly></input>\r\n                <React.Fragment>\r\n                  <button className=\"button_team2_empty\" onClick={openAddressModal}>\r\n                    우편번호 찾기\r\n                  </button>\r\n                  <Modal open={addressModalOpen} close={closeAddressModal} send={sendModal}></Modal>\r\n                </React.Fragment>\r\n              </div>\r\n              <input type=\"text\" className=\"col-sm mb-2\" name=\"patient_address\" placeholder=\"주소\" value={patient.patient_address} onChange={handleChange} readOnly></input>\r\n              <div className=\"row  no-gutters mb-2\">\r\n                <input type=\"text\" className=\"col-sm mr-2\" name=\"patient_detailaddress1\" value={patient.patient_detailaddress1} placeholder=\"상세주소\" onChange={handleChange}></input>\r\n                <input type=\"text\" className=\"col-sm\" name=\"patient_detailaddress2\" value={patient.patient_detailaddress2} placeholder=\"참고항목\" onChange={handleChange} readOnly></input>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex justify-content-end\">\r\n            <button className=\"button_team2_fill\" type=\"submit\">\r\n              등록\r\n            </button>\r\n            <ToastsContainer store={ToastsStore} position={ToastsContainerPosition.TOP_CENTER} lightBackground />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PatientCreateForm;\r\n","import style from \"./style.module.css\";\r\nfunction Spinner(props) {\r\n\r\n\r\n  return (\r\n    <div className={`${style.spinner2}`}>\r\n      <div className={`spinner-border text-primary`} role=\"status\">\r\n        <span className=\"sr-only\">loading...</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Spinner;\r\n","import { FcSearch } from \"react-icons/fc\";\r\n\r\nfunction Nodata(props) {\r\n  return (\r\n    <div className=\"d-flex align-items-center justify-content-center mt-5\" style={{fontSize: \"1.5rem\", height: \"100%\"}}>\r\n      <div><FcSearch/> 데이터가 없습니다.</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Nodata;","import React, { useEffect, useState } from \"react\";\r\nimport { AutoSizer, List } from \"react-virtualized\";\r\nimport { getPatientList } from \"apis/patient\";\r\nimport moment from \"moment\";\r\nimport Spinner from \"components/common/Spinner\";\r\nimport Nodata from \"components/common/NoData\";\r\n\r\nfunction PatientList(props) {\r\n  // 환자 목록 상태\r\n  const [patients, setPatients] = useState([]);\r\n\r\n  // 검색 상태\r\n  const [keyword, setKeyword] = useState(\"\");\r\n\r\n  // 환자 코드 비교를 위한 상태\r\n  const [id, setId] = useState(\"\");\r\n\r\n  // Spinner\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleChange = (event) => {\r\n    setKeyword(event.target.value);\r\n  };\r\n\r\n  // 검색\r\n  const handleSearch = async (event) => {\r\n    setLoading(true);\r\n    try {\r\n      event.preventDefault();\r\n      const response = await getPatientList(keyword);\r\n      setPatients(response.data.patientList);\r\n    } catch(error) {\r\n      console.log(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };  \r\n\r\n  // 환자 선택\r\n  const handleClick = (patient) => {\r\n    setId(patient.patient_id);\r\n    props.changePatient(patient);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const work = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const response = await getPatientList();\r\n        setPatients(response.data.patientList);\r\n      } catch(error) {\r\n        console.log(error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    work();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // console.log(\"받습니다\", props.message);\r\n    const work = async () => {\r\n      try {\r\n        const response = await getPatientList();\r\n        setPatients(response.data.patientList);\r\n        setLoading(true);\r\n      } catch(error) {\r\n        console.log(error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    work();\r\n  }, [props.message])\r\n    \r\n  const rowRenderer = ({index, key, style}) => {\r\n    return (\r\n      <div className=\"PatientList_tr\" key={key} style={style} onClick={() => handleClick(patients[index])}>\r\n        <div style={{width: \"3%\"}} key={patients.patient_id}><input type=\"checkbox\" name=\"patientCheck\" checked={id === patients[index].patient_id? true : false} width={50} readOnly></input></div>\r\n        <div style={{width: \"8%\"}}>{patients[index].patient_id}</div>\r\n        <div style={{width: \"10%\"}}>{patients[index].patient_name}</div>\r\n        <div style={{width: \"8%\"}}>{patients[index].patient_ssn1}</div>\r\n        <div style={{width: \"5%\"}}>{patients[index].patient_sex === \"M\"? \"남\" : \"여\"}</div>\r\n        <div style={{width: \"12%\"}}>{patients[index].patient_tel1}-{patients[index].patient_tel2}-{patients[index].patient_tel3}</div>\r\n        <div style={{width: \"41%\"}}>{patients[index].patient_address} {patients[index].patient_detailaddress1} {patients[index].patient_detailaddress2}</div>\r\n        <div style={{width: \"13%\"}}>{moment(patients[index].patient_regdate).format(\"yyyy-MM-DD\")}</div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // useEffect(() => {\r\n  //   console.log(\"받습니다\", props.message);\r\n  // },[props])\r\n\r\n  return (    \r\n    <div className=\"PatientList\">\r\n      <div className={`Patient_title`}>환자 목록</div>\r\n      <div className={`PatientList_content border`}>\r\n        <div className=\"mb-2\">\r\n          <input type=\"text\" className=\"col-3\" name=\"search\" value={keyword} placeholder=\"이름/생년월일을 입력하세요.\" onChange={handleChange}></input>\r\n          <button className=\"button_team2_fill\" onClick={handleSearch}>검색</button>\r\n        </div>\r\n        <div className=\"text-center\">\r\n            <div className={`PatientList_Table`}>\r\n              <div style={{width: \"3%\"}}></div>\r\n              <div style={{width: \"9%\"}}>환자 코드</div>\r\n              <div style={{width: \"8%\"}}>환자명</div>\r\n              <div style={{width: \"10%\"}}>생년월일</div>\r\n              <div style={{width: \"4%\"}}>성별</div>\r\n              <div style={{width: \"15%\"}}>전화번호</div>\r\n              <div style={{width: \"39%\"}}>주소</div>\r\n              <div style={{width: \"13%\"}}>등록일</div>\r\n              <div style={{width: \"2%\"}}></div>\r\n            </div>\r\n          <div>\r\n            {loading ? <Spinner /> \r\n            : \r\n            patients.length === 0 ?\r\n            <React.Fragment>\r\n              <Nodata />\r\n            </React.Fragment>\r\n            :\r\n            <>\r\n              <AutoSizer disableHeight>\r\n                {({width, height}) => {\r\n                  return <List width={width} height={675} list={patients} rowCount={patients.length} rowHeight={44} rowRenderer={rowRenderer} overscanRowCount={5}></List>\r\n                }}\r\n              </AutoSizer>\r\n            </>}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PatientList;","import { Modal } from \"../../components/common/Address\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport moment from \"moment\";\r\nimport { updatePatient } from \"apis/patient\";\r\nimport { ToastsContainer, ToastsContainerPosition, ToastsStore } from \"react-toasts\";\r\nimport { ValidationModal } from \"components/common/ValidationModal\";\r\n\r\nfunction PatientUpdateForm(props) {\r\n  // 환자 상태\r\n  const [patient, setPatient] = useState({});\r\n  const [patientId, setPatientId] = useState(\"\");\r\n\r\n  // 마스킹 상태\r\n  const [masking, setMasking] = useState(\"\");\r\n  \r\n  //---------------------------------------------------------------------------------------\r\n   // validation 모달 상태(open일 떄 true로 바뀌어 열림)\r\n   const [validationModalOpen, setValidationModalOpen] = useState(false);\r\n   // 유효성 검사 오류 메시지\r\n   const [errorMsg, setErrorMsg] = useState({\r\n     title : \"환자정보 수정 실패\",\r\n     content: \"\"\r\n   }); \r\n   const openvalidationModal = () => {\r\n     setValidationModalOpen(true);\r\n   }; \r\n   const closeValidationModal = () => {\r\n     setValidationModalOpen(false);\r\n   };\r\n\r\n  //---------------------------------------------------------------------------------------\r\n  // 실행 함수\r\n  const handleChange = (event) => {\r\n    setPatient({\r\n      ...patient,\r\n      patient_id: props.patient.patient_id,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  };\r\n\r\n  const handleChangeSsn = (event) => {\r\n    setPatient({\r\n      ...patient,\r\n      patient_ssn2 : event.target.value\r\n    });\r\n    setMasking(event.target.value);\r\n  };\r\n\r\n\r\n  // 환자 정보 수정\r\n  const handleUpdate = async (event) => {\r\n    event.preventDefault();\r\n    try{\r\n      var patientValidation = true;\r\n\r\n      if (patient.patient_name === \"\") {\r\n        patientValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"환자명을 입력해주세요.\",\r\n        });\r\n        return openvalidationModal();\r\n      } else if (patient.patient_name.length < 2) {\r\n        patientValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"올바른 환자명을 작성해주세요.\",\r\n        });\r\n        return openvalidationModal();\r\n      } else if (patient.patient_ssn1 === \"\" || patient.patient_ssn2 === \"\") {\r\n        patientValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"주민등록번호를 입력해주세요.\",\r\n        });\r\n        return openvalidationModal();\r\n      } else if (patient.patient_ssn1.length !== 6 || patient.patient_ssn2.length !== 7) {\r\n        patientValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"올바른 주민등록번호를 입력해주세요.\",\r\n        });\r\n        return openvalidationModal();\r\n      } else if (patient.patient_tel2 === \"\" || patient.patient_tel3 === \"\") {\r\n        patientValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"전화번호를 입력해주세요.\",\r\n        });\r\n        return openvalidationModal();\r\n      } else if (patient.patient_tel2.length < 3 || patient.patient_tel2.length > 4 || patient.patient_tel3.length < 3 || patient.patient_tel3.length > 4) {\r\n        patientValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"올바른 전화번호를 입력해주세요.\",\r\n        });\r\n        return openvalidationModal();\r\n      }\r\n\r\n      if (patientValidation) {\r\n        const response = await updatePatient(patient);\r\n        if (response.data) {\r\n          ToastsStore.success(\"환자 정보를 수정했습니다.\");\r\n          props.publishTopic(0);\r\n        }\r\n      }      \r\n    } catch(error) {\r\n      console.log(error);\r\n    }    \r\n  }; \r\n\r\n  //---------------------------------------------------------------------------------------\r\n  // 주소 모달 상태(open일 떄 true로 바뀌어 열림)\r\n  const [addressModalOpen, setAddressModalOpen] = useState(false);\r\n\r\n  const openAddressModal = (event) => {\r\n    event.preventDefault();\r\n    setAddressModalOpen(true);\r\n  };\r\n  const closeAddressModal = () => {\r\n    setAddressModalOpen(false);\r\n  };\r\n  const sendModal = (data) => {\r\n    setAddressModalOpen(false);\r\n    // console.log(\"send1 실행\", data);\r\n    setPatient({\r\n      ...patient,\r\n      patient_zipcode: data.zonecode, \r\n      patient_address: data.address\r\n    })\r\n    if (data.buildingName === \"\") {\r\n      setPatient(prevPatient => {\r\n        return {\r\n          ...prevPatient,\r\n          patient_detailaddress2: data.bname          \r\n        };\r\n      });\r\n    } else {\r\n      setPatient(prevPatient => {\r\n        return {\r\n          ...prevPatient,\r\n          patient_detailaddress2: data.bname + \", \" + data.buildingName   \r\n        };\r\n      });\r\n    }\r\n  };\r\n\r\n  //---------------------------------------------------------------------------------------\r\n  // 마운트 시 실행 함수\r\n  useEffect(() => {\r\n    setPatient({\r\n      patient_id: props.patient.patient_id,\r\n      patient_name: props.patient.patient_name,\r\n      patient_ssn1: props.patient.patient_ssn1,\r\n      patient_ssn2: props.patient.patient_ssn2,\r\n      patient_sex: props.patient.patient_sex,\r\n      patient_tel1: props.patient.patient_tel1,\r\n      patient_tel2: props.patient.patient_tel2,\r\n      patient_tel3: props.patient.patient_tel3, \r\n      patient_zipcode: props.patient.patient_zipcode, \r\n      patient_address: props.patient.patient_address, \r\n      patient_detailaddress1: props.patient.patient_detailaddress1, \r\n      patient_detailaddress2: props.patient.patient_detailaddress2,\r\n      patient_regdate: props.patient.patient_regdate\r\n    });\r\n    setPatientId(props.patient.patient_id);\r\n\r\n    if (props.patient.patient_ssn2) {\r\n      let ssn2Masking = props.patient.patient_ssn2.slice(0, 1) + \"******\";\r\n      setMasking(ssn2Masking);\r\n    }\r\n  }, [props.patient]);\r\n\r\n  return (\r\n    <div>\r\n      <div className={`Patient_title`}>환자 정보 수정</div>\r\n      <div className={`border p-3`}>\r\n        <form onSubmit={handleUpdate}>\r\n          <div className=\"Patient_item\">\r\n            <label className=\"col-sm-3 pl-3 p-0 m-0\">환자 코드 : </label>\r\n            <div className=\"col-sm d-flex \">{patient.patient_id}</div>\r\n            <React.Fragment>\r\n              <ValidationModal open={validationModalOpen} close={closeValidationModal} errorMsg={errorMsg}></ValidationModal>\r\n            </React.Fragment>\r\n          </div>\r\n          <div className=\"Patient_item\">\r\n            <label className=\"col-sm-3 pl-3 p-0 m-0\">환자명 * : </label>\r\n            <div className=\"col-sm\">\r\n              <input type=\"text\" name=\"patient_name\" value={patient.patient_name} placeholder=\"환자명\" onChange={handleChange}></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"Patient_item\">\r\n            <label className=\"col-sm-3 m-0\">주민등록번호 * : </label>\r\n            <div className=\"row ml-3\">\r\n              <input type=\"text\" className=\"col-sm\" name=\"patient_ssn1\" value={patient.patient_ssn1} placeholder=\"앞자리\" onChange={handleChange}></input>\r\n              <div className=\"mr-2 ml-2 d-flex align-items-center\">-</div>\r\n              <input type=\"text\" className=\"col-sm\" name=\"patient_ssn2\" value={masking} placeholder=\"뒷자리\" \r\n                     onChange={handleChangeSsn} onBlur={() => {setMasking(masking?.replace(/(?<=.{1})./gi, '*'));}}></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"Patient_item\">\r\n            <label className=\"col-sm-3 pl-3 p-0 m-0\">성별 * : </label>\r\n            <div className=\"col-sm d-flex align-items-center\">\r\n              <input type=\"radio\" name=\"patient_sex\" value=\"M\" checked={patient.patient_sex === \"M\"? true : false} onChange={handleChange}></input>\r\n              <label className=\"ml-3 mb-0\">남</label>\r\n            </div>\r\n            <div className=\"col-sm d-flex align-items-center\">\r\n              <input type=\"radio\" name=\"patient_sex\" value=\"F\" checked={patient.patient_sex === \"F\"? true : false} onChange={handleChange}></input>\r\n              <label className=\"ml-3 mb-0\">여</label>\r\n            </div>\r\n          </div>\r\n          <div className=\"Patient_item\">\r\n            <label className=\"col-sm-3 m-0\">전화 번호 * : </label>\r\n            <div className=\"row col-sm\">\r\n              <select className=\"col-sm-2 ml-3\" name=\"patient_tel1\" value={patient.patient_tel1} onChange={handleChange}>\r\n                <option value=\"010\">010</option>\r\n                <option value=\"011\">011</option>\r\n                <option value=\"016\">016</option>\r\n                <option value=\"017\">017</option>\r\n                <option value=\"02\">02</option>\r\n                <option value=\"031\">031</option>\r\n                <option value=\"032\">032</option>\r\n                <option value=\"033\">033</option>\r\n                <option value=\"041\">041</option>\r\n                <option value=\"042\">042</option>\r\n                <option value=\"043\">043</option>\r\n                <option value=\"044\">044</option>\r\n                <option value=\"051\">051</option>\r\n                <option value=\"052\">052</option>\r\n                <option value=\"053\">053</option>\r\n                <option value=\"054\">054</option>\r\n                <option value=\"055\">055</option>\r\n                <option value=\"061\">061</option>\r\n                <option value=\"062\">062</option>\r\n                <option value=\"063\">063</option>\r\n                <option value=\"064\">064</option>\r\n              </select>\r\n              <div className=\"mr-2 ml-2 d-flex align-items-center\">-</div>\r\n              <input type=\"text\" className=\"col-sm-2\" name=\"patient_tel2\" value={patient.patient_tel2} onChange={handleChange}></input>\r\n              <div className=\"mr-2 ml-2 d-flex align-items-center\">-</div>\r\n              <input type=\"text\" className=\"col-sm-2\" name=\"patient_tel3\" value={patient.patient_tel3} onChange={handleChange}></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"Patient_item\">\r\n            <label className=\"col-sm-3 m-0\">주소 : </label>\r\n            <div className=\"col-sm\">\r\n              <div className=\"row mb-2\"> \r\n                <input type=\"text\" className=\"col-sm-3 ml-3\" name=\"patient_zipcode\" value={patient.patient_zipcode} placeholder=\"우편번호\" readOnly></input>\r\n                <React.Fragment>\r\n                  <button className=\"button_team2_empty\" onClick={openAddressModal}>우편번호 찾기</button>\r\n                  <Modal open={addressModalOpen} close={closeAddressModal} send={sendModal}></Modal>\r\n                </React.Fragment>   \r\n              </div>\r\n              <input type=\"text\" className=\"col-sm mb-2\" name=\"patient_address\" value={patient.patient_address} placeholder=\"주소\" readOnly></input>\r\n              <div className=\"row no-gutters mb-2\">\r\n                <input type=\"text\" className=\"col-sm mr-2\" name=\"patient_detailaddress1\" value={patient.patient_detailaddress1} placeholder=\"상세주소\" onChange={handleChange}></input>\r\n                <input type=\"text\" className=\"col-sm\" name=\"patient_detailaddress2\" value={patient.patient_detailaddress2} placeholder=\"참고항목\" readOnly></input>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"Patient_item\">\r\n            <label className=\"col-sm-3 col-form-label pl-3 p-0\">등록 날짜 : </label>\r\n            <div className=\"col-sm d-flex align-items-center\">{patientId !== undefined? moment(patient.patient_regdate).format(\"yyyy-MM-DD\") : \"\"}</div>\r\n          </div>\r\n          {patientId !== undefined?\r\n          <div className=\"d-flex justify-content-end\">\r\n            <button className=\"button_team2_fill\" type=\"submit\">수정</button>\r\n            <ToastsContainer store={ToastsStore} position={ToastsContainerPosition.TOP_CENTER} lightBackground/> \r\n          </div>\r\n          :<div className=\"d-flex justify-content-end\" style={{\"visibility\":\"hidden\"}}><button className=\"button_team2_fill\">수정</button></div>\r\n          }\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PatientUpdateForm;","import axios from \"axios\";\r\n\r\nexport function sendMqttMessage({topic, content}) {\r\n  const promise = axios.get(\"/sendMqttMessage\", {params:{topic, content}});\r\n  return promise;\r\n}\r\n\r\n","import PatientCreateForm from \"./PatientCreateForm\";\r\nimport PatientList from \"./PatientList\";\r\nimport PatientUpdateForm from \"./PatientUpdateForm\";\r\nimport \"./Patient.css\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRef } from \"react\";\r\nimport Paho from \"paho-mqtt\";\r\nimport { sendMqttMessage } from \"apis/mqtt\";\r\n\r\nfunction Patient(props) {\r\n  // 환자 상태\r\n  const [patient, setPatient] = useState({});\r\n\r\n  function changePatient(patient) {\r\n    setPatient({\r\n      patient_id: patient.patient_id,\r\n      patient_name: patient.patient_name,\r\n      patient_ssn1: patient.patient_ssn1,\r\n      patient_ssn2: patient.patient_ssn2,\r\n      patient_sex: patient.patient_sex,\r\n      patient_tel1: patient.patient_tel1,\r\n      patient_tel2: patient.patient_tel2,\r\n      patient_tel3: patient.patient_tel3, \r\n      patient_zipcode: patient.patient_zipcode, \r\n      patient_address: patient.patient_address, \r\n      patient_detailaddress1: patient.patient_detailaddress1, \r\n      patient_detailaddress2: patient.patient_detailaddress2,\r\n      patient_regdate: patient.patient_regdate\r\n    })\r\n  };\r\n  \r\n  //---------------------------------------------------------------------------------------\r\n  // MQTT\r\n  const [subTopic, setSubTopic] = useState(\"/138010/nurse\");\r\n\r\n  const pubMessage = [{\r\n    topic: \"/138010/nurse\",\r\n    content: \"updatePatient\"}, {\r\n      topic: \"/138010/nurse\",\r\n      content: \"addPatient\"\r\n    }];\r\n\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  let client = useRef(null);\r\n\r\n  const connectMqttBroker = () => {\r\n    // Paho.Mqtt.Client x\r\n    client.current = new Paho.Client(\"kosa3.iptime.org\", 50012, \"client-\" + new Date().getTime());\r\n    //client.current = new Paho.Client(\"localhost\", 61614, \"client-\" + new Date().getTime());\r\n\r\n    client.current.onConnectionLost = () => {\r\n      console.log(\"Mqtt 접속 끊김\");\r\n    };\r\n\r\n    client.current.onMessageArrived = (msg) => {\r\n      console.log(\"메시지 수신\");\r\n      var Jmessage = JSON.parse(msg.payloadString);\r\n      setMessage(() => {\r\n        return Jmessage;\r\n      });\r\n    };\r\n\r\n    client.current.connect({\r\n      onSuccess: () => {\r\n        client.current.subscribe(subTopic);\r\n        console.log(\"Mqtt 접속 성공\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const disconnectMqttBroker = () => {\r\n    client.current.disconnect(); // onConnectionLost 실행됨\r\n  };\r\n\r\n  const publishTopic = async (num) => {\r\n    await sendMqttMessage(pubMessage[num]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    connectMqttBroker();\r\n    console.log(\"MESSAGE: \", message);\r\n  });\r\n\r\n  return (\r\n    <div className={`row no-gutters Patient`}>\r\n      {/* 좌측 */}\r\n      <div className=\"Patient_left\">\r\n        {/* 환자 목록 */}\r\n        <PatientList patient={patient} changePatient={changePatient} message={message}/>\r\n      </div>\r\n\r\n      {/* 우측 */}\r\n      <div className=\"Patient_right\">\r\n        <div>\r\n          {/* 환자 정보 수정 */}\r\n          <PatientUpdateForm patient={patient} publishTopic={publishTopic}/>\r\n        </div>\r\n        <div>\r\n          {/* 환자 등록 */}\r\n          <PatientCreateForm publishTopic={publishTopic}/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Patient;","import axios from \"axios\";\r\n\r\n/* Register  ------------------------------------------------------------- */\r\n\r\n// register 불러오기 \r\nexport function getRegisterList(date, state=\"\"){\r\n  const promise = axios.get(\"/register\", {params: {date, state}});\r\n  return promise;\r\n}\r\n\r\n// register 등록하기\r\nexport function createRegister(register){\r\n  const promise = axios.post(\"/register\", register);\r\n  return promise;\r\n}\r\n\r\n// register 업데이트\r\nexport function updateRegister(register){\r\n  const promise = axios.put(\"/register\", register);\r\n  return promise;\r\n}\r\n\r\n// register 상태변경\r\nexport function changeRegisterState(register){\r\n  const promise = axios.put(\"/register/state\", register);\r\n  return promise;\r\n}\r\n\r\n/* User ------------------------------------------------------------------ */\r\n\r\n// 의사 불러오기\r\nexport function getDoctorList(date){\r\n  const promise = axios.get(\"/register/doctors\");\r\n  return promise;\r\n}\r\n\r\n// 환자 불러오기\r\nexport function getPatientList(date){\r\n  const promise = axios.get(\"/register/patients\");\r\n  return promise;\r\n}\r\n\r\n/* To Do List ------------------------------------------------------------- */\r\n\r\n// ToDoList 불러오기\r\nexport function getToDoLists(date, user_id){\r\n  const promise = axios.get(\"/register/todolists\", {params: {date, user_id}});\r\n  return promise;\r\n}\r\n\r\n// ToDoList 추가\r\nexport function createToDoLists(schedule){\r\n  const promise = axios.post(\"/register/todolists\", schedule);\r\n  return promise;\r\n}\r\n\r\n// ToDoList 변경\r\nexport function updateToDoLists(schedule){\r\n  const promise = axios.put(\"/register/todolists\", schedule);\r\n  return promise;\r\n}\r\n\r\n// ToDoList 삭제\r\nexport function deleteToDoLists(id){\r\n  const promise = axios.delete(\"/register/todolists\", {params: {id}});\r\n  return promise;\r\n}\r\n\r\n// ToDoList 캘린더 의사별 월별 환자 예약수 불러오기\r\nexport function getRegisterByDoctor(user_id, date){\r\n  const promise = axios.get(\"/register/calendar\",{params: {user_id, date}});\r\n  return promise;\r\n}","import moment from \"moment\";\r\nimport React from \"react\";\r\n\r\nfunction RegisterListItem(props) {\r\n  const {index , register, selectedRegister, checkboxHandler} = props;\r\n  return (\r\n    <tr key={index} className=\"RegisterList_content_2_tr\" onClick={(event) => checkboxHandler(register.register_id)}>\r\n      <td><input type=\"checkbox\" name=\"chk\" checked={selectedRegister === register.register_id ? true : false} readOnly /></td>\r\n      <td>{index + 1}</td>\r\n      <td>{moment(register.register_date).format(\"yyyy-MM-DD HH:mm\")}</td>\r\n      <td>{register.register_id}</td>\r\n      <td>{register.patient_name}</td>\r\n      <td>{(register.patient_ssn).substring(0, 6)}</td>\r\n      <td>{register.patient_sex}</td>\r\n      <td>{register.user_name}</td>\r\n      <td>{register.register_memo}</td>\r\n      <td>{register.register_communication}</td>\r\n      <td className={\r\n        register.register_state === \"완료\" ? \"RegisterList_content_2_tr_td_finish\" : \"\" ||\r\n          register.register_state === \"취소\" ? \"RegisterList_content_2_tr_td_cancel\" : \"\" ||\r\n            register.register_state === \"대기\" ? \"RegisterList_content_2_tr_td_ready\" : \"\"\r\n      }>\r\n        {register.register_state}\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\nexport default React.memo(RegisterListItem);\r\n","import \"./Register.css\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport { useEffect, useState, useCallback } from \"react\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ko from 'date-fns/locale/ko';\r\nimport moment from \"moment\";\r\nimport { registerLocale } from \"react-datepicker\";\r\nimport { changeRegisterState, getRegisterList } from \"apis/register\";\r\nimport Spinner from \"components/common/Spinner\";\r\nimport { ToastsContainer, ToastsContainerPosition, ToastsStore } from \"react-toasts\";\r\nimport Nodata from \"components/common/NoData\";\r\nimport React from \"react\";\r\nimport RegisterListItem from \"./components/items/RegisterListItem\";\r\nregisterLocale(\"ko\", ko);\r\n\r\nfunction RegisterList(props) {\r\n  //-------------------------------------------------------------  \r\n  //상태 선언\r\n  //-------------------------------------------------------------\r\n\r\n  // 공통 날짜 상태 \r\n  const { registerDate, setSelectedPatient, setRegisterDate, publishTopic, message } = props;\r\n  // 접수 목록 상태\r\n  const [registerList, setRegisterList] = useState([]);\r\n\r\n  // 접수 날짜 검색\r\n  const [startDate, setStartDate] = useState(registerDate);\r\n  //const [dateForRegister2, setDateForRegister2] = useState(registerDate);\r\n\r\n  // 접수 상태 (대기, 완료, 취소)\r\n  const [registerStateReady, setRegisterStateReady] = useState(0);\r\n  const [registerStateFinish, setRegisterStateFinish] = useState(0);\r\n  const [registerStateCancel, setRegisterStateCancel] = useState(0);\r\n\r\n  // 선택된 접수 상태\r\n  const [selectedRegister, setSelectedRegister] = useState();\r\n\r\n  // spinner \r\n  const [loading, setLoading] = useState(false);\r\n\r\n  //-------------------------------------------------------------\r\n  //버튼 이벤트 처리\r\n  //-------------------------------------------------------------\r\n\r\n  // 날짜 이동 버튼\r\n  const searchDateBtn = (newDate) => {\r\n    setRegisterDate(newDate);\r\n  };\r\n\r\n  // 체크박스 클릭시 체크 됨\r\n  const checkboxHandler = (register_id) => {\r\n    if (register_id === selectedRegister) {\r\n      setSelectedRegister(register_id);\r\n    } else {\r\n      setSelectedRegister(register_id);\r\n      const selectPatient = registerList.find(register => {\r\n        // 해당 아이디의 정보를 찾아서 수정\r\n        if (register.register_id === register_id) {\r\n          return true;\r\n        }\r\n      });\r\n      setSelectedPatient(selectPatient);\r\n    }\r\n  };\r\n\r\n  // 진료 상태 대기 -> 완료로 \r\n  const changeRegisterStateToFinish = async (register_id) => {\r\n    try {\r\n      var finishValidation = true;\r\n      let selectRegister = registerList.find(register => {\r\n        if (register.register_id === register_id) {\r\n          if (register.register_state === \"대기\") {\r\n            return register;\r\n          }\r\n        }\r\n      });\r\n      if (selectRegister) {\r\n        if (finishValidation) {\r\n          selectRegister.register_state = \"완료\";\r\n          var list = await changeRegisterState(selectRegister);\r\n          publishTopic(0);\r\n          publishTopic(1);\r\n        }\r\n      } else {\r\n        ToastsStore.success(\"대기 환자를 체크해 주세요.\");\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  // 진료 상태 대기 -> 취소로 \r\n  const changeRegisterStateToCancel = async (register_id) => {\r\n    try {\r\n      let selectRegister = registerList.find(register => {\r\n        if (register.register_id === register_id) {\r\n          if (register.register_state === \"대기\") {\r\n            return register;\r\n          }\r\n        }\r\n      });\r\n      if (selectRegister) {\r\n        selectRegister.register_state = \"취소\";\r\n        var list = await changeRegisterState(selectRegister);\r\n        publishTopic(0);\r\n      } else {\r\n        ToastsStore.success(\"대기 환자를 체크해 주세요.\");\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  // 전체 보여주기\r\n  const showTotal = async () => {\r\n    setLoading(true);\r\n    try {\r\n      var list = await getRegisterList(moment(registerDate).format(\"yyyy-MM-DD HH:mm\"), \"\");\r\n      setRegisterList(list.data.registerList);\r\n    } catch (e) {\r\n      console.log(e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // 대기 보여주기\r\n  const showReady = async () => {\r\n    setLoading(true);\r\n    try {\r\n      var list = await getRegisterList(moment(registerDate).format(\"yyyy-MM-DD HH:mm\"), \"대기\");\r\n      setRegisterList(list.data.registerList);\r\n    } catch (e) {\r\n      console.log(e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // 완료 보여주기\r\n  const showFinish = async () => {\r\n    setLoading(true);\r\n    try {\r\n      var list = await getRegisterList(moment(registerDate).format(\"yyyy-MM-DD HH:mm\"), \"완료\");\r\n      setRegisterList(list.data.registerList);\r\n    } catch (e) {\r\n      console.log(e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // 취소 보여주기\r\n  const showCancel = async () => {\r\n    setLoading(true);\r\n    try {\r\n      var list = await getRegisterList(moment(registerDate).format(\"yyyy-MM-DD HH:mm\"), \"취소\");\r\n      setRegisterList(list.data.registerList);\r\n    } catch (e) {\r\n      console.log(e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  //-------------------------------------------------------------\r\n  //실행 함수\r\n  //-------------------------------------------------------------\r\n\r\n  //해당 날짜에 맞는 리스트 가져오기\r\n  const getList = async (date) => {\r\n    setLoading(true);\r\n    try {\r\n      var list = await getRegisterList(moment(date).format(\"yyyy-MM-DD HH:mm\"), \"\");\r\n      setRegisterList(list.data.registerList);\r\n      getRegistersState(list.data.registerList);\r\n    } catch (e) {\r\n      console.log(e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  //리스트의 개수 새기\r\n  const getRegistersState = (registerList) => {\r\n    var count1 = 0;\r\n    var count2 = 0;\r\n    var count3 = 0;\r\n    for (var i = 0; i < registerList.length; i++) {\r\n      if (registerList[i].register_state === \"대기\") {\r\n        count1++;\r\n      } else if (registerList[i].register_state === \"완료\") {\r\n        count2++;\r\n      } else if (registerList[i].register_state === \"취소\") {\r\n        count3++;\r\n      }\r\n    }\r\n    setRegisterStateReady(count1); // 대기\r\n    setRegisterStateFinish(count2); // 완료\r\n    setRegisterStateCancel(count3); // 취소\r\n  };\r\n\r\n  //-------------------------------------------------------------\r\n  //마운트 및 언마운트에 실행할 내용\r\n  //-------------------------------------------------------------\r\n\r\n\r\n  useEffect(() => {\r\n    const work = async () => {\r\n      setLoading(true);\r\n      try {\r\n        var list = await getRegisterList(moment(registerDate).format(\"yyyy-MM-DD HH:mm\"), \"\");\r\n        setRegisterList(list.data.registerList);\r\n        getRegistersState(list.data.registerList);\r\n      } catch (e) {\r\n        console.log(e);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    work();\r\n  }, [registerDate]);\r\n\r\n  useEffect(() => {\r\n    //console.log(\"MESSAGE: \", message);\r\n    const work = async () => {\r\n      setLoading(true);\r\n      try {\r\n        var list = await getRegisterList(moment(registerDate).format(\"yyyy-MM-DD HH:mm\"), \"\");\r\n        setRegisterList(list.data.registerList);\r\n        getRegistersState(list.data.registerList);\r\n      } catch (e) {\r\n        console.log(e);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    if (message.content === \"refreshRegisters\") {\r\n      ToastsStore.success(\"접수현황이 갱신 되었습니다.\");\r\n      work();\r\n    }\r\n  }, [message]);\r\n\r\n  //-------------------------------------------------------------\r\n  //렌더링 내용\r\n  //-------------------------------------------------------------\r\n  return (\r\n    <div>\r\n      {/* 상단 메뉴 이름 + 버튼 */}\r\n      <div className=\"RegisterList_header\">\r\n        <div className=\"RegisterList_header_content\">\r\n          접수 내역\r\n        </div>\r\n        <div className=\"RegisterList_header_button\">\r\n          <Link to=\"/Patient\" ><button className=\"button_team2_fill\">신규 환자 등록</button></Link>\r\n        </div>\r\n      </div>\r\n      <ToastsContainer store={ToastsStore} position={ToastsContainerPosition.TOP_CENTER} lightBackground />\r\n      {/* 하단 내용 */}\r\n      <div className=\"RegisterList_content border\">\r\n        {/* 달력 , 상태 , 완료 버튼 */}\r\n        <div className=\"RegisterList_content_1\">\r\n          <div className=\"RegisterList_content_1_1\">\r\n            <div>\r\n              <DatePicker locale=\"ko\" selected={startDate} onChange={(date) => setStartDate(date)} dateFormat=\"yyyy.MM.dd\" />\r\n            </div>\r\n            <div>\r\n              <button className=\"button_team2_fill\" onClick={() => searchDateBtn(startDate)}>이동</button>\r\n            </div>\r\n          </div>\r\n          <div className=\"RegisterList_content_1_2\">\r\n            <div className=\"RegisterList_content_1_2_total\" onClick={showTotal}>\r\n              전체: {registerStateReady + registerStateFinish + registerStateCancel}명\r\n            </div>\r\n            <div className=\"RegisterList_content_1_2_ready\" onClick={showReady}>\r\n              대기: {registerStateReady}명\r\n            </div>\r\n            <div className=\"RegisterList_content_1_2_finish\" onClick={showFinish}>\r\n              완료: {registerStateFinish}명\r\n            </div>\r\n            <div className=\"RegisterList_content_1_2_cancel \" onClick={showCancel}>\r\n              취소: {registerStateCancel}명\r\n            </div>\r\n          </div>\r\n          <div className=\"RegisterList_content_1_3\">\r\n            <button className=\"button_team2_empty\" onClick={() => changeRegisterStateToCancel(selectedRegister)}>접수 취소</button>\r\n            <button className=\"button_team2_fill\" onClick={() => changeRegisterStateToFinish(selectedRegister)}>진료 시작</button>\r\n          </div>\r\n        </div>\r\n        {/* 접수 내역 테이블 */}\r\n        <div className=\"RegisterList_content_2\">\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th>순번</th>\r\n                <th>예약 시간</th>\r\n                <th>접수 번호</th>\r\n                <th>환자명</th>\r\n                <th>생년월일</th>\r\n                <th>성별</th>\r\n                <th>담당의</th>\r\n                <th>접수 메모</th>\r\n                <th>의사소통 메모</th>\r\n                <th>접수 상태</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {loading ? <Spinner />\r\n                : registerList.length === 0 ?\r\n                  <tr>\r\n                    <td colSpan=\"12\">\r\n                      <React.Fragment>\r\n                        <Nodata />\r\n                      </React.Fragment>\r\n                    </td>\r\n                  </tr>\r\n                  : <>\r\n                    {registerList.map((register, index) => {\r\n                      return (\r\n                        <RegisterListItem\r\n                          key={index}\r\n                          index={index}\r\n                          register={register}\r\n                          selectedRegister={selectedRegister}\r\n                          checkboxHandler={checkboxHandler}\r\n                        />\r\n                      );\r\n                    })} </>}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default RegisterList;\r\n","import moment from \"moment\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nfunction RegisterRead(props) {\r\n  //-------------------------------------------------------------  \r\n  //상태 선언\r\n  //-------------------------------------------------------------\r\n  const {selectedPatient, changeRegister} = props;\r\n\r\n  const noneRegister = {\r\n    register_id: \"\",\r\n    register_patient_id: \"\",\r\n    register_user_id: \"\",\r\n    register_regdate: \"\",\r\n    register_date: \"\",\r\n    register_starttime: \"\",\r\n    register_memo: \"\",\r\n    register_communication: \"\",\r\n    register_state: \"\",\r\n\r\n    // Add Data\r\n    patient_name: \"\",\r\n    patient_ssn: \"\",\r\n    patient_sex: \"\",\r\n    patient_tel: \"\",\r\n\r\n    user_name: \"\"\r\n  };\r\n  const [selectPatient, setSelectPatient] = useState(noneRegister);\r\n\r\n  const showUpdateForm = (event) => {\r\n    changeRegister();\r\n  };\r\n\r\n  //-------------------------------------------------------------\r\n  //마운트 및 언마운트에 실행할 내용\r\n  //-------------------------------------------------------------\r\n\r\n  useEffect(() => {\r\n    setSelectPatient(selectedPatient);\r\n  }, [props]);\r\n\r\n  useEffect(() => {\r\n    //setSelectPatient(noneRegister);\r\n  },[props.registerDate]);\r\n  //-------------------------------------------------------------\r\n  //렌더링 내용\r\n  //-------------------------------------------------------------\r\n  return (\r\n    <>\r\n      {/* 상단 메뉴 이름 */}\r\n      <div className=\"RegisterRead_header\">\r\n        접수 상세 내역\r\n      </div>\r\n      {/* 하단 내용 */}\r\n      <div className=\"RegisterRead_content border\">\r\n        {/* 접수 상세 내역 내용 */}\r\n        <div className=\"RegisterRead_content_form\">\r\n          <form>\r\n            <div className=\"RegisterRead_content_list\">\r\n              <div className=\"RegisterRead_content_list_label\">\r\n                환자명:\r\n              </div>\r\n              <div className=\"RegisterRead_content_list_input\">\r\n                <input className=\"RegisterRead_content_list_input_readOnly\" type=\"text\" value={selectPatient.patient_name} readOnly />\r\n              </div>\r\n            </div>\r\n            <div className=\"RegisterRead_content_list\">\r\n              <div className=\"RegisterRead_content_list_label\">\r\n                생년월일:\r\n              </div>\r\n              <div className=\"RegisterRead_content_list_input\">\r\n                <input className=\"RegisterRead_content_list_input_readOnly\" type=\"text\" value={selectPatient.patient_ssn ? selectPatient.patient_ssn.substring(0, 6) : selectPatient.patient_ssn} readOnly />\r\n              </div>\r\n            </div>\r\n            <div className=\"RegisterRead_content_list\">\r\n              <div className=\"RegisterRead_content_list_label\">\r\n                성별:\r\n              </div>\r\n              <div className=\"RegisterRead_content_list_input\">\r\n                <input className=\"RegisterRead_content_list_input_readOnly\" type=\"text\" value={selectPatient.patient_sex} readOnly />\r\n              </div>\r\n            </div>\r\n            <div className=\"RegisterRead_content_list\">\r\n              <div className=\"RegisterRead_content_list_label\">\r\n                전화번호:\r\n              </div>\r\n              <div className=\"RegisterRead_content_list_input\">\r\n                <input className=\"RegisterRead_content_list_input_readOnly\" type=\"text\" value={selectPatient.patient_tel} readOnly />\r\n              </div>\r\n            </div>\r\n            <div className=\"RegisterRead_content_list\">\r\n              <div className=\"RegisterRead_content_list_label\">\r\n                담당의:\r\n              </div>\r\n              <div className=\"RegisterRead_content_list_input\">\r\n                <input className=\"RegisterRead_content_list_input_readOnly\" type=\"text\" value={selectPatient.user_name} readOnly />\r\n              </div>\r\n            </div>\r\n            <div className=\"RegisterRead_content_list\">\r\n              <div className=\"RegisterRead_content_list_label\">\r\n                진료 날짜:\r\n              </div>\r\n              <div className=\"RegisterRead_content_list_input\">\r\n                <input className=\"RegisterRead_content_list_input_readOnly\" type=\"text\" value={selectPatient.register_date ? moment(selectPatient.register_date).format(\"yyyy-MM-DD H:mm\") : \"\"} readOnly />\r\n              </div>\r\n            </div>\r\n            <div className=\"RegisterRead_content_list\">\r\n              <div className=\"RegisterRead_content_list_label\">\r\n                접수 메모:\r\n              </div>\r\n              <div className=\"RegisterRead_content_list_input\">\r\n                <input className=\"RegisterRead_content_list_input_readOnly\" type=\"text\" value={selectPatient.register_memo} readOnly />\r\n              </div>\r\n            </div>\r\n            <div className=\"RegisterRead_content_list\">\r\n              <div className=\"RegisterRead_content_list_label\">\r\n                의사소통 메모:\r\n              </div>\r\n              <div className=\"RegisterRead_content_list_input\">\r\n                <input className=\"RegisterRead_content_list_input_readOnly\" type=\"text\" value={selectPatient.register_communication} readOnly />\r\n              </div>\r\n            </div>\r\n          </form>\r\n          {/* 수정 취소 버튼 */}\r\n          <div className=\"RegisterRead_content_button\">\r\n            {selectPatient.register_state === \"대기\" ? <button className=\"button_team2_fill\" onClick={showUpdateForm}>수정</button> : false}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default RegisterRead;\r\n","import DatePicker from \"react-datepicker\";\r\nimport { useEffect, useState } from \"react\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport setHours from \"date-fns/setHours\";\r\nimport setMinutes from \"date-fns/setMinutes\";\r\nimport { registerLocale } from \"react-datepicker\";\r\nimport ko from 'date-fns/locale/ko';\r\nimport style from \"./RegisterCreateForm.module.css\";\r\nimport moment from \"moment\";\r\n\r\nregisterLocale(\"ko\", ko);\r\n\r\nfunction RegisterCreateForm(props) {\r\n  //빈 객체\r\n  let noneRegister = {\r\n    register_id: \"\",\r\n    register_patient_id: \"\",\r\n    register_user_id: \"\",\r\n    register_regdate: \"\",\r\n    register_date: new Date(),\r\n    register_starttime: \"\",\r\n    register_memo: \"\",\r\n    register_communication: \"\",\r\n    register_state: \"\",\r\n\r\n    // 추가된 DTO \r\n    patient_name: \"\",\r\n    patient_ssn: \"\",\r\n    patient_sex: \"\",\r\n    patient_tel: \"\",\r\n\r\n    user_name: \"\",\r\n  };\r\n  var register;\r\n  if (props.register) {\r\n    register = props.register;\r\n  } else {\r\n    register = noneRegister;\r\n  }\r\n  const noneDoctor = {\r\n    user_id: \"\",\r\n    user_hospital_id: \"\",\r\n    user_password: \"\",\r\n    user_name: \"\",\r\n    user_ssn: \"\",\r\n    user_tel: \"\",\r\n    user_email: \"\",\r\n    user_sex: \"\",\r\n    user_zipcode: \"\",\r\n    user_address: \"\",\r\n    user_detailaddress1: \"\",\r\n    user_detailaddress2: \"\",\r\n    user_regdate: \"\",\r\n    user_enabled: \"\",\r\n    user_authority: \"\",\r\n  };\r\n  var doctors;\r\n  if (props.doctors) {\r\n    doctors = props.doctors;\r\n  } else {\r\n    doctors = noneDoctor;\r\n  }\r\n  \r\n\r\n  //-------------------------------------------------------------  \r\n  //상태 선언\r\n  //-------------------------------------------------------------\r\n  const [startDate, setStartDate] = useState(new Date());\r\n  const [minDate, setMinDate] = useState(new Date());\r\n  const [minTime, setMinTime] = useState(setHours(setMinutes(new Date(), 0), 9));\r\n  const [maxTime, setMaxTime] = useState(setHours(setMinutes(new Date(), 45), 17));\r\n  const [showTimeSelect, setShowTimeSelect] = useState(true);\r\n\r\n  // 담당의 상태\r\n  const [doctorsList, setDoctorsList] = useState(doctors);\r\n\r\n  const [newDoctor, setNewDoctor] = useState(register.register_user_id ? register.register_user_id : \"doctor\");\r\n\r\n  const changeNewDoctor = (event) => {\r\n    setNewDoctor(event.target.value);\r\n    props.setNewRegister({ ...props.newRegister, register_user_id: event.target.value });\r\n  };\r\n\r\n  // 메모 상태 \r\n  const [newMemo, setNewMemo] = useState(register.register_memo);\r\n\r\n  const changeMemo = (event) => {\r\n    setNewMemo(event.target.value);\r\n    props.setNewRegister({ ...props.newRegister, register_memo: event.target.value });\r\n  };\r\n\r\n  // 의사소통 메모 상태 \r\n  const [newCMemo, setNewCMemo] = useState(register.register_communication);\r\n\r\n  const changeCMemo = (event) => {\r\n    setNewCMemo(event.target.value);\r\n    props.setNewRegister({ ...props.newRegister, register_communication: event.target.value });\r\n  };\r\n\r\n  // datepicker 옵션\r\n  let handleColor = (time) => {\r\n    return (time.getHours() > 8 && time.getHours() < 18 ? \"hourStyle\" : \"\");\r\n  };\r\n\r\n  //-------------------------------------------------------------\r\n  //마운트 및 언마운트에 실행할 내용\r\n  //-------------------------------------------------------------\r\n  useEffect(() =>{\r\n    if(props.selectedTime){\r\n      //console.log(props.selectedTime);\r\n      setStartDate(props.selectedTime);\r\n    }\r\n  },[props.selectedTime, startDate]);\r\n\r\n  useEffect(() => {\r\n    setStartDate(props.register ? new Date(props.register.register_date) : new Date());\r\n    setDoctorsList(doctors);\r\n  }, [doctors, props.register]);\r\n\r\n  useEffect(() => {\r\n    if(props.selectedTime){\r\n      setStartDate(props.selectedTime? props.selectedTime : new Date());\r\n    }\r\n    setShowTimeSelect(() =>\r\n    ((startDate.getFullYear() === new Date().getFullYear())\r\n      && (startDate.getMonth() === new Date().getMonth())\r\n      && (startDate.getDate() === new Date().getDate())\r\n      && (startDate.getHours() >= 18))\r\n      ? false : true\r\n  );\r\n    setMinDate(() =>\r\n      ((startDate.getFullYear() === new Date().getFullYear())\r\n        && (startDate.getMonth() === new Date().getMonth())\r\n        && (startDate.getDate() === new Date().getDate())\r\n        && (startDate.getHours() >= 18))\r\n        ? startDate.setDate(new Date().getDate() + 1) : new Date()\r\n    );\r\n    if (new Date().getHours() >= 18) {\r\n      setMinTime(new Date());\r\n      setMaxTime(new Date());\r\n    } else {\r\n      setMinTime(() =>\r\n        ((startDate.getFullYear() === new Date().getFullYear())\r\n          && (startDate.getMonth() === new Date().getMonth())\r\n          && (startDate.getDate() === new Date().getDate())\r\n          && ((startDate.getHours() >= 9)\r\n            || (startDate.getHours() <= 18)))\r\n          ? new Date() : setHours(setMinutes(new Date(), 0), 9)\r\n      );\r\n      setMaxTime(() =>\r\n        ((startDate.getFullYear() === new Date().getFullYear())\r\n          && (startDate.getMonth() === new Date().getMonth())\r\n          && (startDate.getDate() === new Date().getDate())\r\n          && ((startDate.getHours() >= 9)\r\n            || (startDate.getHours() <= 18)))\r\n          ? new Date() : setHours(setMinutes(new Date(), 45), 17)\r\n      );\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setShowTimeSelect(() =>\r\n    ((startDate.getFullYear() === new Date().getFullYear())\r\n      && (startDate.getMonth() === new Date().getMonth())\r\n      && (startDate.getDate() === new Date().getDate())\r\n      && (startDate.getHours() >= 18))\r\n      ? false : true\r\n  );\r\n    // setMinDate(() =>\r\n    //   ((startDate.getFullYear() === new Date().getFullYear())\r\n    //     && (startDate.getMonth() === new Date().getMonth())\r\n    //     && (startDate.getDate() === new Date().getDate())\r\n    //     && (startDate.getHours() >= 18))\r\n    //     // || (startDate.getHours() <= 18)))\r\n    //     ? new Date().setDate(new Date().getDate() + 1) : new Date()\r\n    // );\r\n    setMinTime(() =>\r\n      ((startDate.getFullYear() === new Date().getFullYear())\r\n        && (startDate.getMonth() === new Date().getMonth())\r\n        && (startDate.getDate() === new Date().getDate())\r\n        && ((startDate.getHours() >= 9)\r\n          || (startDate.getHours() <= 18)))\r\n        ? new Date() : setHours(setMinutes(new Date(), 0), 9)\r\n    );\r\n    setMaxTime(() =>\r\n      ((startDate.getFullYear() === new Date().getFullYear())\r\n        && (startDate.getMonth() === new Date().getMonth())\r\n        && (startDate.getDate() === new Date().getDate())\r\n        && ((startDate.getHours() >= 9)\r\n          || (startDate.getHours() <= 18)))\r\n        ? setHours(setMinutes(new Date(), 45), 17) : setHours(setMinutes(new Date(), 45), 17)\r\n    );\r\n\r\n  }, [startDate]);\r\n\r\n  //-------------------------------------------------------------\r\n  //렌더링 내용\r\n  //-------------------------------------------------------------\r\n  return (\r\n    <div className={`${style.RegisterCreateForm_content} border`}>\r\n      {/* 달력 */}\r\n      <div className={style.RegisterCreateForm_cal}>\r\n        <DatePicker\r\n          locale=\"ko\"\r\n          showTimeSelect={showTimeSelect}\r\n          selected={startDate}\r\n          onChange={(date) => {\r\n            setStartDate(date);\r\n            props.setNewRegister({ ...props.newRegister, register_date: moment(date).format(\"yyyy-MM-DD H:mm\") });\r\n          }\r\n          }\r\n          timeIntervals={15}\r\n          timeCaption=\"시간\"\r\n          minDate={minDate}\r\n          minTime={minTime}\r\n          maxTime={maxTime}\r\n          dateFormat=\"yyyy-MM-dd h:mm\"\r\n          timeClassName={handleColor}\r\n          inline\r\n        />\r\n      </div>\r\n      {/* content */}\r\n      <div className={style.RegisterCreateForm_input}>\r\n        <form>\r\n          <div>\r\n            <div>의사 이름</div>\r\n            <div>\r\n              <select className={style.RegisterCreateForm_input_select} value={newDoctor} onChange={changeNewDoctor}>\r\n                <option disabled value=\"doctor\">담당의를 선택해주세요</option>\r\n                {/* 임의의 데이터 넣어서 출력 해보기 */}\r\n                {doctorsList.map(doctor => {\r\n                  return (\r\n                    <option key={doctor.user_id} value={doctor.user_id}>{doctor.user_name}</option>\r\n                  );\r\n                })}\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div>접수 메모</div>\r\n            <textarea className={style.RegisterCreateForm_input_textarea} value={newMemo} onChange={changeMemo}></textarea>\r\n          </div>\r\n          <div>\r\n            <div>의사소통 메모</div>\r\n            <textarea className={style.RegisterCreateForm_input_textarea} value={newCMemo} onChange={changeCMemo}></textarea>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default RegisterCreateForm;\r\n","import { getPatientList } from \"apis/patient\";\r\nimport { useEffect, useState } from \"react\";\r\nimport style from \"./RegisterPatientList.module.css\";\r\n\r\nfunction RegisterPatientList(props) {\r\n  //빈 객체\r\n  const noneRegister = {\r\n    register_id: \"\",\r\n    register_patient_id: \"\",\r\n    register_user_id: \"\",\r\n    register_regdate: \"\",\r\n    register_date: \"\",\r\n    register_starttime: \"\",\r\n    register_memo: \"\",\r\n    register_communication: \"\",\r\n    register_state: \"\",\r\n\r\n    // 추가된 DTO\r\n    patient_name: \"\",\r\n    patient_ssn: \"\",\r\n    patient_sex: \"\",\r\n    patient_tel: \"\",\r\n\r\n    user_name: \"\",\r\n  };\r\n  var register\r\n  if(props.register){\r\n    register = props.register;\r\n  } else {\r\n    register = noneRegister;\r\n  }\r\n  //-------------------------------------------------------------  \r\n  //상태 선언\r\n  //-------------------------------------------------------------\r\n  const [patientList, setPatientList] = useState([]);\r\n\r\n  // 환자 검색창 상태 \r\n  const [searchContent, setSearchContent] = useState(register.patient_name);\r\n\r\n  const changeSearchContent = (event) => {\r\n    setSearchContent(\r\n      event.target.value\r\n    );\r\n  };\r\n\r\n  // 선택된 환자 상태\r\n  const [selectedPatient, setSelectedPatient] = useState();\r\n  //-------------------------------------------------------------\r\n  //버튼 이벤트 처리\r\n  //-------------------------------------------------------------\r\n  const handlePatient = (patient_id) => {\r\n    if(patient_id === selectedPatient){\r\n      setSelectedPatient(\"\");\r\n    } else {\r\n      setSelectedPatient(patient_id);\r\n      props.setNewRegister({...props.newRegister,register_patient_id:patient_id});\r\n    }\r\n  };\r\n\r\n  const handleSearch = async (event) => {\r\n    try {\r\n      event.preventDefault();\r\n      const list = await getPatientList(searchContent);\r\n      setPatientList(list.data.patientList);\r\n    } catch(e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n  const getPatientsLists = async () => {\r\n    try {\r\n      var list = await getPatientList();\r\n      setPatientList(list.data.patientList);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n  \r\n  //-------------------------------------------------------------\r\n  //마운트 및 언마운트에 실행할 내용\r\n  //-------------------------------------------------------------\r\n\r\n  useEffect(()=>{\r\n    getPatientsLists();\r\n  },[]);\r\n\r\n  //-------------------------------------------------------------\r\n  //렌더링 내용\r\n  //-------------------------------------------------------------\r\n  return (\r\n    <div className={style.RegisterPatientList}>\r\n      <div className={`${style.RegisterPatientList_content} border`}>\r\n        <div className={`${style.RegisterPatientList_search} mt-1`}>\r\n          <div className={style.RegisterPatientList_search_input}>\r\n            <input type=\"text\" \r\n              className={style.RegisterPatientList_search_input_1} \r\n              placeholder=\"이름/생년월일을 입력해 주세요.\" \r\n              value={searchContent} onChange={changeSearchContent} \r\n            />\r\n          </div>\r\n          <div className={style.RegisterPatientList_search_button}>\r\n            <button className=\"button_team2_fill\" onClick={handleSearch}>환자 검색</button>\r\n          </div>\r\n        </div>\r\n        <div className={style.RegisterPatientList_content_table}>\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th>환자 코드</th>\r\n                <th>환자명</th>\r\n                <th>생년월일</th>\r\n                <th>성별</th>\r\n                <th>전화번호</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {/* 임의의 데이터 넣어서 출력 해보기 */}\r\n              {patientList.map(patient => {\r\n                return (\r\n                  <tr key={patient.patient_id} className={style.RegisterPatientList_content_table_tr} onClick={()=>handlePatient(patient.patient_id)}>\r\n                    <td><input type=\"checkbox\" name=\"chk\" checked={selectedPatient === patient.patient_id? true : false} readOnly/></td>\r\n                    <td>{patient.patient_id}</td>\r\n                    <td>{patient.patient_name}</td>\r\n                    <td>{patient.patient_ssn1}</td>\r\n                    <td>{patient.patient_sex}</td>\r\n                    <td>{patient.patient_tel}</td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default RegisterPatientList;\r\n","import { changeRegisterState } from \"apis/register\";\r\nimport { useEffect, useState } from \"react\";\r\nimport style from \"./RegisterStateChange.module.css\";\r\n\r\nfunction RegisterStateChange(props) {\r\n  const { register, publishTopic, close } = props;\r\n  //-------------------------------------------------------------  \r\n  //상태 선언\r\n  //-------------------------------------------------------------\r\n\r\n  // 선택된 환자 상태\r\n  const [selectedPatient, setSelectedPatient] = useState();\r\n  //-------------------------------------------------------------\r\n  //버튼 이벤트 처리\r\n  //-------------------------------------------------------------\r\n  // 진료 상태 대기 -> 완료로 \r\n  const changeRegisterStateToFinish = async (register) => {\r\n    try {\r\n      var finishValidation = true;\r\n\r\n      if (register.register_state===\"대기\") {\r\n        if (finishValidation) {\r\n          register.register_state = \"완료\";\r\n          var list = await changeRegisterState(register);\r\n          publishTopic(0);\r\n          publishTopic(1);\r\n          close();\r\n        }\r\n      } \r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  // 진료 상태 대기 -> 취소로 \r\n  const changeRegisterStateToCancel = async (register) => {\r\n    try {\r\n      if (register.register_state===\"대기\") {\r\n        register.register_state = \"취소\";\r\n        var list = await changeRegisterState(register);\r\n        publishTopic(0);\r\n        close();\r\n      } \r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  //-------------------------------------------------------------\r\n  //마운트 및 언마운트에 실행할 내용\r\n  //-------------------------------------------------------------\r\n\r\n  //-------------------------------------------------------------\r\n  //렌더링 내용\r\n  //-------------------------------------------------------------\r\n  return (\r\n    <div className={style.RegisterStateChange}>\r\n      <div className={style.RegisterStateChange_content_table}>\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th></th>\r\n              <th>환자 코드</th>\r\n              <th>환자명</th>\r\n              <th>생년월일</th>\r\n              <th>성별</th>\r\n              <th>전화번호</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr className={style.RegisterStateChange_content_table_tr}>\r\n              <td><input type=\"checkbox\" name=\"chk\" checked readOnly /></td>\r\n              <td>{register.register_patient_id}</td>\r\n              <td>{register.patient_name}</td>\r\n              <td>{(register.patient_ssn).substring(0, 6)}</td>\r\n              <td>{register.patient_sex}</td>\r\n              <td>{register.patient_tel}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div className={style.RegisterStateChange_content_stateBtn}>\r\n        {register.register_state === \"대기\" ?\r\n          <>\r\n            <div className={style.RegisterStateChange_content_stateBtn_item}>\r\n              <button className={style.RegisterStateChange_content_stateBtn_item_1} onClick={()=>changeRegisterStateToCancel(register)}>접수 취소</button>\r\n            </div>\r\n            <div className={style.RegisterStateChange_content_stateBtn_item}>\r\n              <button className={style.RegisterStateChange_content_stateBtn_item_2} onClick={()=>changeRegisterStateToFinish(register)}>진료 시작</button>\r\n            </div>\r\n          </>\r\n          :\r\n          <div className={style.RegisterStateChange_content_stateBtn_item}>\r\n            <button className={style.RegisterStateChange_content_stateBtn_item_3}> 진료 {register.register_state} </button>\r\n          </div>\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default RegisterStateChange;\r\n","import style from \"./RegisterCreateModal.module.css\";\r\nimport React, { useEffect, useState } from 'react';\r\nimport RegisterCreateForm from \"./RegisterCreateForm\";\r\nimport RegisterPatientList from \"./RegisterPatientList\";\r\nimport { createRegister, updateRegister } from \"apis/register\";\r\nimport moment from \"moment\";\r\nimport { ToastsContainer, ToastsContainerPosition, ToastsStore } from \"react-toasts\";\r\nimport RegisterStateChange from \"./RegisterStateChange\";\r\nfunction RegisterCreateModal(props) {\r\n  // props 상속\r\n  const { open, close, header, doctors, register, publishTopic, selectedTime } = props;\r\n  //-------------------------------------------------------------  \r\n  //상태 선언\r\n  //-------------------------------------------------------------\r\n  const [newRegister, setNewRegister] = useState(register);\r\n  //-------------------------------------------------------------\r\n  //버튼 이벤트 처리\r\n  //-------------------------------------------------------------\r\n  const createNewRegister = async () => {\r\n    try {\r\n      var registerValidation = true;\r\n      //console.log(newRegister);\r\n      if (newRegister.register_patient_id === \"\") {\r\n        registerValidation = false;\r\n        ToastsStore.success(\"환자를 선택해 주세요.\");\r\n      }\r\n      else if (newRegister.register_user_id === \"\") {\r\n        registerValidation = false;\r\n        ToastsStore.success(\"담당의를 선택해 주세요.\");\r\n      }\r\n      else if (newRegister.register_date < new Date()) {\r\n        registerValidation = false;\r\n        ToastsStore.success(\"예약 시간을 선택해 주세요.1\");\r\n      }\r\n      // else if (new Date(newRegister.register_date).getHours() >= 18 \r\n      // || new Date(newRegister.register_date).getHours() <= 9 ) {\r\n      //   registerValidation = false;\r\n      //   ToastsStore.success(\"예약 시간을 선택해 주세요.2\");\r\n      // }\r\n      else if (newRegister.register_memo === \"\") {\r\n        registerValidation = false;\r\n        ToastsStore.success(\"메모를 입력해 주세요.\");\r\n      }\r\n      // else if (newRegister.register_communication === \"\") {\r\n      //   registerValidation = false;\r\n      //   ToastsStore.success(\"의사소통 메모를 입력해 주세요.\");\r\n      // }\r\n      if (registerValidation) {\r\n        var list = await createRegister(newRegister);\r\n        //console.log(\"결과값\", list.data.result);\r\n        if (list.data.result === \"중복\") {\r\n          ToastsStore.success(\"이미 예약이 되어있습니다.\");\r\n        } else if (list.data.result === \"성공\") {\r\n          publishTopic(0);\r\n          close();\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n  const updateNewRegister = async () => {\r\n    try {\r\n      //console.log(\"접수\", newRegister);\r\n      var registerValidation = true;\r\n      if (newRegister.register_date < new Date()) {\r\n        registerValidation = false;\r\n        ToastsStore.success(\"예약시간을 확인해 주세요.\");\r\n      } else if (new Date(newRegister.register_date).getHours() >= 18 \r\n      || new Date(newRegister.register_date).getHours() <= 9 ) {\r\n        registerValidation = false;\r\n        ToastsStore.success(\"예약 시간을 선택해 주세요.\");\r\n      }\r\n      if (registerValidation) {\r\n        var list = await updateRegister(newRegister);\r\n        //console.log(\"결과값\", list.data.result);\r\n        if (list.data.result === \"중복\") {\r\n          ToastsStore.success(\"이미 예약이 되어있습니다.\");\r\n        } else if (list.data.result === \"성공\") {\r\n          publishTopic(0);\r\n          close();\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  //-------------------------------------------------------------\r\n  //마운트 및 언마운트에 실행할 내용\r\n  //-------------------------------------------------------------  \r\n  useEffect(() => {\r\n    setNewRegister(register);\r\n  }, [props, register]);\r\n\r\n  // useEffect(() => {\r\n  //   setNewRegister({ ...register, register_date: new Date() });\r\n  // }, [open]);\r\n  useEffect(() => {\r\n    if(selectedTime){\r\n      setNewRegister({ ...register, register_date: moment(selectedTime).format(\"yyyy-MM-DD H:mm\")});\r\n    }\r\n  },[open,selectedTime]);\r\n  //-------------------------------------------------------------\r\n  //렌더링 내용\r\n  //-------------------------------------------------------------\r\n  return (\r\n    <div className={style.RegisterCreateModal}>\r\n      <div className={open ? `${style.openModal} ${style.modal}` : `${style.modal}`}>\r\n        {open ? (\r\n          <section>\r\n            <header>\r\n              <div className={style.RegisterCreateModal1}>\r\n                {header}\r\n              </div>\r\n            </header>\r\n            <main>\r\n              <div className={style.RegisterCreateModal_main}>\r\n                <ToastsContainer store={ToastsStore} position={ToastsContainerPosition.TOP_CENTER} lightBackground />\r\n                {register.register_state === \"\" || register.register_state === \"취소\"? \r\n                <RegisterPatientList register={register} newRegister={newRegister} setNewRegister={setNewRegister} /> \r\n                : \r\n                <RegisterStateChange register={register} publishTopic={publishTopic} close={close}/>\r\n                }\r\n                <RegisterCreateForm doctors={doctors} register={register} newRegister={newRegister} setNewRegister={setNewRegister} open={open} selectedTime={selectedTime}/>\r\n              </div>\r\n            </main>\r\n            <footer>\r\n              <div className={style.RegisterCreateModal_footer}>\r\n                {register.register_state === \"완료\" ?\r\n                  <>\r\n                    <button className=\"button_team2_empty\" onClick={close}>확인</button>\r\n                  </>\r\n                  :\r\n                  <>\r\n                    <button className=\"button_team2_empty\" onClick={close}>취소</button>\r\n                    {register.register_state === \"대기\" ?\r\n                      <button className=\"button_team2_fill\" onClick={updateNewRegister}>수정</button>\r\n                      :\r\n                      <button className=\"button_team2_fill\" onClick={createNewRegister}>등록</button>\r\n                    }\r\n                  </>\r\n                }\r\n              </div>\r\n            </footer>\r\n          </section>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default RegisterCreateModal;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport moment from \"moment\";\r\nimport style from \"./MonthTimeTable.module.css\";\r\nimport { getRegisterByDoctor } from \"apis/register\";\r\nimport Spinner from \"components/common/Spinner\";\r\n\r\nfunction MonthTimeTable(props) {\r\n\r\n  const { selectedDoctor } = props;\r\n\r\n  let selectToday = new Date();\r\n  let selectTodayYear = selectToday.getFullYear();\r\n  let selectTodayMonth = selectToday.getMonth() + 1;\r\n  let selectTodayDate = selectToday.getDate();\r\n  //-------------------------------------------------------------  \r\n  //상태 선언\r\n  //-------------------------------------------------------------\r\n  const [today, setToday] = useState(new Date());\r\n  const [tMonth, setTMonth] = useState(moment().startOf('month'));\r\n\r\n  const [registerListByDoctor, setRegisterListByDoctor] = useState([]);\r\n  \r\n  // spinner \r\n  const [loading, setLoading] = useState(false);\r\n  //-------------------------------------------------------------  \r\n  //달력 렌더 함수\r\n  //-------------------------------------------------------------\r\n  let todayYear = today.getFullYear();\r\n  let todayMonth = (today.getMonth() + 1);\r\n\r\n  const thisYaerAndMonth = todayYear + \" 년 \" + todayMonth + \" 월\";\r\n\r\n  const calCalender = (today) => {\r\n    const thisYear = today.getFullYear();\r\n    const thisMonth = today.getMonth() + 1;\r\n\r\n    const prevLast = new Date(thisYear, thisMonth - 1, 0);\r\n    const thisLast = new Date(thisYear, thisMonth, 0);\r\n\r\n    const prevLastDate = prevLast.getDate();\r\n    const prevLastDay = prevLast.getDay();\r\n\r\n    const todayLastDate = thisLast.getDate();\r\n    const todayLastDay = thisLast.getDay();\r\n\r\n    const prevDates = [];\r\n    const thisDates = [...Array(todayLastDate + 1).keys()].slice(1);\r\n    const nextDates = [];\r\n\r\n    if (prevLastDay !== 6) {\r\n      for (let i = 0; i < prevLastDay + 1; i++) {\r\n        prevDates.unshift(prevLastDate - i);\r\n      }\r\n    }\r\n\r\n    for (let i = 1; i < 7 - todayLastDay; i++) {\r\n      nextDates.push(i);\r\n    }\r\n    const dates = prevDates.concat(thisDates, nextDates);\r\n\r\n    return dates;\r\n  };\r\n  const [dates, setDates] = useState(calCalender(today));\r\n\r\n  //-------------------------------------------------------------\r\n  //버튼 이벤트 처리\r\n  //-------------------------------------------------------------\r\n\r\n  const prevMonth = () => {\r\n    today.setMonth(today.getMonth() - 1);\r\n    setToday(today);\r\n    setTMonth(moment(tMonth).subtract(\"1\",\"M\"));\r\n    setDates(calCalender(today));\r\n  };\r\n  const nextMonth = () => {\r\n    today.setMonth(today.getMonth() + 1);\r\n    setToday(today);\r\n    setTMonth(moment(tMonth).add(\"1\",\"M\"));\r\n    setDates(calCalender(today));\r\n  };\r\n  const goToday = () => {\r\n    setToday(new Date());\r\n    setTMonth(moment().startOf('month'));\r\n  };\r\n\r\n  const updateSelectDate = (date) => {\r\n    today.setDate(date);\r\n    props.setSelectDate(moment(today).format(\"yyyy-MM-DD\"));\r\n    setToday(today);\r\n    //setDate(calCalender(today));\r\n  };\r\n\r\n  const getRegisterCount = async (date) => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await getRegisterByDoctor(selectedDoctor.user_id, moment(date).format(\"yyyy-MM-DD H:mm\"));\r\n      setRegisterListByDoctor(response.data.registerList);\r\n    } catch (e) {\r\n      console.log(e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  //-------------------------------------------------------------\r\n  //마운트 및 언마운트에 실행할 내용\r\n  //-------------------------------------------------------------\r\n\r\n  useEffect(() => {\r\n    getRegisterCount(tMonth);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getRegisterCount(tMonth);\r\n  }, [tMonth]);\r\n\r\n  useEffect(() => {\r\n    setDates(calCalender(today));\r\n  }, [today]);\r\n  //-------------------------------------------------------------\r\n  //렌더링 내용\r\n  //------------------------------------------------------------- \r\n  return (\r\n    <div className={style.MonthTimeTable}>\r\n      <div className={style.MonthTimeTable_btns}>\r\n        <button className={`button_team2_empty ${style.MonthTimeTable_btn}`}\r\n          onClick={prevMonth}\r\n        >\r\n          &lt;\r\n        </button>\r\n        <button className={`button_team2_fill ${style.MonthTimeTable_btnToday}`}\r\n          onClick={goToday}\r\n        >\r\n          오 늘\r\n        </button>\r\n        <button className={`button_team2_empty ${style.MonthTimeTable_btn}`}\r\n          onClick={nextMonth}\r\n        >\r\n          &gt;\r\n        </button>\r\n      </div>\r\n      <div className={style.yearAndMonth}>\r\n        {thisYaerAndMonth}\r\n      </div>\r\n      <div className={style.days}>\r\n        <div className={style.day}>일</div>\r\n        <div className={`${style.day} ${style.dayN}`}>월</div>\r\n        <div className={`${style.day} ${style.dayN}`}>화</div>\r\n        <div className={`${style.day} ${style.dayN}`}>수</div>\r\n        <div className={`${style.day} ${style.dayN}`}>목</div>\r\n        <div className={`${style.day} ${style.dayN}`}>금</div>\r\n        <div className={style.day}>토</div>\r\n      </div>\r\n      <div className={style.dates}>\r\n      {loading ? <Spinner /> : <>\r\n        {dates.map((date, index) => {\r\n          if (todayYear === selectTodayYear\r\n            && todayMonth === selectTodayMonth\r\n            && date === selectTodayDate\r\n            && date < index) {\r\n            return (\r\n              <div className={style.date} onClick={() => updateSelectDate(date)} key={index}>\r\n                <div className={style.thisDate}>\r\n                  {date}\r\n                </div>\r\n                <div className={style.count}>\r\n                  {registerListByDoctor.map((Rdate,index) => {\r\n                    if ((Rdate.date *= 1) === (date *= 1)) {\r\n                      return (<div key={index} className={style.count_font}>진료수: {Rdate.count}명</div>)\r\n                    }\r\n                  })}\r\n                </div>\r\n              </div>\r\n            )\r\n          } else {\r\n            if (index < 7 && date > 7) {\r\n              return (\r\n                <div className={style.date} onDoubleClick={prevMonth} key={index}>\r\n                  <div className={style.otherDate1}>\r\n                    {date}\r\n                  </div>\r\n                  <div>\r\n\r\n                  </div>\r\n                </div>\r\n              )\r\n            }\r\n            else if (index > 28 && date < 7) {\r\n              return (\r\n                <div className={style.date} onDoubleClick={nextMonth} key={index}>\r\n                  <div className={style.otherDate2}>\r\n                    {date}\r\n                  </div>\r\n                  <div>\r\n\r\n                  </div>\r\n                </div>\r\n              )\r\n            } else {\r\n              return (\r\n                <div className={style.date} onClick={() => updateSelectDate(date)} key={index}>\r\n                  <div className={style.otherDate}>\r\n                    {date}\r\n                  </div>\r\n                  <div className={style.count}>\r\n                    {registerListByDoctor.map((Rdate, index) => {\r\n                      if ((Rdate.date *= 1) === (date *= 1)) {\r\n                        return (<div className={style.count_font} key={index}>진료수: {Rdate.count}명</div>)\r\n                      }\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              )\r\n            }\r\n          }\r\n        })}\r\n        </>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default MonthTimeTable;\r\n","import style from \"./ToDoList.module.css\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport moment from \"moment\";\r\nimport { createToDoLists, deleteToDoLists, getToDoLists, updateToDoLists } from \"apis/register\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nfunction ToDoList(props) {\r\n  const { selectedDoctor, selectDate, setSelectDate, publishTopic } = props;\r\n  //-------------------------------------------------------------  \r\n  //상태 선언\r\n  //-------------------------------------------------------------\r\n  const globalUid = useSelector((state) => state.authReducer.uid);\r\n\r\n  const [inputText, setInputText] = useState(\"\");\r\n  const [toDoList, setToDoList] = useState([]);\r\n  \r\n  //-------------------------------------------------------------\r\n  //버튼 이벤트 처리\r\n  //-------------------------------------------------------------\r\n\r\n  const inputTextHandler = (event) => {\r\n    setInputText(\r\n      event.target.value\r\n    );\r\n  };\r\n  const addToDoList = async () => {\r\n    const newSchedule = {\r\n      schedule_id: \"\",\r\n      schedule_user_id: selectedDoctor.user_id,\r\n      schedule_content: inputText,\r\n      schedule_state: \"대기\",\r\n      schedule_regdate: moment(selectDate).format(\"yyyy-MM-DD\"),\r\n    };\r\n\r\n    try {\r\n      var list = await createToDoLists(newSchedule);\r\n      publishTopic(2);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n    setInputText(\"\");\r\n  };\r\n\r\n  const changeYet = async (id) => {\r\n\r\n    if (globalUid === selectedDoctor.user_id) {\r\n      const updateSchedule = {\r\n        schedule_id: id,\r\n        schedule_state: \"완료\",\r\n      };\r\n      try {\r\n        var list = await updateToDoLists(updateSchedule);\r\n        publishTopic(2);\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    } else {\r\n\r\n    }\r\n\r\n  };\r\n  const changeDone = async (id) => {\r\n    if (globalUid === selectedDoctor.user_id) {\r\n      const updateSchedule = {\r\n        schedule_id: id,\r\n        schedule_state: \"대기\",\r\n      };\r\n      try {\r\n        var list = await updateToDoLists(updateSchedule);\r\n        publishTopic(2);\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    } else {\r\n\r\n    }\r\n  };\r\n  const deleteToDo = async (id) => {\r\n\r\n    try {\r\n      var list = await deleteToDoLists(id);\r\n      publishTopic(2);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const getToDoList = async (schedule_regdate, schedule_user_id) => {\r\n    try {\r\n      var list = await getToDoLists(schedule_regdate, schedule_user_id);\r\n      setToDoList(list.data.todolist);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  //-------------------------------------------------------------\r\n  //마운트 및 언마운트에 실행할 내용\r\n  //-------------------------------------------------------------\r\n\r\n  useEffect(() => {\r\n    getToDoList(selectDate, selectedDoctor.user_id);\r\n    return () => {\r\n      setSelectDate(moment().format(\"yyyy-MM-DD\"));\r\n    };\r\n  }, [selectDate, selectedDoctor.user_id, setSelectDate]);\r\n\r\n  useEffect(() => {\r\n    setSelectDate(selectDate ? selectDate : new Date());\r\n    getToDoList(selectDate, selectedDoctor.user_id);\r\n  }, [props, selectDate, selectedDoctor.user_id, setSelectDate]);\r\n\r\n  //-------------------------------------------------------------\r\n  //렌더링 내용\r\n  //-------------------------------------------------------------\r\n  return (\r\n    <div className={style.ToDoList}>\r\n      <div className={style.ToDoList_header}>\r\n        <div className={style.ToDoList_header_name}>\r\n          <h2>To Do List</h2>\r\n        </div>\r\n        <div className={style.ToDoList_header_date}>\r\n          {selectDate}\r\n        </div>\r\n        <div className={style.ToDoList_header_inputLabel}>\r\n          <div className={style.ToDoList_header_inputLabel_input}>\r\n            {globalUid === selectedDoctor.user_id ?\r\n              <input type=\"text\" value={inputText} onChange={inputTextHandler} placeholder=\"할 일을 입력해주세요.\"></input>\r\n              :\r\n              false\r\n            }\r\n          </div>\r\n          <div className={style.ToDoList_header_inputLabel_button}>\r\n            {globalUid === selectedDoctor.user_id ?\r\n              <button className=\"button_team2_fill\" onClick={addToDoList}>+</button>\r\n              :\r\n              false\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className={style.ToDoList_content}>\r\n        <div className={style.ToDoList_content_header}>\r\n\r\n        </div>\r\n        <div className={style.ToDoList_content_items}>\r\n          <div className={style.ToDoList_content_items_yet_header}>\r\n            <div className={style.ToDoList_content_items_yet_header_1}>\r\n              Doing\r\n            </div>\r\n            <div className={style.ToDoList_content_items_yet_header_2}>\r\n              {toDoList.filter(toDo => {\r\n                if (toDo.schedule_state === \"대기\") {\r\n                  return toDo;\r\n                }\r\n              }).length}\r\n            </div>\r\n          </div>\r\n          <div className={style.ToDoList_content_items_yet_itmes}>\r\n            {toDoList.map(toDo => {\r\n              if (toDo.schedule_state === \"대기\") {\r\n                return (\r\n                  <div className={style.ToDoList_content_items_yet_item} key={toDo.schedule_id} onDoubleClick={() => changeYet(toDo.schedule_id)} >\r\n                    <div className={style.ToDoList_content_items_yet_item_content}>\r\n                      {toDo.schedule_content}\r\n                    </div>\r\n                    <div className={style.ToDoList_content_items_yet_item_btns}>\r\n                      <div className={style.ToDoList_content_items_yet_item_btns_btn}>\r\n                        {globalUid === selectedDoctor.user_id ?\r\n                          <button className={style.ToDoList_btn_X} onClick={() => deleteToDo(toDo.schedule_id)}>X</button>\r\n                          :\r\n                          false\r\n                        }\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )\r\n              }\r\n            })}\r\n          </div>\r\n          <div className={style.ToDoList_content_items_done_header}>\r\n            <div className={style.ToDoList_content_items_done_header_1}>\r\n              Done\r\n            </div>\r\n            <div className={style.ToDoList_content_items_done_header_2}>\r\n              {toDoList.filter(toDo => {\r\n                if (toDo.schedule_state === \"완료\") {\r\n                  return toDo;\r\n                }\r\n              }).length}\r\n            </div>\r\n          </div>\r\n          <div className={style.ToDoList_content_items_done_itmes}>\r\n            {toDoList.map(toDo => {\r\n              if (toDo.schedule_state === \"완료\") {\r\n                return (\r\n                  <div className={style.ToDoList_content_items_done_item} key={toDo.schedule_id} onDoubleClick={() => changeDone(toDo.schedule_id)}>\r\n                    <div className={style.ToDoList_content_items_done_item_content}>\r\n                      {toDo.schedule_content}\r\n                    </div>\r\n                    <div className={style.ToDoList_content_items_done_item_btns}>\r\n                      <div className={style.ToDoList_content_items_done_item_btns_btn}>\r\n                        {globalUid === selectedDoctor.user_id ?\r\n                          <button className={style.ToDoList_btn_X2} onClick={() => deleteToDo(toDo.schedule_id)}>X</button>\r\n                          :\r\n                          false\r\n                        }\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )\r\n              }\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default ToDoList;\r\n","import style from \"./RegisterWeekTimeTableModal.module.css\"\r\nimport React, { useEffect, useState } from 'react';\r\nimport MonthTimeTable from \"./MonthTimeTable\";\r\nimport ToDoList from \"./ToDoList\";\r\nimport moment from \"moment\";\r\nfunction RegisterWeekTimeTableModal(props) {\r\n  // props 상속\r\n  const { open, close, header, selectedDoctor, setPubMessage, publishTopic } = props;\r\n  //-------------------------------------------------------------  \r\n  //상태 선언\r\n  //-------------------------------------------------------------\r\n  const [selectDate, setSelectDate] = useState(moment().format(\"yyyy-MM-DD\"));\r\n\r\n  //-------------------------------------------------------------\r\n  //마운트 및 언마운트에 실행할 내용\r\n  //-------------------------------------------------------------\r\n\r\n  //-------------------------------------------------------------\r\n  //렌더링 내용\r\n  //-------------------------------------------------------------\r\n  return (\r\n    <div className={style.RegisterWeekTimeTableModal}>\r\n      <div className={open ? `${style.openModal} ${style.modal}` : `${style.modal}`}>\r\n        {open ? (\r\n          <section>\r\n            <header>\r\n              <div className={style.RegisterWeekTimeTableModal_header}>\r\n                {header}\r\n              </div>\r\n            </header>\r\n            <main>\r\n              <div className={style.Main_content}>\r\n                <div className={style.RegisterWeekTimeTableModal_main}>\r\n                  <MonthTimeTable\r\n                    selectDate={selectDate}\r\n                    setSelectDate={setSelectDate}\r\n                    selectedDoctor={selectedDoctor}\r\n                  />\r\n                </div>\r\n                <div className={style.ToDoList_main}>\r\n                  <ToDoList selectDate={selectDate}\r\n                    setSelectDate={setSelectDate}\r\n                    selectedDoctor={selectedDoctor}\r\n                    setPubMessage={setPubMessage}\r\n                    publishTopic={publishTopic}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </main>\r\n            <footer>\r\n              <div className={style.RegisterWeekTimeTableModal_footer}>\r\n                <button className=\"button_team2_fill\" onClick={() => { setSelectDate(moment().format(\"yyyy-MM-DD\")); close(); }}>확인</button>\r\n              </div>\r\n            </footer>\r\n          </section>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default RegisterWeekTimeTableModal;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport ReactDatePicker from \"react-datepicker\";\r\nimport \"./Register.css\";\r\nimport moment from \"moment\";\r\nimport RegisterCreateModal from \"./components/modal/RegisterCreateModal\";\r\nimport { registerLocale } from \"react-datepicker\";\r\nimport ko from 'date-fns/locale/ko';\r\nimport RegisterWeekTimeTableModal from \"./components/modal/RegisterWeekTimeTableModal\";\r\nimport { getDoctorList, getRegisterList } from \"apis/register\";\r\n// import RegisterTimeScheduleItems from \"views/Register/components/items/RegisterTimeScheduleItems\";\r\n\r\nregisterLocale(\"ko\", ko);\r\n// 타임테이블 - 진료 시간 \r\nconst hours = [\"9\", \"10\", \"11\", \"12\", \"13\", \"14\", \"15\", \"16\", \"17\"];\r\nconst mins = [\"0\", \"15\", \"30\", \"45\"];\r\n\r\nfunction RegisterTimeSchedule(props) {\r\n  // 빈 객체\r\n  let noneRegister = {\r\n    register_id: \"\",\r\n    register_patient_id: \"\",\r\n    register_user_id: \"\",\r\n    register_regdate: \"\",\r\n    register_date: new Date(),\r\n    register_starttime: \"\",\r\n    register_memo: \"\",\r\n    register_communication: \"\",\r\n    register_state: \"\",\r\n\r\n    // 추가된 DTO 내용\r\n    patient_name: \"\",\r\n    patient_ssn: \"\",\r\n    patient_sex: \"\",\r\n    patient_tel: \"\",\r\n\r\n    user_name: \"\",\r\n  };\r\n\r\n  //-------------------------------------------------------------  \r\n  //상태 선언\r\n  //-------------------------------------------------------------\r\n  const { registerDate, setRegisterDate, publishTopic, setPubMessage, message } = props;\r\n\r\n  const [doctors, setDoctors] = useState([]);\r\n  const [registers, setRegisters] = useState([]);\r\n  //const [startDate, setStartDate] = useState(new Date());\r\n  const [selectedRegister, setSelectedRegister] = useState(noneRegister);\r\n\r\n  //신규 접수 등록 모달\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [headerContent, setHeaderContent] = useState(\"신규\");\r\n\r\n  //신규 시간을 누른 모달\r\n  const [selectTimeModalOpen, setSelectTimeModalOpen] = useState(false);\r\n  const [selectedTime, setSelectedTime] = useState(new Date());\r\n\r\n  // 의사별 개인 타임 테이블 모달\r\n  const [selectedDoctor, setSelectedDoctor] = useState({});\r\n  const [registerWeekTimeTableOpen, setRegisterWeekTimeTableOpen] = useState(false);\r\n\r\n  //-------------------------------------------------------------\r\n  //버튼 이벤트 처리\r\n  //-------------------------------------------------------------\r\n\r\n  const openModal = () => {\r\n    setModalOpen(true);\r\n  };\r\n  const closeModal = () => {\r\n    setModalOpen(false);\r\n  };\r\n\r\n\r\n  const openSelectTimeModal = (h, m) => {\r\n    //console.log(h, m);\r\n    setSelectedTime(new Date(registerDate.getFullYear(), registerDate.getMonth(), registerDate.getDate(), h, m));\r\n    console.log(selectedTime);\r\n    setSelectTimeModalOpen(true);\r\n  };\r\n\r\n  const closeSelectTimeModal = () => {\r\n    setSelectTimeModalOpen(false);\r\n  };\r\n\r\n  //기존 접수 수정 모달\r\n  const [registerModalOpen, setRegisterModalOpen] = useState(false);\r\n  const openRegisterModal = (register) => {\r\n    setHeaderContent(register.register_state);\r\n    setSelectedRegister(register);\r\n    setRegisterModalOpen(true);\r\n  };\r\n  const closeRegisterModal = () => {\r\n    setSelectedRegister(noneRegister);\r\n    setRegisterModalOpen(false);\r\n  };\r\n\r\n  const openRegisterWeekTimeTableOpen = (doctor) => {\r\n    setSelectedDoctor(doctor);\r\n    setRegisterWeekTimeTableOpen(true);\r\n  };\r\n  const closeRegisterWeekTimeTableOpen = () => {\r\n    setRegisterWeekTimeTableOpen(false);\r\n  };\r\n\r\n  //-------------------------------------------------------------\r\n  //실행 함수\r\n  //-------------------------------------------------------------\r\n\r\n  //해당 날짜에 맞는 리스트 가져오기\r\n  const getRegisterLists = async (date) => {\r\n    try {\r\n      var list = await getRegisterList(date);\r\n      //console.log(list.data.tableRegisterList);\r\n      setRegisters(list.data.tableRegisterList);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n  const getDoctorLists = async () => {\r\n    try {\r\n      var list = await getDoctorList();\r\n      setDoctors(list.data.doctorList);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  //-------------------------------------------------------------\r\n  //마운트 및 언마운트에 실행할 내용\r\n  //-------------------------------------------------------------\r\n\r\n  useEffect(() => {\r\n    getDoctorLists();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getRegisterLists(moment(registerDate).format(\"yyyy-MM-DD HH:mm\"));\r\n  }, [registerDate]);\r\n\r\n  useEffect(() => {\r\n    //console.log(\"MESSAGE: \", message);\r\n    const work = async () => {\r\n      try {\r\n        var list = await getRegisterList(moment(registerDate).format(\"yyyy-MM-DD HH:mm\"), \"\");\r\n        setRegisters(list.data.tableRegisterList);\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    };\r\n    if (message.content === \"refreshRegisters\") {\r\n      work();\r\n    }\r\n  }, [message, registerDate]);\r\n  //-------------------------------------------------------------\r\n  //렌더링 내용\r\n  //-------------------------------------------------------------\r\n  return (\r\n    <>\r\n      {/* 상단 버튼 */}\r\n      <div className=\"RegisterTimeSchedule_header\">\r\n        <div className=\"RegisterTimeSchedule_header_btn\">\r\n          <button className=\"button_team2_fill\" onClick={openModal}>신규 접수 등록</button>\r\n        </div>\r\n        <React.Fragment>\r\n          <RegisterCreateModal\r\n            open={modalOpen}\r\n            close={closeModal}\r\n            header=\"신규 접수 등록\"\r\n            doctors={doctors}\r\n            register={selectedRegister}\r\n            setPubMessage={setPubMessage}\r\n            publishTopic={publishTopic}\r\n          />\r\n          <RegisterCreateModal\r\n            open={selectTimeModalOpen}\r\n            close={closeSelectTimeModal}\r\n            header=\"신규 접수 등록\"\r\n            doctors={doctors}\r\n            register={selectedRegister}\r\n            setPubMessage={setPubMessage}\r\n            publishTopic={publishTopic}\r\n            selectedTime={selectedTime}\r\n          />\r\n          <RegisterCreateModal\r\n            open={registerModalOpen}\r\n            close={closeRegisterModal}\r\n            header={headerContent + \" 내역\"}\r\n            doctors={doctors}\r\n            register={selectedRegister}\r\n            setPubMessage={setPubMessage}\r\n            publishTopic={publishTopic}\r\n          />\r\n          <RegisterWeekTimeTableModal\r\n            open={registerWeekTimeTableOpen}\r\n            close={closeRegisterWeekTimeTableOpen}\r\n            header={\"Dr. \" + selectedDoctor.user_name}\r\n            selectedDoctor={selectedDoctor}\r\n            setPubMessage={setPubMessage}\r\n            publishTopic={publishTopic}\r\n          />\r\n        </React.Fragment>\r\n      </div>\r\n      {/* 스케쥴 타임테이블 */}\r\n      <div className=\"RegisterTimeSchedule_content\">\r\n        <div className=\"RegisterTimeSchedule_content_title\">\r\n          {/* 오늘 날짜 */}\r\n          <div className=\"RegisterTimeSchedule_content_title_today\">\r\n            <ReactDatePicker\r\n              locale=\"ko\"\r\n              selected={registerDate}\r\n              onChange={(date) => setRegisterDate(date)}\r\n              dateFormat=\"M/dd\"\r\n              readOnly\r\n            />\r\n          </div>\r\n          {/* 9시~18시 */}\r\n          <div className=\"RegisterTimeSchedule_content_title_hours\">\r\n            {hours.map(hour => {\r\n              return (\r\n                <div className=\"RegisterTimeSchedule_content_title_hours_hour\" key={hour}>\r\n                  <div className=\"RegisterTimeSchedule_content_title_hours_hour_upside\">\r\n                    {hour}시\r\n                  </div>\r\n                  <div className=\"RegisterTimeSchedule_content_title_hours_hour_downside\">\r\n                    {mins.map((min, index) => {\r\n                      let currentTime = moment().format(\"YYYY-MM-DD H:m\");\r\n                      let minCurrentTime = moment(registerDate).format(\"YYYY-MM-DD\") + \" \" + hour + \":\" + min;\r\n                      let maxCurrentTime = moment(minCurrentTime).add(15, \"m\");\r\n                      if (moment(currentTime).isBetween(minCurrentTime, maxCurrentTime, undefined, '[)')) {\r\n                        return (\r\n                          <div className=\"RegisterTimeSchedule_content_title_hours_hour_downside_content_today\" key={index}>\r\n                            {min}\r\n                          </div>\r\n                        )\r\n                      } else {\r\n                        return (\r\n                          <div className=\"RegisterTimeSchedule_content_title_hours_hour_downside_content\" key={index}>\r\n                            {min}\r\n                          </div>\r\n                        )\r\n                      }\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n        </div>\r\n        <div className=\"RegisterTimeSchedule_content_timetable\">\r\n          {doctors.map((doctor, index) => {\r\n            return (\r\n              <div className=\"RegisterTimeSchedule_content_timetable_doctors\" key={index}>\r\n                <div className=\"RegisterTimeSchedule_content_timetable_doctors_doctor\" onDoubleClick={() => openRegisterWeekTimeTableOpen(doctor)}>\r\n                  {doctor.user_name}님\r\n                </div>\r\n                <div className=\"RegisterTimeSchedule_content_timetable_doctors_registers\">\r\n                  {hours.map((hour, index1) => {\r\n                    return (\r\n                      <div className=\"RegisterTimeSchedule_content_timetable_doctors_registers_group\" key={index1}>\r\n                        {mins.map((min, index2) => {\r\n                          return (\r\n                            <div className=\"RegisterTimeSchedule_content_timetable_doctors_registers_register\" onDoubleClick={() => openSelectTimeModal(hour, min)} key={index2}>\r\n                              {registers.map((register, index3) => {\r\n                                if ((register.register_user_id === doctor.user_id)\r\n                                  && (moment(register.register_date).format(\"YYYY-MM-DD H:m\") === (moment(registerDate).format(\"YYYY-MM-DD\") + \" \" + hour + \":\" + min))) {\r\n                                  if (register.register_state === \"대기\") {\r\n                                    if (index < 4 && index1 < 8) {\r\n                                      return (\r\n                                        <div\r\n                                          className=\"RegisterTimeSchedule_content_timetable_doctors_registers_register_ready tip_normal\"\r\n                                          onClick={() => { openRegisterModal(register) }} key={index3}\r\n                                        >\r\n                                          {register.patient_name}<br></br>{register.register_state}\r\n\r\n                                          <span className={register.register_state === \"대기\" ? \"balloon_ready\" : \"\"\r\n                                            || register.register_state === \"완료\" ? \"balloon_success\" : \"\"\r\n                                              || register.register_state === \"취소\" ? \"balloon_cancel\" : \"\"}>\r\n                                            <div>\r\n                                              환자명:{register.patient_name}\r\n                                            </div>\r\n                                            <div>\r\n                                              담당의:{register.user_name}\r\n                                            </div>\r\n                                          </span>\r\n                                        </div>\r\n                                      )\r\n                                    } else {\r\n                                      if (index >= 4 && index1 < 8) {\r\n                                        return (\r\n                                          <div\r\n                                            className=\"RegisterTimeSchedule_content_timetable_doctors_registers_register_ready tip_upside\"\r\n                                            onClick={() => { openRegisterModal(register) }} key={index3}\r\n                                          >\r\n                                            {register.patient_name}<br></br>{register.register_state}\r\n\r\n                                            <span className={register.register_state === \"대기\" ? \"balloon_ready\" : \"\"\r\n                                              || register.register_state === \"완료\" ? \"balloon_success\" : \"\"\r\n                                                || register.register_state === \"취소\" ? \"balloon_cancel\" : \"\"}>\r\n                                              <div>\r\n                                                환자명:{register.patient_name}\r\n                                              </div>\r\n                                              <div>\r\n                                                담당의:{register.user_name}\r\n                                              </div>\r\n                                            </span>\r\n                                          </div>\r\n                                        )\r\n                                      } else if (index < 4 && index1 >= 8) {\r\n                                        return (\r\n                                          <div\r\n                                            className=\"RegisterTimeSchedule_content_timetable_doctors_registers_register_ready tip_rightside\"\r\n                                            onClick={() => { openRegisterModal(register) }} key={index3}\r\n                                          >\r\n                                            {register.patient_name}<br></br>{register.register_state}\r\n\r\n                                            <span className={register.register_state === \"대기\" ? \"balloon_ready\" : \"\"\r\n                                              || register.register_state === \"완료\" ? \"balloon_success\" : \"\"\r\n                                                || register.register_state === \"취소\" ? \"balloon_cancel\" : \"\"}>\r\n                                              <div>\r\n                                                환자명:{register.patient_name}\r\n                                              </div>\r\n                                              <div>\r\n                                                담당의:{register.user_name}\r\n                                              </div>\r\n                                            </span>\r\n                                          </div>\r\n                                        )\r\n                                      } else {\r\n                                        return (\r\n                                          <div\r\n                                            className=\"RegisterTimeSchedule_content_timetable_doctors_registers_register_ready tip_uprightside\"\r\n                                            onClick={() => { openRegisterModal(register) }} key={index3}\r\n                                          >\r\n                                            {register.patient_name}<br></br>{register.register_state}\r\n\r\n                                            <span className={register.register_state === \"대기\" ? \"balloon_ready\" : \"\"\r\n                                              || register.register_state === \"완료\" ? \"balloon_success\" : \"\"\r\n                                                || register.register_state === \"취소\" ? \"balloon_cancel\" : \"\"}>\r\n                                              <div>\r\n                                                환자명:{register.patient_name}\r\n                                              </div>\r\n                                              <div>\r\n                                                담당의:{register.user_name}\r\n                                              </div>\r\n                                            </span>\r\n                                          </div>\r\n                                        )\r\n                                      }\r\n                                    }\r\n                                  } else if (register.register_state === \"완료\") {\r\n                                    if (index < 4 && index1 < 8) {\r\n                                      return (\r\n                                        <div\r\n                                          className=\"RegisterTimeSchedule_content_timetable_doctors_registers_register_success tip_normal\"\r\n                                          onClick={() => { openRegisterModal(register) }} key={index3}\r\n                                        >\r\n                                          {register.patient_name}<br></br>{register.register_state}\r\n\r\n                                          <span className={register.register_state === \"대기\" ? \"balloon_ready\" : \"\"\r\n                                            || register.register_state === \"완료\" ? \"balloon_success\" : \"\"\r\n                                              || register.register_state === \"취소\" ? \"balloon_cancel\" : \"\"}>\r\n                                            <div>\r\n                                              환자명:{register.patient_name}\r\n                                            </div>\r\n                                            <div>\r\n                                              담당의:{register.user_name}\r\n                                            </div>\r\n                                          </span>\r\n                                        </div>\r\n                                      )\r\n                                    } else {\r\n                                      if (index >= 4 && index1 < 8) {\r\n                                        return (\r\n                                          <div\r\n                                            className=\"RegisterTimeSchedule_content_timetable_doctors_registers_register_success tip_upside\"\r\n                                            onClick={() => { openRegisterModal(register) }} key={index3}\r\n                                          >\r\n                                            {register.patient_name}<br></br>{register.register_state}\r\n\r\n                                            <span className={register.register_state === \"대기\" ? \"balloon_ready\" : \"\"\r\n                                              || register.register_state === \"완료\" ? \"balloon_success\" : \"\"\r\n                                                || register.register_state === \"취소\" ? \"balloon_cancel\" : \"\"}>\r\n                                              <div>\r\n                                                환자명:{register.patient_name}\r\n                                              </div>\r\n                                              <div>\r\n                                                담당의:{register.user_name}\r\n                                              </div>\r\n                                            </span>\r\n                                          </div>\r\n                                        )\r\n                                      } else if (index < 4 && index1 >= 8) {\r\n                                        return (\r\n                                          <div\r\n                                            className=\"RegisterTimeSchedule_content_timetable_doctors_registers_register_success tip_rightside\"\r\n                                            onClick={() => { openRegisterModal(register) }} key={index3}\r\n                                          >\r\n                                            {register.patient_name}<br></br>{register.register_state}\r\n\r\n                                            <span className={register.register_state === \"대기\" ? \"balloon_ready\" : \"\"\r\n                                              || register.register_state === \"완료\" ? \"balloon_success\" : \"\"\r\n                                                || register.register_state === \"취소\" ? \"balloon_cancel\" : \"\"}>\r\n                                              <div>\r\n                                                환자명:{register.patient_name}\r\n                                              </div>\r\n                                              <div>\r\n                                                담당의:{register.user_name}\r\n                                              </div>\r\n                                            </span>\r\n                                          </div>\r\n                                        )\r\n                                      } else {\r\n                                        return (\r\n                                          <div\r\n                                            className=\"RegisterTimeSchedule_content_timetable_doctors_registers_register_success tip_uprightside\"\r\n                                            onClick={() => { openRegisterModal(register) }} key={index3}\r\n                                          >\r\n                                            {register.patient_name}<br></br>{register.register_state}\r\n\r\n                                            <span className={register.register_state === \"대기\" ? \"balloon_ready\" : \"\"\r\n                                              || register.register_state === \"완료\" ? \"balloon_success\" : \"\"\r\n                                                || register.register_state === \"취소\" ? \"balloon_cancel\" : \"\"}>\r\n                                              <div>\r\n                                                환자명:{register.patient_name}\r\n                                              </div>\r\n                                              <div>\r\n                                                담당의:{register.user_name}\r\n                                              </div>\r\n                                            </span>\r\n                                          </div>\r\n                                        )\r\n                                      }\r\n                                    }\r\n                                  } else if (register.register_state === \"취소\") {\r\n                                    if (index < 4 && index1 < 8) {\r\n                                      return (\r\n                                        <div\r\n                                          className=\"RegisterTimeSchedule_content_timetable_doctors_registers_register_cancel tip_normal\"\r\n                                          onClick={() => { openRegisterModal(register) }} key={index3}\r\n                                        >\r\n                                          {register.patient_name}<br></br>{register.register_state}\r\n\r\n                                          <span className={register.register_state === \"대기\" ? \"balloon_ready\" : \"\"\r\n                                            || register.register_state === \"완료\" ? \"balloon_success\" : \"\"\r\n                                              || register.register_state === \"취소\" ? \"balloon_cancel\" : \"\"}>\r\n                                            <div>\r\n                                              환자명:{register.patient_name}\r\n                                            </div>\r\n                                            <div>\r\n                                              담당의:{register.user_name}\r\n                                            </div>\r\n                                          </span>\r\n                                        </div>\r\n                                      )\r\n                                    } else {\r\n                                      if (index >= 4 && index1 < 8) {\r\n                                        return (\r\n                                          <div\r\n                                            className=\"RegisterTimeSchedule_content_timetable_doctors_registers_register_cancel tip_upside\"\r\n                                            onClick={() => { openRegisterModal(register) }} key={index3}\r\n                                          >\r\n                                            {register.patient_name}<br></br>{register.register_state}\r\n\r\n                                            <span className={register.register_state === \"대기\" ? \"balloon_ready\" : \"\"\r\n                                              || register.register_state === \"완료\" ? \"balloon_success\" : \"\"\r\n                                                || register.register_state === \"취소\" ? \"balloon_cancel\" : \"\"}>\r\n                                              <div>\r\n                                                환자명:{register.patient_name}\r\n                                              </div>\r\n                                              <div>\r\n                                                담당의:{register.user_name}\r\n                                              </div>\r\n                                            </span>\r\n                                          </div>\r\n                                        )\r\n                                      } else if (index < 4 && index1 >= 8) {\r\n                                        return (\r\n                                          <div\r\n                                            className=\"RegisterTimeSchedule_content_timetable_doctors_registers_register_cancel tip_rightside\"\r\n                                            onClick={() => { openRegisterModal(register) }} key={index3}\r\n                                          >\r\n                                            {register.patient_name}<br></br>{register.register_state}\r\n\r\n                                            <span className={register.register_state === \"대기\" ? \"balloon_ready\" : \"\"\r\n                                              || register.register_state === \"완료\" ? \"balloon_success\" : \"\"\r\n                                                || register.register_state === \"취소\" ? \"balloon_cancel\" : \"\"}>\r\n                                              <div>\r\n                                                환자명:{register.patient_name}\r\n                                              </div>\r\n                                              <div>\r\n                                                담당의:{register.user_name}\r\n                                              </div>\r\n                                            </span>\r\n                                          </div>\r\n                                        )\r\n                                      } else {\r\n                                        return (\r\n                                          <div\r\n                                            className=\"RegisterTimeSchedule_content_timetable_doctors_registers_register_cancel tip_uprightside\"\r\n                                            onClick={() => { openRegisterModal(register) }} key={index3}\r\n                                          >\r\n                                            {register.patient_name}<br></br>{register.register_state}\r\n\r\n                                            <span className={register.register_state === \"대기\" ? \"balloon_ready\" : \"\"\r\n                                              || register.register_state === \"완료\" ? \"balloon_success\" : \"\"\r\n                                                || register.register_state === \"취소\" ? \"balloon_cancel\" : \"\"}>\r\n                                              <div>\r\n                                                환자명:{register.patient_name}\r\n                                              </div>\r\n                                              <div>\r\n                                                담당의:{register.user_name}\r\n                                              </div>\r\n                                            </span>\r\n                                          </div>\r\n                                        )\r\n                                      }\r\n                                    }\r\n                                  }\r\n                                }\r\n                              })}\r\n                            </div>\r\n                          )\r\n                        })}\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </div>\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default RegisterTimeSchedule;\r\n","import DatePicker from \"react-datepicker\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport setHours from \"date-fns/setHours\";\r\nimport setMinutes from \"date-fns/setMinutes\";\r\nimport { registerLocale } from \"react-datepicker\";\r\nimport ko from 'date-fns/locale/ko';\r\nimport { changeRegisterState, updateRegister } from \"apis/register\";\r\nimport moment from \"moment\";\r\nimport { ToastsContainer, ToastsContainerPosition, ToastsStore } from \"react-toasts\";\r\nregisterLocale(\"ko\", ko);\r\n\r\nfunction RegisterUpdateForm(props) {\r\n  // props 상속\r\n  const { selectedPatient, doctors, setSelectedPatient, changeRegister, cancelRegister, publishTopic } = props;\r\n\r\n  // 빈 객체\r\n  const noneRegister = {\r\n    register_id: \"\",\r\n    register_patient_id: \"\",\r\n    register_user_id: \"\",\r\n    register_regdate: \"\",\r\n    register_date: new Date(),\r\n    register_starttime: \"\",\r\n    register_memo: \"\",\r\n    register_communication: \"\",\r\n    register_state: \"\",\r\n\r\n    // 추가된 DTO\r\n    patient_name: \"\",\r\n    patient_ssn: \"\",\r\n    patient_sex: \"\",\r\n    patient_tel: \"\",\r\n\r\n    user_name: \"\"\r\n  };\r\n  var selectPatient;\r\n  if (selectedPatient) {\r\n    selectPatient = selectedPatient;\r\n  } else {\r\n    selectPatient = noneRegister;\r\n  }\r\n  const noneDoctor = {\r\n    user_id: \"\",\r\n    user_hospital_id: \"\",\r\n    user_password: \"\",\r\n    user_name: \"\",\r\n    user_ssn: \"\",\r\n    user_tel: \"\",\r\n    user_email: \"\",\r\n    user_sex: \"\",\r\n    user_zipcode: \"\",\r\n    user_address: \"\",\r\n    user_detailaddress1: \"\",\r\n    user_detailaddress2: \"\",\r\n    user_regdate: \"\",\r\n    user_enabled: \"\",\r\n    user_authority: \"\",\r\n  };\r\n  var doctorlist;\r\n  if (doctors) {\r\n    doctorlist = doctors;\r\n  } else {\r\n    doctorlist = noneDoctor;\r\n  }\r\n\r\n  //-------------------------------------------------------------  \r\n  //상태 선언\r\n  //-------------------------------------------------------------\r\n\r\n  // 진료 날짜 상태\r\n\r\n  const [startDate, setStartDate] = useState(new Date());\r\n  const [minDate, setMinDate] = useState(new Date());\r\n  const [minTime, setMinTime] = useState(setHours(setMinutes(new Date(), 0), 9));\r\n  const [maxTime, setMaxTime] = useState(setHours(setMinutes(new Date(), 45), 17));\r\n  const [showTimeSelect, setShowTimeSelect] = useState(true);\r\n\r\n\r\n  // 담당의 상태\r\n\r\n  // 다른 의사들\r\n  const [doctorsList, setDoctorsList] = useState(doctorlist);\r\n  // 선택된 의사\r\n  const [newDoctor, setNewDoctor] = useState(selectPatient.register_user_id);\r\n  const changeNewDoctor = useCallback((event) => {\r\n    setNewDoctor(event.target.value);\r\n  },[]);\r\n\r\n  // 접수 메모 상태\r\n  const [newMemo, setNewMemo] = useState(selectPatient.register_memo);\r\n  const changeNewMemo = useCallback((event) => {\r\n    setNewMemo(event.target.value);\r\n  },[]);\r\n\r\n  // 의사소통 메모 상태\r\n  const [newCommunication, setNewCommunication] = useState(selectPatient.register_communication);\r\n  const changeNewCommunication = useCallback((event) => {\r\n    setNewCommunication(event.target.value);\r\n  },[]);\r\n  //-------------------------------------------------------------\r\n  //버튼 이벤트 처리\r\n  //-------------------------------------------------------------\r\n  const updateRegisterBtn = async (event) => {\r\n    try {\r\n      let new_doctor = doctorsList.find((doctor) => {\r\n        if (doctor.user_id === newDoctor) {\r\n          return true;\r\n        }\r\n      });\r\n      let newRegister = {\r\n        register_id: selectPatient.register_id,\r\n        register_patient_id: selectPatient.register_patient_id,\r\n        register_user_id: newDoctor,\r\n        register_regdate: selectPatient.register_regdate,\r\n        register_date: moment(startDate).format(\"yyyy-MM-DD HH:mm\"),\r\n        register_starttime: \"\",\r\n        register_memo: newMemo,\r\n        register_communication: newCommunication,\r\n        register_state: selectPatient.register_state,\r\n        patient_name: selectPatient.patient_name,\r\n        patient_ssn: selectPatient.patient_ssn,\r\n        patient_sex: selectPatient.patient_sex,\r\n        patient_tel: selectPatient.patient_tel,\r\n        user_name: new_doctor.user_name\r\n      };\r\n      var list = await updateRegister(newRegister);\r\n      //console.log(\"업데이트\",list.data.result);\r\n      if (list.data.result === \"중복\") {\r\n        ToastsStore.success(\"이미 예약이 되어있습니다.\");\r\n      } else if (list.data.result === \"성공\") {\r\n        publishTopic(0);\r\n        setSelectedPatient(newRegister);\r\n        changeRegister();\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n  const cancelRegisterForm = (event) => {\r\n    cancelRegister();\r\n  };\r\n\r\n  // datepicker 옵션\r\n  let handleColor = (time) => {\r\n    return (time.getHours() > 8 && time.getHours() < 18 ? \"hourStyle\" : \"\");\r\n  };\r\n\r\n  //-------------------------------------------------------------\r\n  //마운트 및 언마운트에 실행할 내용\r\n  //-------------------------------------------------------------\r\n  useEffect(() => {\r\n    setStartDate(props.selectedPatient ? new Date(props.selectedPatient.register_date) : new Date());\r\n    return () => {\r\n      changeRegister();\r\n    }\r\n  }, [props.selectedPatient]);\r\n  useEffect(() => {\r\n    setMinDate(() =>\r\n      ((startDate.getFullYear() === new Date().getFullYear())\r\n        && (startDate.getMonth() === new Date().getMonth())\r\n        && (startDate.getDate() === new Date().getDate())\r\n        && (startDate.getHours() >= 18))\r\n        // || (startDate.getHours() <= 18)))\r\n        ? new Date().setDate(new Date().getDate() + 1) : new Date()\r\n    );\r\n  }, []);\r\n  useEffect(() => {\r\n    setShowTimeSelect(() =>\r\n      ((startDate.getFullYear() === new Date().getFullYear())\r\n        && (startDate.getMonth() === new Date().getMonth())\r\n        && (startDate.getDate() === new Date().getDate())\r\n        && (startDate.getHours() >= 18))\r\n        ? false : true\r\n    );\r\n\r\n    setMinTime(() =>\r\n      ((startDate.getFullYear() === new Date().getFullYear())\r\n        && (startDate.getMonth() === new Date().getMonth())\r\n        && (startDate.getDate() === new Date().getDate())\r\n        && ((startDate.getHours() >= 9)\r\n          || (startDate.getHours() <= 18)))\r\n        ? new Date() : setHours(setMinutes(new Date(), 0), 9)\r\n    );\r\n    setMaxTime(() =>\r\n      ((startDate.getFullYear() === new Date().getFullYear())\r\n        && (startDate.getMonth() === new Date().getMonth())\r\n        && (startDate.getDate() === new Date().getDate())\r\n        && ((startDate.getHours() >= 9)\r\n          || (startDate.getHours() <= 18)))\r\n        ? setHours(setMinutes(new Date(), 45), 17) : setHours(setMinutes(new Date(), 45), 17)\r\n    );\r\n  }, [props.selectedPatient.register_date, startDate]);\r\n  //-------------------------------------------------------------\r\n  //렌더링 내용\r\n  //-------------------------------------------------------------\r\n  return (\r\n    <>\r\n      {/* 상단 메뉴 이름 */}\r\n      <div className=\"RegisterUpdateForm_header\">\r\n        접수 수정\r\n      </div>\r\n      {/* 하단 내용 */}\r\n      <div className=\"RegisterUpdateForm_content border\">\r\n        <ToastsContainer store={ToastsStore} position={ToastsContainerPosition.TOP_CENTER} lightBackground />\r\n        {/* 접수 상세 내역 내용 */}\r\n        <div className=\"RegisterUpdateForm_content_form\">\r\n          <form>\r\n            <div className=\"RegisterUpdateForm_content_list\">\r\n              <div className=\"RegisterUpdateForm_content_list_label\">\r\n                환자명:\r\n              </div>\r\n              <div className=\"RegisterUpdateForm_content_list_input\">\r\n                <input className=\"RegisterUpdateForm_content_list_input_readOnly\" type=\"text\" value={selectPatient.patient_name} readOnly />\r\n              </div>\r\n            </div>\r\n            <div className=\"RegisterUpdateForm_content_list\">\r\n              <div className=\"RegisterUpdateForm_content_list_label\">\r\n                생년월일:\r\n              </div>\r\n              <div className=\"RegisterUpdateForm_content_list_input\">\r\n                <input className=\"RegisterUpdateForm_content_list_input_readOnly\" type=\"text\" value={selectPatient.patient_ssn ? selectPatient.patient_ssn.substring(0, 6) : selectPatient.patient_ssn} readOnly />\r\n              </div>\r\n            </div>\r\n            <div className=\"RegisterUpdateForm_content_list\">\r\n              <div className=\"RegisterUpdateForm_content_list_label\">\r\n                성별:\r\n              </div>\r\n              <div className=\"RegisterRead_content_list_input\">\r\n                <input className=\"RegisterRead_content_list_input_readOnly\" type=\"text\" value={selectPatient.patient_sex} readOnly />\r\n              </div>\r\n            </div>\r\n            <div className=\"RegisterUpdateForm_content_list\">\r\n              <div className=\"RegisterUpdateForm_content_list_label\">\r\n                전화번호:\r\n              </div>\r\n              <div className=\"RegisterUpdateForm_content_list_input\">\r\n                <input className=\"RegisterUpdateForm_content_list_input_readOnly\" type=\"text\" value={selectPatient.patient_tel} readOnly />\r\n              </div>\r\n            </div>\r\n            <div className=\"RegisterUpdateForm_content_list\">\r\n              <div className=\"RegisterUpdateForm_content_list_label\">\r\n                담당의:\r\n              </div>\r\n              <div className=\"RegisterUpdateForm_content_list_input\">\r\n                <select className=\"RegisterUpdateForm_input_select\" value={newDoctor} onChange={changeNewDoctor}>\r\n                  <option disabled>담당의를 선택해주세요</option>\r\n                  {/* 임의의 데이터 넣어서 출력 해보기 */}\r\n                  {doctorsList.map(doctor => {\r\n                    return (\r\n                      <option key={doctor.user_id} value={doctor.user_id}>{doctor.user_name}</option>\r\n                    );\r\n                  })}\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"RegisterUpdateForm_content_list\">\r\n              <div className=\"RegisterUpdateForm_content_list_label\">\r\n                진료 날짜:\r\n              </div>\r\n              <div className=\"RegisterUpdateForm_content_list_input\">\r\n                <DatePicker\r\n                  locale=\"ko\"\r\n                  showTimeSelect={showTimeSelect}\r\n                  selected={startDate}\r\n                  onChange={(date) => { setStartDate(date); }}\r\n                  timeIntervals={15}\r\n                  timeCaption=\"시간\"\r\n                  minDate={minDate}\r\n                  minTime={minTime}\r\n                  maxTime={maxTime}\r\n                  timeClassName={handleColor}\r\n                  dateFormat=\"yyyy-MM-dd H:mm\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"RegisterUpdateForm_content_list\">\r\n              <div className=\"RegisterUpdateForm_content_list_label\">\r\n                접수 메모:\r\n              </div>\r\n              <div className=\"RegisterUpdateForm_content_list_input\">\r\n                <input type=\"text\" value={newMemo} onChange={changeNewMemo} />\r\n              </div>\r\n            </div>\r\n            <div className=\"RegisterUpdateForm_content_list\">\r\n              <div className=\"RegisterUpdateForm_content_list_label\">\r\n                의사소통 메모:\r\n              </div>\r\n              <div className=\"RegisterUpdateForm_content_list_input\">\r\n                <input type=\"text\" value={newCommunication} onChange={changeNewCommunication} />\r\n              </div>\r\n            </div>\r\n          </form>\r\n          {/* 수정 취소 버튼 */}\r\n          <div className=\"RegisterUpdateForm_content_button\">\r\n            <button className=\"button_team2_empty\" onClick={cancelRegisterForm} >취소</button>\r\n            <button className=\"button_team2_fill\" type=\"submit\" onClick={updateRegisterBtn} >수정</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default RegisterUpdateForm;\r\n","import { getDoctorList } from \"apis/register\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport RegisterList from \"./RegisterList\";\r\nimport RegisterRead from \"./RegisterRead\";\r\nimport RegisterTimeSchedule from \"./RegisterTimeSchedule\";\r\nimport RegisterUpdateForm from \"./RegisterUpdateForm\";\r\nimport Paho from \"paho-mqtt\";\r\nimport { sendMqttMessage } from \"apis/mqtt\";\r\n\r\nfunction Register(props) {\r\n\r\n\r\n  ///////////////////////////////////////////////////////////////\r\n  // MQTT 설정 \r\n  ///////////////////////////////////////////////////////////////\r\n\r\n  //-------------------------------------------------------------  \r\n  //메시지 종류\r\n  //-------------------------------------------------------------\r\n\r\n  // 1. 리스트 호출 - nurse -> nurse\r\n  // { topic: \"/138010/nurse\", content: \"refreshRegisters\"}\r\n  // 2. 진료 추가   - nurse -> doctor\r\n  // { topic: \"/138010/doctor\", content: \"addTreatments\"}\r\n  // 3. To Do List 추가\r\n  // { topic: \"/138010/doctor\", content: \"refreshToDoList\"}\r\n  \r\n\r\n  //-------------------------------------------------------------  \r\n  //MQTT상태 선언\r\n  //-------------------------------------------------------------\r\n\r\n  const [subTopic, setSubTopic] = useState(\"/138010/nurse\");  // 병원코드/간호사\r\n  const [prevSubTopic, setPrevSubTopic] = useState(\"/138010/nurse\"); // 병원코드/간호사\r\n  const [pubMessage, setPubMessage] = useState([\r\n    { topic: \"/138010/nurse\", content: \"refreshRegisters\"}, \r\n    { topic: \"/138010/nurse/doctor\", content: \"addTreatments\"},\r\n    { topic: \"/138010/nurse\", content: \"refreshToDoList\"}\r\n  ]);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  //-------------------------------------------------------------\r\n  //MQTT 연결 함수\r\n  //-------------------------------------------------------------\r\n  \r\n  let client = useRef(null);\r\n  const connectMqttBroker = () => {\r\n    // Paho.Mqtt.Client x\r\n    client.current = new Paho.Client(\"kosa3.iptime.org\", 50012, \"client-\" + new Date().getTime());\r\n    // client.current = new Paho.Client(\"localhost\", 61614, \"client-\" + new Date().getTime());\r\n\r\n    client.current.onConnectionLost = () => {\r\n      console.log(\"Mqtt 접속 끊김\");\r\n    };\r\n\r\n    client.current.onMessageArrived = (msg) => {\r\n      console.log(\"메시지 수신\");\r\n      var Jmessage = JSON.parse(msg.payloadString);\r\n      console.log(Jmessage);\r\n      setMessage(() => {\r\n        return Jmessage;\r\n      });\r\n    };\r\n\r\n    client.current.connect({\r\n      \r\n      onSuccess: () => {\r\n        console.log(\"mqtt 들어옴\");\r\n        sendSubTopic();\r\n        console.log(\"Mqtt 접속 성공\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const disconnectMqttBroker = () => {\r\n    client.current.disconnect(); // onConnectionLost 실행됨\r\n  };\r\n  const sendSubTopic = () => {\r\n    client.current.unsubscribe(prevSubTopic);\r\n    client.current.subscribe(subTopic);\r\n    setPrevSubTopic(subTopic);\r\n  };\r\n\r\n  const publishTopic = async (num) => {\r\n    await sendMqttMessage(pubMessage[num]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    //sendSubTopic();\r\n    connectMqttBroker();\r\n  },[]);\r\n\r\n  //-------------------------------------------------------------  \r\n  //상태 선언\r\n  //-------------------------------------------------------------\r\n\r\n  // 접수 DB 컬럼 REGISTERS TABLE\r\n  // REGISTER_ID, REGISTER_PATIENT_ID, REGISTER_USER_ID, \r\n  // REGISTER_REGDATE, REGISTER_DATE, REGISTER_TIME, \r\n  // REGISTER_MEMO, REGISTER_COMMUNICATION, REGISTER_STATE\r\n\r\n  // 공통 날짜\r\n  const [registerDate, setRegisterDate] = useState(new Date());\r\n\r\n  // 접수 내역 배열 \r\n  //const [registerList, setRegisterList] = useState();\r\n\r\n  // 선택된 환자 내용\r\n  const [selectedPatient, setSelectedPatient] = useState({});\r\n\r\n  // 접수 상세 내역 & 접수 수정 체인지\r\n  const [registerRead, setRegisterRead] = useState(true);\r\n\r\n  // 등록된 의사들 배열\r\n  const [doctors, setDoctors] = useState([]);\r\n\r\n  //-------------------------------------------------------------\r\n  //버튼 이벤트 처리\r\n  //-------------------------------------------------------------\r\n  \r\n  const changeRegister = (event) => {\r\n    if (registerRead === true) {\r\n      setRegisterRead(false);\r\n    } else {\r\n      setRegisterRead(true);\r\n    }\r\n  };\r\n\r\n  const cancelRegister = (event) => {\r\n    if (registerRead === true) {\r\n      setRegisterRead(false);\r\n    } else {\r\n      setRegisterRead(true);\r\n    }\r\n  };\r\n\r\n  //-------------------------------------------------------------\r\n  //마운트 및 언마운트에 실행할 내용\r\n  //-------------------------------------------------------------\r\n\r\n  const getDoctorLists = async () => {\r\n    try {\r\n      var list = await getDoctorList();\r\n      setDoctors(list.data.doctorList);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  useEffect(()=>{\r\n    getDoctorLists();\r\n  },[]);\r\n\r\n\r\n  //-------------------------------------------------------------\r\n  //렌더링 내용\r\n  //-------------------------------------------------------------\r\n  return (\r\n    <div className=\"Register\">\r\n      {/* 상단 */}\r\n      <div className=\"Register_1\">\r\n        {/* 접수 내역 */}\r\n        <div className=\"RegisterList\">\r\n          <RegisterList\r\n            setSelectedPatient={setSelectedPatient} \r\n            registerDate={registerDate}\r\n            setRegisterDate={setRegisterDate}\r\n            message={message}\r\n            publishTopic={publishTopic}\r\n            />\r\n        </div>\r\n        {/* 접수 상세 내역 or 접수 수정*/}\r\n        <div className=\"RegisterRead\">\r\n          {registerRead ?\r\n            <RegisterRead\r\n              registerRead={registerRead}\r\n              changeRegister={changeRegister}\r\n              registerDate={registerDate}\r\n              selectedPatient={selectedPatient}\r\n              setSelectedPatient={setSelectedPatient}\r\n            />\r\n            :\r\n            <RegisterUpdateForm\r\n              registerRead={registerRead}\r\n              changeRegister={changeRegister}\r\n              cancelRegister={cancelRegister}\r\n              selectedPatient={selectedPatient}\r\n              setSelectedPatient={setSelectedPatient}\r\n              doctors={doctors}\r\n              publishTopic={publishTopic}\r\n            />\r\n          }\r\n        </div>\r\n      </div>\r\n      {/* 하단 */}\r\n      <div className=\"Register_2\">\r\n        <div className=\"Register_2_header\">\r\n          진료 예정표\r\n        </div>\r\n        <div className=\"Register_Components border\">\r\n          <div className=\"RegisterTimeSchedule\">\r\n            <RegisterTimeSchedule \r\n              registerDate={registerDate}\r\n              setRegisterDate={setRegisterDate}\r\n              message={message}\r\n              publishTopic={publishTopic}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Register;","import axios from \"axios\";\r\n\r\n\r\nexport function getTreatmentPatientList(date, state=\"\",globalUid) {\r\n  const promise = axios.get(\"/treatment/treatmentlist\", {params: {date, state, globalUid}});\r\n  return promise;\r\n}\r\n\r\n// export function getTreatmentPatientList(date, state=\"\") {\r\n//   const promise = axios.get(\"/treatment/treatmentlist\", {params: {date, state}});\r\n//   return promise;\r\n// }\r\n\r\n\r\nexport function getTreatmentHistoryList(treatment_patient_id) {\r\n  const promise = axios.get(\"/treatment/historyList\", {params: {treatment_patient_id}});\r\n  return promise;\r\n}\r\n\r\nexport function getTreatmentHistoryRead(treatment_id) {\r\n  const promise = axios.get(\"/treatment/historyRead\", {params: {treatment_id}});\r\n  return promise;\r\n  \r\n}\r\n\r\n\r\nexport function updateTreatment(treatment) {\r\n  const promise = axios.put(\"/treatment\",treatment);\r\n  return promise;\r\n  \r\n}\r\n\r\nexport function getSearchDurg(keyword=\"\", condition=\"\") {\r\n  const promise = axios.get(\"/treatment/keyword\", {params: {keyword, condition}});\r\n  return promise;\r\n}\r\n\r\n// export function getCategoryInspectionList(categoryValue) {\r\n//   const promise = axios.get(\"/treatment/categoryValue\", {params: {categoryValue}});\r\n//   return promise;\r\n// }\r\nexport function getCategoryInspectionList() {\r\n  const promise = axios.get(\"/treatment/categoryValue\");\r\n  return promise;\r\n}\r\n// drugsInjections 등록하기\r\nexport function createDruglist(selectedDrug){\r\n  const promise = axios.post(\"/treatment/drugsInjections\", selectedDrug);\r\n  return promise;\r\n}\r\n","import axios from \"axios\";\r\n\r\nexport function readPatient(treatmentDate, state=\"\") {\r\n  const promise = axios.get(\"/inspection\", {params:{treatmentDate, state}});\r\n  return promise;\r\n}\r\n\r\nexport function updateIstateW(treatmentId) {\r\n  const promise = axios.put(\"/inspection/istateW\", null, {params:{treatmentId}});\r\n  return promise;\r\n}\r\n\r\nexport function updateIstateI(treatmentId) {\r\n  const promise = axios.put(\"/inspection/istateI\", null, {params:{treatmentId}});\r\n  return promise;\r\n}\r\n\r\nexport function updateIstateC(treatmentId) {\r\n  const promise = axios.put(\"/inspection/istateC\", null, {params:{treatmentId}});\r\n  return promise;\r\n}\r\n\r\nexport function readInspection(treatmentId) {\r\n  const promise = axios.get(\"/inspection/inspections\", {params:{treatmentId}});\r\n  return promise;\r\n}\r\n\r\nexport function updateState(inspectionId, state) {\r\n  const promise = axios.put(\"/inspection/state\", null, {params:{inspectionId, state}});\r\n  return promise;\r\n}\r\n\r\nexport function updateResult(inspectionId, inspectionResult) {\r\n  const promise = axios.put(\"/inspection/result\", null, {params:{inspectionId, inspectionResult}});\r\n  return promise;\r\n}\r\n\r\nexport function selectImgId(inspectionId) {\r\n  const promise = axios.get(\"/inspection/imgId\", {params:{inspectionId}});\r\n  return promise;\r\n}\r\n\r\nexport function downloadImg(inspectionImgId) {\r\n  const promise = axios.get(\"/inspection/images/\" + inspectionImgId, {responseType: \"blob\"});\r\n  return promise;\r\n}\r\n\r\nexport function readImage(inspectionId) {\r\n  const promise = axios.get(\"/inspection/images\", {params:{inspectionId}});\r\n  return promise;\r\n}\r\n\r\nexport function createImage(multipartFormData) {\r\n  const promise = axios.post(\"/inspection/images\", multipartFormData);\r\n  return promise;\r\n}\r\n\r\nexport function deleteImage(inspectionId) {\r\n  const promise = axios.delete(\"/inspection/images\", {params:{inspectionId}});\r\n  return promise;\r\n}","import { useEffect, useState } from \"react\";\r\nimport style from \"./InspectionImgFormModal.module.css\";\r\nimport ImageGallery from \"react-image-gallery\";\r\nimport \"react-image-gallery/styles/css/image-gallery.css\";\r\nimport { readImage, selectImgId, downloadImg } from \"apis/inspections\";\r\n\r\nfunction InspectionImgFormModal(props) {\r\n  //영상검사 이미지 결과\r\n  const [inspectionImgResult, setInspectionImgResult] = useState(props.inspection);\r\n  //모달 열기, 닫기 props\r\n  const { open, close } = props;\r\n  //ImageGallery에 사용될 이미지 배열\r\n  let images = [];\r\n\r\n  ////////////////////////////////////////////////////////////\r\n\r\n  //DB Inspection_Imgs에서 해당 검사번호를 가진 검사이미지 목록 가져옴\r\n  const getInspectionImgs = async () => {\r\n    try {\r\n      if (props.id === props.inspection.inspection_id) {\r\n        //해당 검사번호를 가진 검사이미지의 다운로드 url 가져와서 images 배열에 넣음\r\n        const response = await readImage(props.id);\r\n        for (var i = 0; i <= response.data.inspectionImgList.length - 1; i++) {\r\n          images.push({\r\n            original: response.data.inspectionImgList[i].inspection_img_path,\r\n            thumbnail: response.data.inspectionImgList[i].inspection_img_path,\r\n            originalHeight: 600,\r\n          });\r\n        }\r\n\r\n        //해당 검사번호를 가진 검사이미지번호 목록 가져옴\r\n        const responseImgId = await selectImgId(props.id);\r\n\r\n        //검사이미지번호의 이미지 다운로드\r\n        for (var i = 0; i <= responseImgId.data.inspectionImgList.length - 1; i++) {\r\n          await downloadImg(responseImgId.data.inspectionImgList[i].inspection_img_id);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  ////////////////////////////////////////////////////////////\r\n\r\n  useEffect(() => {\r\n    if(open === true){\r\n      getInspectionImgs();\r\n    }\r\n  }, [open]);\r\n\r\n  ////////////////////////////////////////////////////////////\r\n\r\n  return (\r\n    <div className={style.InspectionImgModal}>\r\n      <div className={open ? `${style.openModal} ${style.modal}` : `${style.modal}`}>\r\n        {open ? (\r\n          <section>\r\n            <div className={`${style.InspectionImgForm_title} m-2`}>검사 사진</div>\r\n            <div className={`${style.InspectionImgForm_1} border`}>\r\n              <div className={`${style.InspectionImgForm_1_1} m-3`}>\r\n                <div className={`${style.InspectionImgForm_1_1_1} mr-3 ml-3`}>\r\n                  <div className=\"mb-1\">진단검사명 :</div>\r\n                  <div className=\"mb-1\">검사명 :</div>\r\n                  <div className=\"mb-1\">검사번호 :</div>\r\n                  <div className=\"mb-1\">담당의 :</div>\r\n                  <div className=\"mb-1\">검사자 :</div>\r\n                  <div className=\"mb-1\">검사실 :</div>\r\n                </div>\r\n                <div className={style.InspectionImgForm_1_1_2}>\r\n                  <div className=\"mb-1\">{inspectionImgResult.inspection_list_category}</div>\r\n                  <div className=\"mb-1\">{inspectionImgResult.inspection_list_name}</div>\r\n                  <div className=\"mb-1\">{props.id}</div>\r\n                  <div className=\"mb-1\">{inspectionImgResult.inspection_doctor_name}</div>\r\n                  <div className=\"mb-1\">{inspectionImgResult.inspection_inspector_name}</div>\r\n                  <div className=\"mb-1\">{inspectionImgResult.inspection_lab}</div>\r\n                </div>\r\n              </div>\r\n              <div className={`${style.InspectionImgForm_1_2} m-3`}>\r\n                <ImageGallery items={images} />\r\n              </div>\r\n            </div>\r\n            <div className={`${style.InspectionImgForm_2} m-2`}>\r\n              <button className=\"button_team2_fill\" onClick={close}>\r\n                닫기\r\n              </button>\r\n            </div>\r\n          </section>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InspectionImgFormModal;","import React, { useState, useEffect } from \"react\";\r\n\r\nimport style from \"./style.module.css\";\r\nimport { getTreatmentHistoryRead } from \"apis/treatments\";\r\nimport InspectionImgFormModal from \"views/Inspection/components/modal/InspectionImgFormModal\";\r\nimport moment from \"moment\";\r\nimport Spinner from \"components/common/Spinner\";\r\n\r\nfunction TreatmentHistoryRead(props) {\r\n  //historylist에서 클릭한 진료 번호 가져오기\r\n  const { open, close, selectedTreatmentId } = props;\r\n\r\n  //soap 상태\r\n  const [soap, setSoap] = useState([]);\r\n\r\n  //검사 리스트 상태\r\n  const [inspectionlists, setInspectionlists] = useState([]);\r\n\r\n  //약 리스트 상태\r\n  const [druglists, setDrugLists] = useState([]);\r\n\r\n  //true 일때, 이미지 모달 열림\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n\r\n  // spinner\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  //임시 진료 번호\r\n  var tempTreatmentId = \"\";\r\n\r\n  //진료기록리스트에서 선택한 진료번호 가져오기 -> selectedTreatmentId == readTreatmentId\r\n  var readTreatmentId;\r\n  if (selectedTreatmentId) {\r\n    readTreatmentId = selectedTreatmentId;\r\n  } else {\r\n    readTreatmentId = tempTreatmentId;\r\n  }\r\n\r\n  const openModal = () => {\r\n    setModalOpen(true);\r\n  };\r\n  const closeModal = () => {\r\n    setModalOpen(false);\r\n  };\r\n\r\n  //DB treatments 에서 treatment_id에 맞는 해당 진료기록 가져오기(soap, 검사, 처방)\r\n  const getRead = async (treatment_id) => {\r\n    setLoading(true);\r\n    try {\r\n      var list = await getTreatmentHistoryRead(treatment_id);\r\n      setSoap(list.data.treatmentSoaplist);\r\n      setInspectionlists(list.data.treatmentInspectionlist);\r\n      setDrugLists(list.data.treatmentDrugsInjectionlist);\r\n    } catch (e) {\r\n      console.log(e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    //console.log(\"asasasas\",checkedPatientlist.treatment_patient_id);\r\n    getRead(readTreatmentId);\r\n  }, [props, readTreatmentId]);\r\n\r\n  return (\r\n    <div className={style.TreatmentHistorymodal}>\r\n      <div className={open ? `${style.openModal} ${style.modal}` : `${style.modal}`}>\r\n        {open ? (\r\n          <section>\r\n            {loading ? (\r\n              <Spinner />\r\n            ) : (\r\n              <>\r\n                <div className={style.TreatmentHistoryRead}>\r\n                  <div className={style.TreatmentHistoryRead_title}> 진료번호 : {readTreatmentId} . 진료상세 </div>\r\n                  <div className={`${style.TreatmentHistoryRead_border} border`}>\r\n                    <div className={style.TreatmentHistoryRead_1}>\r\n                      <table className={`${style.TreatmentHistoryRead_1_table} table table-bordered`}>\r\n                        <tbody>\r\n                          {soap.map((soap) => {\r\n                            return (\r\n                              <tr key={soap.treatment_id}>\r\n                                <th className={`text-center border`} bgcolor=\"lightgrey\">\r\n                                  Subjective\r\n                                </th>\r\n                                {/* <td width=\"80%\">목 아픔</td> */}\r\n                                <td className={`text-left`} width=\"80%\">\r\n                                  {soap.treatment_smemo}\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })}\r\n                          {soap.map((soap) => {\r\n                            return (\r\n                              <tr key={soap.treatment_id}>\r\n                                <th className={`text-center border`} bgcolor=\"lightgrey\">\r\n                                  Objective\r\n                                </th>\r\n                                {/* <td width=\"80%\">인후염</td> */}\r\n                                <td className={`text-left`} width=\"80%\">\r\n                                  {soap.treatment_omemo}\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })}\r\n                          {soap.map((soap) => {\r\n                            return (\r\n                              <tr key={soap.treatment_id}>\r\n                                <th className={`text-center border`} bgcolor=\"lightgrey\">\r\n                                  Assessment\r\n                                </th>\r\n                                {/* <td width=\"80%\">온열찜질기 실행</td> */}\r\n                                <td className={`text-left`} width=\"80%\">\r\n                                  {soap.treatment_amemo}\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })}\r\n                          {soap.map((soap) => {\r\n                            return (\r\n                              <tr key={soap.treatment_id}>\r\n                                <th className={`text-center border`} bgcolor=\"lightgrey\">\r\n                                  {\" \"}\r\n                                  Plan\r\n                                </th>\r\n                                {/* <td width=\"80%\">다음 내원시 Lab test</td> */}\r\n                                <td className={`text-left`} width=\"80%\">\r\n                                  {soap.treatment_pmemo}\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                    <div className={style.TreatmentHistoryRead_2}>\r\n                      <div className={style.TreatmentHistoryRead_2_title}>검사목록</div>\r\n                      <div className={`${style.TreatmentHistoryRead_2_Totaltable} border`}>\r\n                        <table className={`${style.TreatmentHistoryRead_2_table} table`}>\r\n                          <thead className={style.TreatmentHistoryRead_2_table_thead}>\r\n                            <tr className={style.TreatmentHistoryRead_2_table_tbody}>\r\n                              <th>진단검사명</th>\r\n                              <th>검사 날짜</th>\r\n                              <th>검사자</th>\r\n                              <th>검사명</th>\r\n                              <th>참고치</th>\r\n                              <th>검사 결과</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {inspectionlists.map((inspections) => {\r\n                              return (\r\n                                <tr key={inspections.inspection_id}>\r\n                                  <td>{inspections.inspection_list_category}</td>\r\n                                  <td>{moment(inspections.inspection_date).format(\"yyyy-MM-DD HH:mm\")}</td>\r\n                                  <td>{inspections.inspection_inspector_name}</td>\r\n                                  <td>{inspections.inspection_list_name}</td>\r\n                                  <td>{inspections.inspection_list_reference}</td>\r\n                                  {/* <td>{inspections.inspection_state}</td> */}\r\n                                  {inspections.inspection_list_category === \"영상검사\" ? (\r\n                                    inspections.inspection_result === \"img\" ? (\r\n                                      <td>\r\n                                        <React.Fragment>\r\n                                          {\" \"}\r\n                                          <button className=\"button_team2_empty\" onClick={openModal}>\r\n                                            보기\r\n                                          </button>\r\n                                          <InspectionImgFormModal id={inspections.inspection_id} open={modalOpen} close={closeModal} inspection={inspections} />\r\n                                        </React.Fragment>\r\n                                      </td>\r\n                                    ) : (\r\n                                      <td></td>\r\n                                    )\r\n                                  ) : (\r\n                                    <td>{inspections.inspection_result}</td>\r\n                                  )}\r\n                                </tr>\r\n                              );\r\n                            })}\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                    <div className={style.TreatmentHistoryRead_3}>\r\n                      <div className={style.TreatmentHistoryRead_3_title}>처방목록</div>\r\n                      <div className={`${style.TreatmentHistoryRead_3_Totaltable} border`}>\r\n                        <table className={`${style.TreatmentHistoryRead_3_table} table`}>\r\n                          <thead className={style.TreatmentHistoryRead_3_table_thead}>\r\n                            <tr>\r\n                              <th>처방 날짜</th>\r\n                              <th>담당의</th>\r\n                              <th>약품/주사코드</th>\r\n                              <th>약품/주사명</th>\r\n                              <th>구분</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {druglists.map((drugInjections) => {\r\n                              return (\r\n                                <tr key={drugInjections.drug_injection_drug_injection_list_id}>\r\n                                  <th>{moment(drugInjections.treatment_date).format(\"yyyy-MM-DD HH:mm\")}</th>\r\n                                  <th>{drugInjections.user_name}</th>\r\n                                  <th>{drugInjections.drug_injection_drug_injection_list_id}</th>\r\n                                  <th>{drugInjections.drug_injection_list_name}</th>\r\n                                  <th>{drugInjections.drug_injection_list_category}</th>\r\n                                </tr>\r\n                              );\r\n                            })}\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className={style.TreatmentHistoryReadClose}>\r\n                    <button className=\"button_team2_fill\" onClick={close}>\r\n                      {\" \"}\r\n                      확인\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n          </section>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default TreatmentHistoryRead;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { updateTreatment, getSearchDurg, getCategoryInspectionList, createDruglist } from \"apis/treatments\";\r\nimport Spinner from \"components/common/Spinner\";\r\nimport { ToastsContainer, ToastsContainerPosition, ToastsStore } from \"react-toasts\";\r\nimport TreatmentHistoryRead from \"./components/modal/TreatmentHistoryReadModal\";\r\nimport { IoGitMerge } from \"react-icons/io5\";\r\nimport Nodata from \"components/common/NoData\";\r\n\r\nfunction TreatmentCreateForm(props) {\r\n  //----------------------\r\n  //상태\r\n  //----------------------\r\n  const { publishTopic } = props;\r\n\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n\r\n  // spinner\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  //검사 checkbox 리스트\r\n  const [inspectionlist, setInspectionlist] = useState([]);\r\n\r\n  //검사 checkbox-category\r\n  const [inspectionOption, setInspectionOption] = useState(\"진단 검사 선택\");\r\n\r\n  //검사 선택 저장상태\r\n  const [inspectionForm, setInspectionForm] = useState({\r\n    selectedInspection: [],\r\n    selectedInspection2: []\r\n  });\r\n\r\n  //약 리스트\r\n  const [druglists, setDrugLists] = useState([]);\r\n\r\n  //약 선택 저장상태\r\n  const [drugForm, setDrugForm] = useState({\r\n    selectedDrug: []\r\n  });\r\n\r\n  //선택한 약id 상태\r\n  const [selectDrugId, setSelectDrugId] = useState(\"\");\r\n\r\n  //약 키워드 검색을 위한 상태\r\n  const [searchKeyword, setSearchKeyword] = useState();\r\n\r\n  const [searchFilter, setSearchFilter] = useState();\r\n\r\n  const [treatmentId, setTreatmentId] = useState(\"\");\r\n\r\n  const [selectedTreatmentId, setSelectedTreatmentId] = useState(\"\");\r\n\r\n  //soap - Subjective 상태\r\n  const [smemo, setSmemo] = useState(\"\");\r\n\r\n  //soap - Objective 상태\r\n  const [omemo, setOmemo] = useState(\"\");\r\n\r\n  //soap - Assessment 상태\r\n  const [amemo, setAmemo] = useState(\"\");\r\n\r\n  //soap - Plan 상태\r\n  const [pmemo, setPmemo] = useState(\"\");\r\n\r\n  //soap - 의사소통 메모 상태\r\n  const [cmemo, setCmemo] = useState(\"\");\r\n\r\n  //임시 환자 리스트\r\n  var tempPatientlist = {\r\n    treatment_register_id: \"\",\r\n    treatment_patient_id: \"\",\r\n    patient_name: \"\",\r\n    patient_ssn: \"\",\r\n    patient_sex: \"\",\r\n    register_communication: \"\",\r\n    treatment_state: \"\",\r\n  };\r\n\r\n  //대기환자리스트에서 체크된 환자 리스트 가져오기 ->props.checkedpatient == checkedPatientlist\r\n  var checkedPatientlist;\r\n  if (props.checkedpatient) {\r\n    checkedPatientlist = props.checkedpatient;\r\n  } else {\r\n    checkedPatientlist = tempPatientlist;\r\n  }\r\n\r\n  //검사 체크박스 관리를 위한 상태\r\n  const [checkList, setCheckList] = useState([{ id: \"\", checked: false, name: \"\" }]);\r\n  //검사 체크박스 관리함수\r\n  const handleCheckClick = (id) => {\r\n    let newChecklist = checkList.map((item) => {\r\n      if (item.id === id) {\r\n        return { ...item, checked: !item.checked };\r\n      } else {\r\n        return item;\r\n      }\r\n    });\r\n    setCheckList(newChecklist);\r\n    // setCheckList((checks) => checks.map((c, i) => (i === index ? !c.checked : c.checked)))\r\n  };\r\n\r\n  //DB 에서 카테고리별 검사 리스트 가져오기\r\n  const getTotalInspectionsList = async (categoryValue) => {\r\n    try {\r\n      var list = await getCategoryInspectionList(categoryValue);\r\n      // console.log(\"hi\",list.data.inspectionList);\r\n      setInspectionlist(list.data.inspectionList);\r\n      let cList = [];\r\n      for (var iList of list.data.inspectionList) {\r\n        cList.push({ id: iList.inspection_list_id, checked: false, name: iList.inspection_list_name });\r\n      }\r\n      // console.log(\"clist\",cList);\r\n      setCheckList(cList);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  //DB 에서 약리스트 가져오기\r\n  const getSearchDurgs = async () => {\r\n    setLoading(true);\r\n    try {\r\n      var list = await getSearchDurg();\r\n      // console.log(\"dddddi\",list.data.druglist);\r\n      setDrugLists(list.data.druglist);\r\n      // let nList = [];\r\n      // var index3=0;\r\n      // for(var dlist of list.data.druglist){\r\n      //   nList.push({id:index3, checked:false, name:dlist.drug_injection_list_name});\r\n      //   index3++;\r\n      // }\r\n      // console.log(\"nList 확인 : \",nList);\r\n      // setCheckDrugList(nList);\r\n    } catch (e) {\r\n      console.log(e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  //검사 - 카테고리 바꾸기\r\n  const changeCategory = (event) => {\r\n    setInspectionOption(event.target.value);\r\n  };\r\n\r\n  //약 - 키워드 바꾸기\r\n  const changeKeyword = (event) => {\r\n    setSearchKeyword(event.target.value);\r\n  };\r\n\r\n  //검색 클릭 함수 -> DB에서 키워드에 해당하는 약리스트 가져오기\r\n  const searchClick = async () => {\r\n    setLoading(true);\r\n    try {\r\n      var list = await getSearchDurg(searchKeyword, \"\");\r\n      setDrugLists(list.data.druglist);\r\n    } catch (error) {\r\n      console.log(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  //필터 - 전체\r\n  const totalFilter = async () => {\r\n    setLoading(true);\r\n    try {\r\n      var list = await getSearchDurg(searchKeyword, \"\");\r\n      setDrugLists(list.data.druglist);\r\n    } catch (e) {\r\n      console.log(e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  //필터 - 내복약\r\n  const innerFilter = async () => {\r\n    setLoading(true);\r\n    try {\r\n      var list = await getSearchDurg(searchKeyword, \"약품(내복약)\");\r\n      setDrugLists(list.data.druglist);\r\n    } catch (e) {\r\n      console.log(e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  //필터 - 외용약\r\n  const outerFilter = async () => {\r\n    setLoading(true);\r\n    try {\r\n      var list = await getSearchDurg(searchKeyword, \"약품(외용약)\");\r\n      setDrugLists(list.data.druglist);\r\n    } catch (e) {\r\n      console.log(e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  //필터 - 주사\r\n  const injectionFilter = async () => {\r\n    setLoading(true);\r\n    try {\r\n      var list = await getSearchDurg(searchKeyword, \"주사\");\r\n      setDrugLists(list.data.druglist);\r\n    } catch (e) {\r\n      console.log(e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  //soap , 의사소통메모 상태 바꾸기\r\n  const handleChangeSmemo = (event) => {\r\n    setSmemo(event.target.value);\r\n  };\r\n  const handleChangeOmemo = (event) => {\r\n    setOmemo(event.target.value);\r\n  };\r\n  const handleChangeAmemo = (event) => {\r\n    setAmemo(event.target.value);\r\n  };\r\n  const handleChangePmemo = (event) => {\r\n    setPmemo(event.target.value);\r\n  };\r\n  const handleChangeCmemo = (event) => {\r\n    setCmemo(event.target.value);\r\n  };\r\n\r\n  //진료등록 버튼 클릭 함수 -> 진료 업데이트\r\n  const updateTreatmentBtn = async (event) => {\r\n    // publishTopic();\r\n    // event.preventDefault();\r\n    try {\r\n      let newTreatment = {\r\n        treatment_id: checkedPatientlist.treatment_id,\r\n        treatment_user_id: checkedPatientlist.treatment_user_id,\r\n        treatment_patient_id: checkedPatientlist.treatment_patient_id,\r\n        treatment_smemo: smemo,\r\n        treatment_omemo: omemo,\r\n        treatment_amemo: amemo,\r\n        treatment_pmemo: pmemo,\r\n        treatment_communication: cmemo,\r\n        selectedInspection: inspectionForm.selectedInspection,\r\n        selectedInspection2: inspectionForm.selectedInspection2,\r\n        selectedDrug: drugForm.selectedDrug,\r\n      };\r\n\r\n      if (checkedPatientlist.treatment_state === \"대기\" || checkedPatientlist.treatment_state === \"\") {\r\n        if (newTreatment.treatment_id === \"\" || newTreatment.treatment_patient_id === \"\") {\r\n          // alert(\"진료 아이디를 입력해주세요.\");\r\n          ToastsStore.success(\"환자를 클릭해주세요.\");\r\n        } else if (newTreatment.treatment_smemo === \"\" || newTreatment.treatment_omemo === \"\" || newTreatment.treatment_amemo === \"\" || newTreatment.treatment_pmemo === \"\") {\r\n          // alert(\"soap를 입력해주세요.\");\r\n          ToastsStore.success(\"필수 정보를 입력해주세요.\");\r\n        } else {\r\n          var list = await updateTreatment(newTreatment);\r\n          if (list.data) {\r\n            ToastsStore.success(\"진료 등록 완료\");\r\n            publishTopic(0);\r\n            publishTopic(1);\r\n            // console.log(\"list\", list);\r\n            setSmemo(\"\");\r\n            setOmemo(\"\");\r\n            setAmemo(\"\");\r\n            setPmemo(\"\");\r\n            setCmemo(\"\");\r\n\r\n            let cList = [];\r\n            for (var iList of inspectionlist) {\r\n              cList.push({ id: iList.inspection_list_id, checked: false, name: iList.inspection_list_name });\r\n            }\r\n            setCheckList(cList);\r\n            setSelectedTreatmentId(newTreatment.treatment_id);\r\n            setModalOpen(true);\r\n            setInspectionForm({selectedInspection: [], selectedInspection2: []});\r\n            setDrugForm({ selectedDrug: []});\r\n\r\n            // let nList = [];\r\n            // for(var dlist of druglists){\r\n            //   nList.push({id:dlist.drug_injection_list_id, checked:false, name:dlist.drug_injection_list_name});\r\n            // }\r\n            // setCheckDrugList(nList);\r\n          }\r\n        }\r\n      } else {\r\n        setSmemo(\"\");\r\n        setOmemo(\"\");\r\n        setAmemo(\"\");\r\n        setPmemo(\"\");\r\n        setCmemo(\"\");\r\n\r\n        let cList = [];\r\n        for (var iList of inspectionlist) {\r\n          cList.push({ id: iList.inspection_list_id, checked: false, name: iList.inspection_list_name });\r\n        }\r\n        setCheckList(cList);\r\n        ToastsStore.success(\"이미 완료된 진료입니다.\");\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const checkedDrugId = (drug_injection_list_id) => {\r\n    setSelectDrugId(drug_injection_list_id);\r\n  };\r\n\r\n  //drugInjection\r\n  const handleChangeDrugInjections = (event) => {\r\n    if (event.target.checked) {\r\n      //체크되었는지 유무\r\n      setDrugForm((prevDrugForm) => {\r\n        return {\r\n          ...prevDrugForm,\r\n          selectedDrug: prevDrugForm.selectedDrug.concat(event.target.value),\r\n        };\r\n      });\r\n    } else {\r\n      setDrugForm((prevDrugForm) => {\r\n        return {\r\n          ...prevDrugForm,\r\n          selectedDrug: prevDrugForm.selectedDrug.filter((item) => item !== event.target.value),\r\n        };\r\n      });\r\n    }\r\n  };\r\n\r\n  // Inspection - 혈액검사\r\n  const handleChangeBloodInspections = (event) => {\r\n    if (event.target.checked) {\r\n      //체크되었는지 유무\r\n      setInspectionForm((prevInspectionForm) => {\r\n        return {\r\n          ...prevInspectionForm,\r\n          selectedInspection: prevInspectionForm.selectedInspection.concat(event.target.value),\r\n        };\r\n      });\r\n    } else {\r\n      setInspectionForm((prevInspectionForm) => {\r\n        return {\r\n          ...prevInspectionForm,\r\n          selectedInspection: prevInspectionForm.selectedInspection.filter((item) => item !== event.target.value),\r\n        };\r\n      });\r\n    }\r\n  };\r\n\r\n  // Inspection - 영상검사\r\n  const handleChangeImgInspections = (event) => {\r\n    if (event.target.checked) {\r\n      //체크되었는지 유무\r\n      setInspectionForm((prevInspectionForm) => {\r\n        return {\r\n          ...prevInspectionForm,\r\n          selectedInspection2: prevInspectionForm.selectedInspection2.concat(event.target.value),\r\n        };\r\n      });\r\n    } else {\r\n      setInspectionForm((prevInspectionForm) => {\r\n        return {\r\n          ...prevInspectionForm,\r\n          selectedInspection2: prevInspectionForm.selectedInspection2.filter((item) => item !== event.target.value),\r\n        };\r\n      });\r\n    }\r\n  };\r\n\r\n  const openModal = () => {\r\n    setModalOpen(true);\r\n  };\r\n  const closeModal = () => {\r\n    setModalOpen(false);\r\n  };\r\n\r\n  // const [checkDrugList, setCheckDrugList] = useState([{id:0, checked:false, name:\"\"}]);\r\n  // const handleCheckDrugClick = (id) => {\r\n  //   let newCheckDruglist = checkDrugList.map((item) => {\r\n  //     if(item.id === id){\r\n  //       return {...item, checked: !item.checked}\r\n  //     }else{\r\n  //       return item;\r\n  //     }\r\n  //   });\r\n  //   setCheckDrugList(newCheckDruglist);\r\n  // };\r\n\r\n  useEffect(() => {\r\n    getTotalInspectionsList(inspectionOption);\r\n  }, []);\r\n\r\n  // 마운트될때 전체 출력이 된다\r\n  useEffect(() => {\r\n    getSearchDurgs();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"TreatmentCreateForm_title\">\r\n        {/* 진료 등록<button type=\"submit\" className=\"button_team2_fill\">진료완료</button> */}\r\n        <div className=\"TreatmentCreateForm_title_1\"> {checkedPatientlist.patient_name} 님 진료 등록 </div>\r\n        <div className=\"TreatmentCreateForm_title_2\">\r\n          <ToastsContainer store={ToastsStore} position={ToastsContainerPosition.TOP_CENTER} lightBackground />\r\n          <button type=\"submit\" className=\"button_team2_fill\" onClick={updateTreatmentBtn}>\r\n            진료완료\r\n          </button>\r\n          <React.Fragment>\r\n            {/* TreatmentHistoryRead에 선택한 진료 번호 보내기 selectedTreatmentId */}\r\n            <TreatmentHistoryRead open={modalOpen} close={closeModal} selectedTreatmentId={selectedTreatmentId}></TreatmentHistoryRead>\r\n          </React.Fragment>\r\n        </div>\r\n      </div>\r\n      <div className=\"TreatmentCreateForm_border border\">\r\n        <div className=\"TreatmentCreateForm_1\">\r\n          <div className=\"TreatmentCreateForm_1_border\">\r\n            <div className=\"TreatmentCreateForm_1_1_title\">Subjective</div>\r\n            <textarea className=\"TreatmentCreateForm_1_1_content border\" rows=\"6\" cols=\"40\" onChange={handleChangeSmemo} value={smemo}>\r\n              당일 검사 요청\r\n            </textarea>\r\n            <div className=\"TreatmentCreateForm_1_1_title\">Objective</div>\r\n            <textarea className=\"TreatmentCreateForm_1_1_content border\" rows=\"6\" cols=\"40\" onChange={handleChangeOmemo} value={omemo}>\r\n              당일 검사 요청\r\n            </textarea>\r\n            <div className=\"TreatmentCreateForm_1_1_title\">Assessment</div>\r\n            <textarea className=\"TreatmentCreateForm_1_1_content border\" rows=\"6\" cols=\"40\" onChange={handleChangeAmemo} value={amemo}>\r\n              당일 검사 요청\r\n            </textarea>\r\n            <div className=\"TreatmentCreateForm_1_1_title\">Plan</div>\r\n            <textarea className=\"TreatmentCreateForm_1_1_content border\" rows=\"6\" cols=\"40\" onChange={handleChangePmemo} value={pmemo}>\r\n              당일 검사 요청\r\n            </textarea>\r\n            <div className=\"TreatmentCreateForm_1_1_title\">의사소통 메모</div>\r\n            <textarea className=\"TreatmentCreateForm_1_1_content border\" rows=\"6\" cols=\"40\" onChange={handleChangeCmemo} value={cmemo}>\r\n              당일 검사 요청\r\n            </textarea>\r\n          </div>\r\n        </div>\r\n        <div className=\"TreatmentCreateForm_2\">\r\n          <div className=\"TreatmentCreateForm_2_1_border border\">\r\n            <div className=\"TreatmentCreateForm_2_1_title\">진단 검사</div>\r\n            <div className=\"TreatmentCreateForm_2_1_content\">\r\n              <div className=\"TreatmentCreateForm_select\">\r\n                <select name=\"inspectioncategory\" className=\"TreatmentCreateForm_select_1\" onChange={changeCategory} value={inspectionOption}>\r\n                  <option disabled>진단 검사 선택</option>\r\n                  <option value=\"혈액검사\">혈액검사</option>\r\n                  <option value=\"영상검사\">영상검사</option>\r\n                </select>\r\n              </div>\r\n              {/* 검사별 상태 만들어서 전달, 조건문으로 맵 돌리기 */}\r\n\r\n              <div className=\"TreatmentCreateForm_checkbox\">\r\n                {inspectionlist.map((inspection) => {\r\n                  return (\r\n                    <div key={inspection.inspection_list_id}>\r\n                      {inspection.inspection_list_category === inspectionOption ? (\r\n                        inspection.inspection_list_category === \"혈액검사\" ? (\r\n                          <div className=\"TreatmentCreateForm_checkbox_1\">\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={checkList[inspection.inspection_list_id - 1].checked}\r\n                              name=\"selectedInspection\"\r\n                              value={inspection.inspection_list_id}\r\n                              onClick={() => handleCheckClick(inspection.inspection_list_id)}\r\n                              onChange={handleChangeBloodInspections}\r\n                            />{\" \"}\r\n                            {inspection.inspection_list_name}\r\n                          </div>\r\n                        ) : (\r\n                          <div className=\"TreatmentCreateForm_checkbox_1\">\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={checkList[inspection.inspection_list_id - 1].checked}\r\n                              name=\"selectedInspection2\"\r\n                              value={inspection.inspection_list_id}\r\n                              onClick={() => handleCheckClick(inspection.inspection_list_id)}\r\n                              onChange={handleChangeImgInspections}\r\n                            />{\" \"}\r\n                            {inspection.inspection_list_name}\r\n                          </div>\r\n                        )\r\n                      ) : (\r\n                        false\r\n                      )}\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"TreatmentCreateForm_2_2_border border\">\r\n            <div className=\"TreatmentCreateForm_2_2_title\">약품 목록</div>\r\n            <div className=\"TreatmentCreateForm_2_2_content\">\r\n              <div className=\"TreatmentSearch_1\">\r\n                <div className=\"TreatmentSearch_1_1_1\">\r\n                  <input type=\"text\" className=\"TreatmentSearch_1_1\" placeholder=\"약품/주사명을 입력하세요.\" onChange={changeKeyword} value={searchKeyword} />\r\n\r\n                  <button className=\"button_team2_fill\" onClick={searchClick}>\r\n                    검색\r\n                  </button>\r\n\r\n                  <div className=\"TreatmentSearch_1_2_1\" onClick={totalFilter}>\r\n                    전체\r\n                  </div>\r\n                  <div className=\"TreatmentSearch_1_2_2\" onClick={innerFilter}>\r\n                    내복\r\n                  </div>\r\n                  <div className=\"TreatmentSearch_1_2_3\" onClick={outerFilter}>\r\n                    외용\r\n                  </div>\r\n                  <div className=\"TreatmentSearch_1_2_4\" onClick={injectionFilter}>\r\n                    주사\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"TreatmentSearch_2_Totaltable\">\r\n                <table className=\"table TreatmentSearch_2\">\r\n                  <thead className=\"TreatmentSearch_2_2\">\r\n                    <tr>\r\n                      <th></th>\r\n                      <th>약품/주사코드</th>\r\n                      <th>약품/주사명</th>\r\n                      <th>구분</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {loading ? (\r\n                      <Spinner />\r\n                    ) : druglists.length === 0 ? (\r\n                      <td colSpan=\"4\">\r\n                        <React.Fragment>\r\n                          <Nodata />\r\n                        </React.Fragment>\r\n                      </td>\r\n                    ) : (\r\n                      <>\r\n                        {druglists.map((druglist, index) => {\r\n                          return (\r\n                            <tr className=\"TreatmentSearch_2_2_tr\" key={druglist.drug_injection_list_id}>\r\n                              {/* // onClick={(event) => checkedDrugId(druglist.drug_injection_list_id)}> */}\r\n                              <td>\r\n                                <input type=\"checkbox\" name=\"selectedDrug\" value={druglist.drug_injection_list_id} onChange={handleChangeDrugInjections} />\r\n                                {/* <input type=\"checkbox\" checked={checkDrugList[index].checked} name=\"selectedDrug\" value={druglist.drug_injection_list_id} \r\n                            onClick={() => handleCheckDrugClick(index)} onChange={handleChangeDrugInjections} /> */}\r\n                              </td>\r\n                              <th>{druglist.drug_injection_list_id}</th>\r\n                              <th>{druglist.drug_injection_list_name}</th>\r\n                              <th>{druglist.drug_injection_list_category}</th>\r\n                            </tr>\r\n                          );\r\n                        })}\r\n                      </>\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n            {/* <div className=\"TreatmentSearch_3\">\r\n                                              <button className=\"button_team2_fill\" >확인</button>\r\n                                          </div> */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default TreatmentCreateForm;","import React, { useState, useEffect } from \"react\";\r\nimport TreatmentHistoryRead from \"./components/modal/TreatmentHistoryReadModal\";\r\nimport { getTreatmentHistoryList } from \"apis/treatments\";\r\nimport moment from \"moment\";\r\nimport Spinner from \"components/common/Spinner\";\r\nimport Nodata from \"components/common/NoData\";\r\n\r\nfunction TreatmentHistoryList(props) {\r\n//true 일때, 바코드 모달 열림\r\nconst [modalOpen, setModalOpen] = useState(false);\r\n// spinner\r\nconst [loading, setLoading] = useState(false);\r\n\r\n  //임시 환자 리스트\r\n  var tempPatientlist = {\r\n    treatment_register_id: \"\",\r\n    treatment_state: \"\",\r\n    treatment_patient_id: \"\",\r\n    patient_name: \"  \",\r\n    patient_ssn: \"\",\r\n    patient_sex: \"\",\r\n    register_communication: \"\",\r\n    register_starttime: \"\",\r\n  };\r\n\r\n  //대기환자리스트에서 체크된 환자 리스트 가져오기 -> props.checkedpatient == checkedPatientlist\r\n  var checkedPatientlist;\r\n  if (props.checkedpatient) {\r\n    checkedPatientlist = props.checkedpatient;\r\n  } else {\r\n    checkedPatientlist = tempPatientlist;\r\n  }\r\n\r\n  //진료 기록 생성 상태로\r\n  const [historyLists, setHistoryLists] = useState([]);\r\n  //선택된 진료 번호\r\n  const [selectedTreatmentId, setSelectedTreatmentId] = useState(\"\");\r\n\r\n  //선택한 진료 번호를 setSelectedTreatmentId 에 저장\r\n  // 해당 진료 번호 선택 => 해당 진료 상세 열기\r\n  const checkedtreatment = (treatment_id) => {\r\n    setSelectedTreatmentId(treatment_id);\r\n    setModalOpen(true);\r\n \r\n  };\r\n\r\n  // const openModal = () => {\r\n  //   // console.log(\"진료번호ㅗㅗㅗㅗ\",treatment_id);\r\n  //   console.log(\"진료번ㅗㅗ\",selectedTreatmentId);\r\n  //   setModalOpen(true);\r\n  // };\r\n\r\n  //모달 안에서 취소 버튼 클릭\r\n  const closeModal = () => {\r\n    setModalOpen(false);\r\n  };\r\n \r\n  //DB treatments 에서 환자아이디에 해당하는 진료기록 전부를 가져옴\r\n  const getList = async (treatment_patient_id) => {\r\n    setLoading(true);\r\n    try {\r\n      var list = await getTreatmentHistoryList(treatment_patient_id);\r\n      setHistoryLists(list.data.historylist);\r\n    } catch (e) {\r\n      console.log(e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getList(checkedPatientlist.treatment_patient_id);\r\n  }, [checkedPatientlist.treatment_patient_id, props]);\r\n\r\n  useEffect(() => {\r\n    setSelectedTreatmentId();\r\n  }, [checkedPatientlist.treatment_id]);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"TreatmentHistoryList_title\">\r\n        {checkedPatientlist.patient_name} 님의 진료기록\r\n        <React.Fragment>\r\n          {/* TreatmentHistoryRead에 선택한 진료 번호 보내기 selectedTreatmentId */}\r\n          <TreatmentHistoryRead open={modalOpen} close={closeModal} selectedTreatmentId={selectedTreatmentId}></TreatmentHistoryRead>\r\n        </React.Fragment>\r\n      </div>\r\n      <div className=\"TreatmentHistoryList_border border\">\r\n        <div className=\"TreatmentHistoryList_Totaltable\">\r\n          <table className=\"table TreatmentHistoryList_table\">\r\n            <thead className=\"TreatmentHistoryList_table_thead\">\r\n              <tr>\r\n                <th></th>\r\n                <th>진료 번호</th>\r\n                <th>진료 날짜</th>\r\n                <th>담당의</th>\r\n                <th>의사소통 메모</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {loading ? (\r\n                <Spinner />\r\n              ) : historyLists.length === 0 ? (\r\n                <td colSpan=\"5\">\r\n                  <React.Fragment>\r\n                    <Nodata />\r\n                  </React.Fragment>\r\n                </td>\r\n              ) : (\r\n                <> \r\n                  {historyLists.map((treatmentHistory) => {\r\n                    return (\r\n                      <tr className=\"TreatmentHistoryList_table_tr\" key={treatmentHistory.treatment_id} onClick={(event) => checkedtreatment(treatmentHistory.treatment_id)}>\r\n                        <td>\r\n                          <input type=\"checkbox\" checked={selectedTreatmentId === treatmentHistory.treatment_id ? true : false} readOnly />\r\n                        </td>\r\n                        <th>{treatmentHistory.treatment_id}</th>\r\n                        <th>{moment(treatmentHistory.treatment_date).format(\"yyyy-MM-DD\")}</th>\r\n                        <th>{treatmentHistory.user_name}</th>\r\n                        <th>{treatmentHistory.treatment_communication}</th>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n                </>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default TreatmentHistoryList;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { getTreatmentPatientList } from \"apis/treatments\";\r\nimport moment from \"moment\";\r\nimport Spinner from \"components/common/Spinner\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { ToastsContainer, ToastsContainerPosition, ToastsStore } from \"react-toasts\";\r\nimport Nodata from \"components/common/NoData\";\r\n\r\nfunction TreatmentPatientList(props) {\r\n  \r\n  /**\r\n   * 상태선언\r\n   */\r\n  //부모에서 생성한 환자 리스트, 체크된환자정보 담을 상태\r\n  const { setCheckedpatient, message } = props;\r\n\r\n  //로그인한 User의 id\r\n  const globalUid = useSelector((state) => state.authReducer.uid);\r\n\r\n  //환자 대기 목록 상태\r\n  const [patientlists, setPatientlists] = useState([]);\r\n\r\n  //처음 받는 날짜\r\n  const [inputdate, setInputdate] = useState(new Date());\r\n\r\n  //선택한 날짜\r\n  const [inputdate2, setInputdate2] = useState(new Date());\r\n\r\n  // 접수아이디 선택 상태\r\n  const [selectedRegisterId, setSelectedRegisterId] = useState(\"\");\r\n\r\n  // const [state, setState] = useState(() => getState(patientlists));\r\n\r\n  //진료 상태(대기,완료)\r\n  const [ready, setReady] = useState(0);\r\n  const [done, setDone] = useState(0);\r\n\r\n  // spinner\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  //실행 함수--------------------------------\r\n\r\n  //DB 에서 선택 날짜와 userid에 맞는 해당 환자 리스트 가져오기\r\n  const getList = async (inputdate2, globalUid) => {\r\n    setLoading(true);\r\n    try {\r\n      const list = await getTreatmentPatientList(inputdate2, \"\", globalUid);\r\n      // console.log(list.data.treatmentlist);\r\n      setPatientlists(list.data.treatmentlist);\r\n      getState(list.data.treatmentlist);\r\n    } catch (e) {\r\n      console.log(e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  //진료 상태 수 계산\r\n  const getState = (patientlists) => {\r\n    var readyState = 0;\r\n    var doneState = 0;\r\n    for (var i = 0; i < patientlists.length; i++) {\r\n      if (patientlists[i].treatment_state === \"대기\") {\r\n        readyState++;\r\n      } else {\r\n        doneState++;\r\n      }\r\n    }\r\n    setReady(readyState);\r\n    setDone(doneState);\r\n  };\r\n\r\n//버튼 이벤트 처리---------------------------------------------------\r\n\r\n  //선택한 날짜 이동 버튼\r\n  const searchDateBtn = (inputdate) => {\r\n    setInputdate2(moment(inputdate).format(\"yyyy-MM-DD HH:mm\"));\r\n    // getPatient2(treatmentDate2);\r\n  };\r\n\r\n  //진료대기 환자 선택 함수\r\n  const checkedtreatmentPatient = (treatment_register_id, patientlist) => {\r\n    setSelectedRegisterId(treatment_register_id);\r\n    //선택된 환자 정보 리스트\r\n    setCheckedpatient(patientlist);\r\n  };\r\n\r\n  //필터 - 전체 환자\r\n  const totalFilter = async () => {\r\n    setLoading(true);\r\n    try {\r\n      var list = await getTreatmentPatientList(inputdate2, \"\", globalUid);\r\n      setPatientlists(list.data.treatmentlist);\r\n    } catch (e) {\r\n      console.log(e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n //필터 - 대기 환자\r\n  const readyFilter = async () => {\r\n    setLoading(true);\r\n    try {\r\n      var list = await getTreatmentPatientList(inputdate2, \"대기\", globalUid);\r\n      setPatientlists(list.data.treatmentlist);\r\n    } catch (e) {\r\n      console.log(e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n //필터 - 완료 환자\r\n  const finishFilter = async () => {\r\n    setLoading(true);\r\n    try {\r\n      var list = await getTreatmentPatientList(inputdate2, \"완료\", globalUid);\r\n      setPatientlists(list.data.treatmentlist);\r\n    } catch (e) {\r\n      console.log(e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // 마운트 및 언마운트에 실행할 내용------------------------------------\r\n\r\n  useEffect(() => {\r\n    const work = async () => {\r\n      setLoading(true);\r\n      try {\r\n        var list = await getTreatmentPatientList(inputdate2, \"\", globalUid);\r\n        setPatientlists(list.data.treatmentlist);\r\n        getState(list.data.treatmentlist);\r\n        getList(inputdate2);\r\n      } catch (error) {\r\n        console.log(error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    work();\r\n  }, [inputdate2]);\r\n\r\n  useEffect(() => {\r\n    getList(inputdate2);\r\n  }, [inputdate2]);\r\n\r\n  useEffect(() => {\r\n    const work = async () => {\r\n      setLoading(true);\r\n      try {\r\n        var list = await getTreatmentPatientList(inputdate2, \"\", globalUid);\r\n        setPatientlists(list.data.treatmentlist);\r\n        getState(list.data.treatmentlist);\r\n      } catch (error) {\r\n        console.log(error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    if (message.content === \"addTreatments\") {\r\n      ToastsStore.success(\"접수 완료\");\r\n      work();\r\n    } else if (message.content === \"refreshTreatments\") {\r\n      // ToastsStore.success(\"업데이트 완료\");\r\n      work();\r\n    } else {\r\n    }\r\n  }, [message]);\r\n\r\n  \r\n  return (\r\n    <div>\r\n      <div className=\"TreatmentPatientList_title\">진료대기환자</div>\r\n      <ToastsContainer store={ToastsStore} position={ToastsContainerPosition.TOP_CENTER} lightBackground />\r\n      <div className=\"TreatmentPatientList_border border\">\r\n        <div className=\"TreatmentPatientList_search\">\r\n          {/* <input type=\"date\" DatePicker selected={inputdate} onChange={(date) => setInputdate(date)} /> */}\r\n          <DatePicker locale=\"ko\" dateFormat=\"yyyy.MM.dd\" selected={inputdate} onChange={(date) => setInputdate(date)} />\r\n          <button className=\"button_team2_fill\" onClick={() => searchDateBtn(inputdate)}>\r\n            이동\r\n          </button>\r\n          <div className=\"row_1\" onClick={totalFilter}>\r\n            전체:{ready + done}명\r\n          </div>\r\n          <div className=\"row_2\" onClick={readyFilter}>\r\n            대기:{ready}명\r\n          </div>\r\n          <div className=\"row_3\" onClick={finishFilter}>\r\n            완료:{done}명\r\n          </div>\r\n        </div>\r\n        <div className=\"TreatmentPatientList_Totaltable\">\r\n          <table className=\"table TreatmentPatientList_table\">\r\n            <thead className=\"TreatmentPatientList_table_thead\">\r\n              <tr>\r\n                <th width=\"1%\"></th>\r\n                <th width=\"5%\">번호</th>\r\n                <th width=\"10%\">환자명</th>\r\n                <th width=\"10%\">생년월일</th>\r\n                <th width=\"6%\">성별</th>\r\n                <th width=\"10%\">진료번호</th>\r\n                <th width=\"15%\">의사소통 메모</th>\r\n                <th width=\"15%\">접수 날짜</th>\r\n                <th width=\"7%\">상태</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              {loading ? (\r\n                <Spinner />\r\n              ) : patientlists.length === 0 ? (\r\n                <td colSpan=\"9\">\r\n                  <React.Fragment>\r\n                    <Nodata />\r\n                  </React.Fragment>\r\n                </td>\r\n              ) : (\r\n                <>\r\n                  {patientlists.map((patientlist) => {\r\n                    return (\r\n                      <tr\r\n                        className=\"TreatmentPatientList_table_tr\"\r\n                        key={patientlist.treatment_register_id}\r\n                        onClick={(event) => checkedtreatmentPatient(patientlist.treatment_register_id, patientlist)}\r\n                      >\r\n                        <td>\r\n                          <input type=\"checkbox\" checked={selectedRegisterId === patientlist.treatment_register_id ? true : false} readOnly />\r\n                        </td>\r\n                        <td>{patientlist.treatment_register_id}</td>\r\n                        <td>{patientlist.patient_name}</td>\r\n                        <td>{patientlist.patient_ssn}</td>\r\n                        <td>{patientlist.patient_sex}</td>\r\n                        <td>{patientlist.treatment_id}</td>\r\n                        <td>{patientlist.register_communication}</td>\r\n                        <td>{moment(patientlist.register_starttime).format(\"yyyy-MM-DD\")}</td>\r\n                        {patientlist.treatment_state === \"대기\" ? <td className=\"row_2\">{patientlist.treatment_state}</td> : <td className=\"row_3\">{patientlist.treatment_state}</td>}\r\n                      </tr>\r\n                    );\r\n                  })}\r\n                </>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default TreatmentPatientList;\r\n","import { useEffect, useRef, useState } from \"react\";\r\nimport \"./Treatment.css\";\r\nimport TreatmentCreateForm from \"./TreatmentCreateForm\";\r\nimport TreatmentHistoryList from \"./TreatmentHistoryList\";\r\nimport TreatmentPatientList from \"./TreatmentPatientList\";\r\nimport Paho from \"paho-mqtt\";\r\nimport { sendMqttMessage } from \"apis/mqtt\";\r\n\r\nfunction Treatment(props) {\r\n  // -------------------------------------------------------------\r\n  // MQTT 설정 : 메시지 종류\r\n  // -------------------------------------------------------------\r\n\r\n  // 1. 리스트 호출 - nurse -> docter\r\n  // { topic: \"/138010/docter\", content: \"refreshTreatments\"}\r\n  // 2. 검사 추가   - doctor -> inspector\r\n  // { topic: \"/138010/inspector\", content: \"addInspections\"}\r\n  // 3.  추가\r\n  // { topic: \"/138010/doctor\", content: \"refreshToDoList\"}\r\n\r\n  //-------------------------------------------------------------\r\n  //MQTT 설정 : 상태 선언\r\n  //-------------------------------------------------------------\r\n  const [subTopic, setSubTopic] = useState([\"/138010/nurse/doctor\"]); // 병원코드/간호사/의사\r\n  const [prevSubTopic, setPrevSubTopic] = useState(\"/138010/nurse\"); // 병원코드/간호사\r\n  const [pubMessage, setPubMessage] = useState([\r\n    {\r\n      topic: \"/138010/nurse/doctor\",\r\n      content: \"refreshTreatments\",\r\n    },\r\n    {\r\n      topic: \"/138010/nurse/doctor/inspector\",\r\n      content: \"addInspections\",\r\n    },\r\n  ]);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  //-------------------------------------------------------------\r\n  //버튼 이벤트 처리\r\n  //-------------------------------------------------------------\r\n  let client = useRef(null);\r\n  const connectMqttBroker = () => {\r\n    // Paho.Mqtt.Client x\r\n    client.current = new Paho.Client(\"kosa3.iptime.org\", 50012, \"client-\" + new Date().getTime());\r\n    // client.current = new Paho.Client(\"localhost\", 61614, \"client-\" + new Date().getTime());\r\n\r\n    client.current.onConnectionLost = () => {\r\n      console.log(\"Mqtt 접속 끊김\");\r\n    };\r\n\r\n    client.current.onMessageArrived = (msg) => {\r\n      //  console.log(\"메시지 수신\");\r\n      var Jmessage = JSON.parse(msg.payloadString);\r\n      console.log(Jmessage);\r\n      setMessage(() => {\r\n        return Jmessage;\r\n      });\r\n    };\r\n\r\n    client.current.connect({\r\n      onSuccess: () => {\r\n        console.log(\"mqtt 들어옴\");\r\n        sendSubTopic();\r\n        //client.current.subscribe(subTopic[0]);\r\n        console.log(\"Mqtt 접속 성공\");\r\n      },\r\n    });\r\n  };\r\n\r\n  const disconnectMqttBroker = () => {\r\n    client.current.disconnect(); // onConnectionLost 실행됨\r\n  };\r\n\r\n  const sendSubTopic = () => {\r\n    client.current.unsubscribe(prevSubTopic);\r\n    client.current.subscribe(subTopic);\r\n    setPrevSubTopic(subTopic);\r\n  };\r\n\r\n  const publishTopic = async (num) => {\r\n    await sendMqttMessage(pubMessage[num]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    connectMqttBroker();\r\n    // console.log(\"MESSAGE\",message);\r\n  }, []);\r\n\r\n  //진료 대기리스트에서 체크된 환자 정보\r\n  const [checkedpatient, setCheckedpatient] = useState(\"\");\r\n\r\n  return (\r\n    <div className=\"Treatment\">\r\n      <div className=\"TreatmentLeft\">\r\n        {/* 진료 대기 환자 */}\r\n        <div className=\"TreatmentPatientList\">\r\n          <TreatmentPatientList setCheckedpatient={setCheckedpatient} message={message} />\r\n        </div>\r\n        {/* 진료 기록 */}\r\n        <div className=\"TreatmentHistoryList\">\r\n          <TreatmentHistoryList checkedpatient={checkedpatient} />\r\n        </div>\r\n      </div>\r\n      <div className=\"TreatmentRight\">\r\n        {/* 진료 등록*/}\r\n        <div className=\"TreatmentCreateForm\">\r\n          <TreatmentCreateForm checkedpatient={checkedpatient} publishTopic={publishTopic} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Treatment;\r\n","import { useEffect } from \"react\";\r\nimport { updateIstateI, updateIstateC, updateIstateW } from \"apis/inspections\";\r\nimport { ToastsContainer, ToastsContainerPosition, ToastsStore } from \"react-toasts\";\r\n\r\nfunction InspectionPatientListItem(props) {\r\n  \r\n  ////////////////////////////////////////////////////////////\r\n\r\n  //총검사상태: 대기~>검사 변경\r\n  const changeIStateInspection = async () => {\r\n    try {\r\n      if (props.patient.treatment_id === props.id) {\r\n        if (props.patient.treatment_istate === \"대기\") {\r\n          //props.patient.treatment_istate = \"검사\";\r\n          await updateIstateI(props.id);\r\n        }\r\n      }\r\n      props.handleIStateInspectionFalse();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  //총검사상태: 검사~>완료 변경\r\n  const changeIStateFinish = async () => {\r\n    try {\r\n      if (props.patient.treatment_id === props.id) {\r\n        if (props.patient.treatment_istate === \"검사\") {\r\n          //props.patient.treatment_istate = \"완료\";\r\n          await updateIstateC(props.id);\r\n          props.handleIStateFinishFalse();\r\n          props.publishTopic(1);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  //총검사상태: 검사~>대기 변경\r\n  const changeIStateWait = async () => {\r\n    try {\r\n      if (props.patient.treatment_id === props.id) {\r\n        if (props.patient.treatment_istate === \"검사\") {\r\n          //props.patient.treatment_istate = \"대기\";\r\n          await updateIstateW(props.id);\r\n        }\r\n      }\r\n      props.handleIStateWaitFalse();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  ////////////////////////////////////////////////////////////\r\n\r\n  useEffect(() => {\r\n    if (props.iStateInspection === true) {\r\n      changeIStateInspection();\r\n    }\r\n  }, [props.iStateInspection]);\r\n\r\n  useEffect(() => {\r\n    if (props.iStateFinish === true && props.message.content === \"updateInspects\") {\r\n      changeIStateFinish();\r\n    }\r\n  }, [props.iStateFinish]);\r\n\r\n  useEffect(() => {\r\n    if (props.iStateWait === true) {\r\n      changeIStateWait();\r\n    }\r\n  }, [props.iStateWait]);\r\n\r\n  ////////////////////////////////////////////////////////////\r\n\r\n  return (\r\n    <>\r\n      <ToastsContainer store={ToastsStore} position={ToastsContainerPosition.TOP_CENTER} lightBackground />\r\n      <tr\r\n        className=\"InspectionPatientListItem\"\r\n        key={props.patient.treatment_id}\r\n        onClick={() => {props.handleChecked(props.patient.treatment_id);}}\r\n      >\r\n        <td>\r\n          <input type=\"checkbox\" name=\"treatmentCheck\" checked={props.id === props.patient.treatment_id ? true : false} readOnly />\r\n        </td>\r\n        <td>{props.patient.treatment_id}</td>\r\n        <td>{props.patient.patient_name}</td>\r\n        <td>{props.patient.patient_ssn.split(\"-\")[0]}</td>\r\n        <td>{props.patient.patient_sex}</td>\r\n        {props.patient.treatment_istate === \"대기\" ? (\r\n          <td style={{ color: \"#009900\" }}>{props.patient.treatment_istate}</td>\r\n        ) : props.patient.treatment_istate === \"검사\" ? (\r\n          <td style={{ color: \"#ff6600\" }}>{props.patient.treatment_istate}</td>\r\n        ) : (\r\n          <td style={{ color: \"#00AAF0\" }}>{props.patient.treatment_istate}</td>\r\n        )}\r\n\r\n        <td>{props.patient.treatment_communication}</td>\r\n      </tr>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default InspectionPatientListItem;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport moment from \"moment\";\r\nimport InspectionPatientListItem from \"./InspectionPatientListItem\";\r\nimport { readPatient } from \"apis/inspections\";\r\nimport { ToastsContainer, ToastsContainerPosition, ToastsStore } from \"react-toasts\";\r\nimport Nodata from \"components/common/NoData\";\r\n\r\nlet patientsList = [];\r\n\r\nfunction InspectionPatientList(props) {\r\n  //DatePicker 날짜\r\n  const [treatmentDate, setTreatmentDate] = useState(new Date());\r\n  //이동 버튼 누를 때의 날짜\r\n  const [treatmentDate2, setTreatmentDate2] = useState(new Date());\r\n  //검사 대기 환자 목록\r\n  const [patients, setPatients] = useState(patientsList);\r\n  //총검사상태 대기 명 수\r\n  const [istateWaiting, setIstateWaiting] = useState(getIstateWaiting(patients));\r\n  //총검사상태 검사 명 수\r\n  const [istateInspection, setIstateInspection] = useState(getIstateInspection(patients));\r\n  //총검사상태 완료 명 수\r\n  const [istateCompletion, setIstateCompletion] = useState(getIstateCompletion(patients));\r\n  // 진료번호 비교를 위한 상태\r\n  const [id, setId] = useState(\"\");\r\n\r\n  ////////////////////////////////////////////////////////////\r\n\r\n  //DB Treatments 에서 해당 진료날짜에 진료완료된 환자 목록 가져옴\r\n  const getPatient = async (treatmentDate2) => {\r\n    try {\r\n      const response = await readPatient(moment(treatmentDate2).format(\"yyyy-MM-DD HH:mm\"), \"\");\r\n      patientsList = response.data.treatmentList;\r\n      setPatients(patientsList);\r\n      checkIState(patientsList);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  //날짜 이동 버튼\r\n  const searchDateBtn = (treatmentDate) => {\r\n    setTreatmentDate2(treatmentDate);\r\n  };\r\n\r\n  //진료완료된 환자 체크(선택)\r\n  const handleChecked = (treatmentId) => {\r\n    setId(treatmentId);\r\n    props.checkedtId(treatmentId);\r\n  };\r\n\r\n  //총검사상태 (대기, 검사, 완료) 명 수 세기\r\n  const checkIState = (patients) => {\r\n    setIstateWaiting(getIstateWaiting(patients));\r\n    setIstateInspection(getIstateInspection(patients));\r\n    setIstateCompletion(getIstateCompletion(patients));\r\n  };\r\n\r\n  function getIstateWaiting(patients) {\r\n    let countWaiting = 0;\r\n    for (var i = 0; i < patients.length; i++) {\r\n      if (patients[i].treatment_istate === \"대기\") {\r\n        countWaiting++;\r\n      }\r\n    }\r\n    return countWaiting;\r\n  }\r\n\r\n  function getIstateInspection(patients) {\r\n    let countInspection = 0;\r\n    for (var i = 0; i < patients.length; i++) {\r\n      if (patients[i].treatment_istate === \"검사\") {\r\n        countInspection++;\r\n      }\r\n    }\r\n    return countInspection;\r\n  }\r\n\r\n  function getIstateCompletion(patients) {\r\n    let countCompletion = 0;\r\n    for (var i = 0; i < patients.length; i++) {\r\n      if (patients[i].treatment_istate === \"완료\") {\r\n        countCompletion++;\r\n      }\r\n    }\r\n    return countCompletion;\r\n  }\r\n\r\n  //전체 명수 클릭 시, 해당 진료날짜에 진료완료된 모든 환자 목록 가져옴\r\n  const showTotal = async (treatmentDate2) => {\r\n    try {\r\n      const response = await readPatient(moment(treatmentDate2).format(\"yyyy-MM-DD HH:mm\"), \"\");\r\n      patientsList = response.data.treatmentList;\r\n      setPatients(patientsList);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  //대기 명수 클릭 시, 해당 진료날짜에 진료완료된 환자들 중 총검사상태가 대기인 환자 목록 가져옴\r\n  const showReady = async (treatmentDate2) => {\r\n    try {\r\n      const response = await readPatient(moment(treatmentDate2).format(\"yyyy-MM-DD HH:mm\"), \"대기\");\r\n      patientsList = response.data.treatmentList;\r\n      setPatients(patientsList);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  //검사 명수 클릭 시, 해당 진료날짜에 진료완료된 환자들 중 총검사상태가 검사인 환자 목록 가져옴\r\n  const showInspection = async (treatmentDate2) => {\r\n    try {\r\n      const response = await readPatient(moment(treatmentDate2).format(\"yyyy-MM-DD HH:mm\"), \"검사\");\r\n      patientsList = response.data.treatmentList;\r\n      setPatients(patientsList);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  //완료 명수 클릭 시, 해당 진료날짜에 진료완료된 환자들 중 총검사상태가 대기인 완료 목록 가져옴\r\n  const showFinish = async (treatmentDate2) => {\r\n    try {\r\n      const response = await readPatient(moment(treatmentDate2).format(\"yyyy-MM-DD HH:mm\"), \"완료\");\r\n      patientsList = response.data.treatmentList;\r\n      setPatients(patientsList);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  ////////////////////////////////////////////////////////////\r\n\r\n  useEffect(() => {\r\n    getPatient(treatmentDate2);\r\n  }, [props]);\r\n\r\n  useEffect(() => {\r\n    getPatient(treatmentDate2);\r\n  }, [treatmentDate2]);\r\n\r\n  useEffect(() => {\r\n    if (props.message.content === \"iStateInspections\") {\r\n      ToastsStore.success(\"검사가 완료 되었습니다.\");\r\n      getPatient(treatmentDate2);\r\n    }\r\n\r\n    if (props.message.content === \"addInspections\") {\r\n      ToastsStore.success(\"검사 대기 환자가 추가 되었습니다.\");\r\n      getPatient(treatmentDate2);\r\n    }\r\n  }, [props.message]);\r\n\r\n  ////////////////////////////////////////////////////////////\r\n\r\n  return (\r\n    <div className=\"InspectionPatientList\">\r\n      <ToastsContainer store={ToastsStore} position={ToastsContainerPosition.TOP_CENTER} lightBackground />\r\n      <div className=\"InspectionPatientList_title\">검사 대기 환자</div>\r\n      <div className=\"InspectionPatientList_1 border\">\r\n        <div className=\"InspectionPatientList_1_1 mb-2\">\r\n          <div className=\"InspectionPatientList_1_2_1 p-0\">\r\n            <DatePicker locale=\"ko\" dateFormat=\"yyyy.MM.dd\" selected={treatmentDate} onChange={(date) => setTreatmentDate(date)} />\r\n          </div>\r\n          <div className=\"InspectionPatientList_1_2_2\">\r\n            <button className=\"button_team2_fill\" onClick={() => searchDateBtn(treatmentDate)}>\r\n              이동\r\n            </button>\r\n          </div>\r\n          <div className=\"InspectionPatientList_1_2_3 p-0\">\r\n            <div className=\"InspectionPatientList_1_3_0\" onClick={() => showTotal(treatmentDate2)}>\r\n              전체:{istateWaiting + istateInspection + istateCompletion}명\r\n            </div>\r\n            <div className=\"InspectionPatientList_1_3_1\" onClick={() => showReady(treatmentDate2)}>\r\n              대기:{istateWaiting}명\r\n            </div>\r\n            <div className=\"InspectionPatientList_1_3_2\" onClick={() => showInspection(treatmentDate2)}>\r\n              검사:{istateInspection}명\r\n            </div>\r\n            <div className=\"InspectionPatientList_1_3_3\" onClick={() => showFinish(treatmentDate2)}>\r\n              완료:{istateCompletion}명\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"InspectionPatientList_list\">\r\n          <table className=\"table InspectionPatientList_2_1\" style={{ height: \"10px\" }}>\r\n            <thead className=\"InspectionPatientList_2_2\">\r\n              <tr>\r\n                <th></th>\r\n                <th>진료 번호</th>\r\n                <th>환자명</th>\r\n                <th>생년월일</th>\r\n                <th>성별</th>\r\n                <th>상태</th>\r\n                <th>의사소통메모</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {patients.length === 0 ? (\r\n                <td colSpan=\"7\">\r\n                  <React.Fragment>\r\n                    <Nodata />\r\n                  </React.Fragment>\r\n                </td>\r\n              ) : (\r\n                <>\r\n                  {patients.map((patient) => {\r\n                    return (\r\n                      <InspectionPatientListItem\r\n                        key={patient.treatment_id}\r\n                        patient={patient}\r\n                        id={id}\r\n                        handleChecked={(treatmentId) => handleChecked(treatmentId)}\r\n                        iStateInspection={props.iStateInspection}\r\n                        handleIStateInspectionFalse={props.handleIStateInspectionFalse}\r\n                        iStateFinish={props.iStateFinish}\r\n                        handleIStateFinishFalse={props.handleIStateFinishFalse}\r\n                        iStateWait={props.iStateWait}\r\n                        handleIStateWaitFalse={props.handleIStateWaitFalse}\r\n                        message={props.message}\r\n                        publishTopic={props.publishTopic}\r\n                      />\r\n                    );\r\n                  })}\r\n                </>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InspectionPatientList;\r\n","import React from \"react\";\r\nimport style from \"./InspectionBarcodeModal.module.css\";\r\nimport Barcode from \"react-barcode\";\r\n\r\nfunction InspectionBarcodeModal(props) {\r\n  const { open, closeCheck, closeCancel, inspectionListName, patientName, inspectionInspectorName } = props;\r\n\r\n  const barcode = props.tid + props.inspectionListSpecimen + props.id + props.inspectionListContainer;\r\n\r\n  return (\r\n    <div className={style.InspectionModal}>\r\n      <div className={open ? `${style.openModal} ${style.modal}` : `${style.modal}`}>\r\n        {open ? (\r\n          <section>\r\n            <div className={style.InspectionBarcodePop}>\r\n              <div className={style.InspectionBarcodePop_title}>바코드 출력</div>\r\n              <div className={`${style.InspectionBarcodePop_1} border`}>\r\n                <div className={`${style.InspectionBarcodePop_1_1} m-3`}>\r\n                  <Barcode value={barcode} renderer={\"img\"} />\r\n                </div>\r\n                <div className={`${style.InspectionBarcodePop_1_2} border`}>\r\n                  <div className=\"mr-3 ml-3\">\r\n                    <div className=\"mb-3\">검사번호 :</div>\r\n                    <div className=\"mb-3\">검사명 :</div>\r\n                    <div className=\"mb-3\">피검사자 :</div>\r\n                    <div>검사자 :</div>\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"mb-3\">{props.id}</div>\r\n                    <div className=\"mb-3\">{inspectionListName}</div>\r\n                    <div className=\"mb-3\">{patientName}</div>\r\n                    <div>{inspectionInspectorName}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className={`${style.InspectionBarcodePop_1_3} mb-3 mt-3`}>\r\n                <button className=\"button_team2_fill\" onClick={closeCheck}>\r\n                  확인\r\n                </button>\r\n                <button className=\"button_team2_empty\" onClick={closeCancel}>\r\n                  취소\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InspectionBarcodeModal;\r\n","import { useRef, useState } from \"react\";\r\nimport style from \"./InspectionImgCreateFormModal.module.css\";\r\nimport { deleteImage, createImage } from \"apis/inspections\";\r\n\r\nfunction InspectionImgCreateFormModal(props) {\r\n  //영상검사 이미지 결과\r\n  const [inspectionImgResult, setInspecctionImgResult] = useState(props.inspection);\r\n  //모달 열기, 등록, 닫기 props\r\n  const { open, closeR, close } = props;\r\n  //첨부파일\r\n  const inputFile = useRef();\r\n\r\n  ////////////////////////////////////////////////////////////\r\n\r\n  //등록 버튼\r\n  //유효성검사 후, DB Inspection_Imgs 에서 해당 검사번호를 가진 검사이미지 생성\r\n  const inspectionImgResultBtn = async (event) => {\r\n    event.preventDefault();\r\n\r\n    var maxSize = 1 * 1024 * 1024;\r\n    var sizeIndex = 0;\r\n    var size = true;\r\n\r\n    var typeIndex = 0;\r\n    var type = true;\r\n\r\n    //첨부파일들이 이미지파일인지, 파일사이즈가 1MB를 넘지 않는지 체크 \r\n    for (var i = 0; i <= inputFile.current.files.length - 1; i++) {\r\n      if (inputFile.current.files[i].type.substring(0, inputFile.current.files[i].type.lastIndexOf(\"/\")) !== \"image\") {\r\n        type = false;\r\n        typeIndex = i;\r\n        break;\r\n      }\r\n\r\n      if (inputFile.current.files[i].size >= maxSize) {\r\n        size = false;\r\n        sizeIndex = i;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (inputFile.current.files.length === 0) {\r\n      alert(\"첨부파일이 없습니다.\");\r\n    } else if (!type) {\r\n      alert(typeIndex + 1 + \"번째 첨부파일이 이미지파일이 아닙니다.\");\r\n    } else if (inputFile.current.files.length >= 5) {\r\n      alert(\"첨부파일은 최대 4개까지 선택할 수 있습니다.\");\r\n    } else if (!size) {\r\n      alert(sizeIndex + 1 + \"번째 첨부파일의 크기가 1MB를 초과했습니다.\");\r\n    } else {\r\n      try {\r\n        //삭제\r\n        await deleteImage(inspectionImgResult.inspection_id);\r\n        const formData = new FormData();\r\n        formData.append(\"inspection_img_inspection_id\", inspectionImgResult.inspection_id);\r\n        for (var i = 0; i <= inputFile.current.files.length - 1; i++) {\r\n          formData.append(\"inspection_img_attach\", inputFile.current.files[i]);\r\n        }\r\n        //생성\r\n        await createImage(formData);\r\n        // formData 콘솔 찍는 법\r\n        // for (let value of formData.values()) {\r\n        //   console.log(value);\r\n        // }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n\r\n      closeR();\r\n    }\r\n  };\r\n\r\n  ////////////////////////////////////////////////////////////\r\n\r\n  return (\r\n    <div className={style.InspectionImgCreateModal}>\r\n      <div className={open ? `${style.openModal} ${style.modal}` : `${style.modal}`}>\r\n        {open ? (\r\n          <section>\r\n            <div className={style.InspectionImgCreateForm}>\r\n              <div className={`${style.InspectionImgCreateForm_title} m-2`}>검사 결과 등록</div>\r\n              <div className={`${style.InspectionImgCreateForm_1} border`}>\r\n                <form encType=\"multipartFormData\">\r\n                  <div className={`${style.InspectionImgCreateForm_1_1} mt-3 mb-3`}>\r\n                    <div className={`${style.InspectionImgCreateForm_1_1_1} mr-3`}>\r\n                      <div className=\"mb-1\">진단검사명 :</div>\r\n                      <div className=\"mb-1\">검사명 :</div>\r\n                      <div className=\"mb-1\">검사번호 :</div>\r\n                      <div className=\"mb-1\">담당의 :</div>\r\n                      <div className=\"mb-1\">검사자 :</div>\r\n                      <div className=\"mb-1\">검사실 :</div>\r\n                      <div>첨부파일 : </div>\r\n                      <div></div>\r\n                      <div></div>\r\n                    </div>\r\n                    <div className={style.InspectionImgCreateForm_1_1_2}>\r\n                      <div className=\"mb-1\">{inspectionImgResult.inspection_list_category}</div>\r\n                      <div className=\"mb-1\">{inspectionImgResult.inspection_list_name}</div>\r\n                      <div className=\"mb-1\">{props.id}</div>\r\n                      <div className=\"mb-1\">{inspectionImgResult.inspection_doctor_name}</div>\r\n                      <div className=\"mb-1\">{inspectionImgResult.inspection_inspector_name}</div>\r\n                      <div className=\"mb-1\">{inspectionImgResult.inspection_lab}</div>\r\n                      <div className=\"mb-1\">\r\n                        <input name=\"iattach\" type=\"file\" multiple style={{ width: \"100%\" }} ref={inputFile} accept=\"image/*\" />\r\n                      </div>\r\n                      <div className={`font-weight-lighter font-italic`}>\r\n                        <small>※최대 4개까지 선택 가능</small>\r\n                      </div>\r\n                      <div className={`font-weight-lighter font-italic`}>\r\n                        <small>※이미지파일 크기는 1MB 초과 불과</small>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className={`${style.InspectionImgCreateForm_1_2} mb-3`}>\r\n                    <button type=\"submit\" className=\"button_team2_fill m-0\" onClick={inspectionImgResultBtn}>\r\n                      등록\r\n                    </button>\r\n                    <button className=\"button_team2_empty\" onClick={close}>\r\n                      닫기\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InspectionImgCreateFormModal;\r\n","import { useRef, useState } from \"react\";\r\nimport style from \"./InspectionImgModifyModal.module.css\";\r\nimport { createImage, deleteImage } from \"apis/inspections\";\r\n\r\nfunction InspectionImgCreateFormModal(props) {\r\n  //영상검사 이미지 결과\r\n  const [inspectionImgResult, setInspecctionImgResult] = useState(props.inspection);\r\n  //모달 열기, 수정, 닫기 props\r\n  const { open, closeM, close } = props;\r\n  //첨부파일\r\n  const inputFile = useRef();\r\n\r\n  ////////////////////////////////////////////////////////////\r\n\r\n  //수정 버튼\r\n  //유효성검사 후, DB Inspection_Imgs 에서 해당 검사번호를 가진 검사이미지 삭제 + 새로운 검사이미지 생성\r\n  const inspectionImgResultBtn = async (event) => {\r\n    event.preventDefault();\r\n\r\n    var maxSize = 1 * 1024 * 1024;\r\n    var sizeIndex = 0;\r\n    var size = true;\r\n\r\n    var typeIndex = 0;\r\n    var type = true;\r\n\r\n    //첨부파일들이 이미지파일인지, 파일사이즈가 1MB를 넘지 않는지 체크\r\n    for (var i = 0; i <= inputFile.current.files.length - 1; i++) {\r\n      if (inputFile.current.files[i].type.substring(0, inputFile.current.files[i].type.lastIndexOf(\"/\")) !== \"image\") {\r\n        type = false;\r\n        typeIndex = i;\r\n        break;\r\n      }\r\n\r\n      if (inputFile.current.files[i].size >= maxSize) {\r\n        size = false;\r\n        sizeIndex = i;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (inputFile.current.files.length === 0) {\r\n      alert(\"첨부파일이 없습니다.\");\r\n    } else if (!type) {\r\n      alert(typeIndex + 1 + \"번째 첨부파일이 이미지파일이 아닙니다.\");\r\n    } else if (inputFile.current.files.length >= 5) {\r\n      alert(\"첨부파일은 최대 4개까지 선택할 수 있습니다.\");\r\n    } else if (!size) {\r\n      alert(sizeIndex + 1 + \"번째 첨부파일의 크기가 1MB를 초과했습니다.\");\r\n    } else {\r\n      try {\r\n        //삭제\r\n        await deleteImage(inspectionImgResult.inspection_id);\r\n        const formData = new FormData();\r\n        formData.append(\"inspection_img_inspection_id\", inspectionImgResult.inspection_id);\r\n        for (var i = 0; i <= inputFile.current.files.length - 1; i++) {\r\n          formData.append(\"inspection_img_attach\", inputFile.current.files[i]);\r\n        }\r\n        //생성\r\n        await createImage(formData);\r\n        // formData 콘솔 찍는 법\r\n        // for (let value of formData.values()) {\r\n        //   console.log(value);\r\n        // }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n\r\n      closeM();\r\n    }\r\n  };\r\n\r\n  ////////////////////////////////////////////////////////////\r\n\r\n  return (\r\n    <div className={style.InspectionImgModifyModal}>\r\n      <div className={open ? `${style.openModal} ${style.modal}` : `${style.modal}`}>\r\n        {open ? (\r\n          <section>\r\n            <div className={style.InspectionImgCreateForm}>\r\n              <div className={`${style.InspectionImgCreateForm_title} m-2`}>검사 결과 수정</div>\r\n              <div className={`${style.InspectionImgCreateForm_1} border`}>\r\n                <form encType=\"multipartFormData\">\r\n                  <div className={`${style.InspectionImgCreateForm_1_1} row m-3`}>\r\n                    <div className={`${style.InspectionImgCreateForm_1_1_1} mr-3`}>\r\n                      <div className=\"mb-1\">진단검사명 :</div>\r\n                      <div className=\"mb-1\">검사명 :</div>\r\n                      <div className=\"mb-1\">검사번호 :</div>\r\n                      <div className=\"mb-1\">담당의 :</div>\r\n                      <div className=\"mb-1\">검사자 :</div>\r\n                      <div className=\"mb-1\">검사실 :</div>\r\n                      <div>첨부파일 : </div>\r\n                      <div></div>\r\n                      <div></div>\r\n                    </div>\r\n                    <div className={style.InspectionImgCreateForm_1_1_2}>\r\n                      <div className=\"mb-1\">{inspectionImgResult.inspection_list_category}</div>\r\n                      <div className=\"mb-1\">{inspectionImgResult.inspection_list_name}</div>\r\n                      <div className=\"mb-1\">{props.id}</div>\r\n                      <div className=\"mb-1\">{inspectionImgResult.inspection_doctor_name}</div>\r\n                      <div className=\"mb-1\">{inspectionImgResult.inspection_inspector_name}</div>\r\n                      <div className=\"mb-1\">{inspectionImgResult.inspection_lab}</div>\r\n                      <div className=\"mb-1\">\r\n                        <input name=\"iattach\" type=\"file\" multiple style={{ width: \"100%\" }} ref={inputFile} accept=\"image/*\" />\r\n                      </div>\r\n                      <div className={`font-weight-lighter font-italic`}>\r\n                        <small>※최대 4개까지 선택 가능</small>\r\n                      </div>\r\n                      <div className={`font-weight-lighter font-italic`}>\r\n                        <small>※이미지파일 크기는 1MB 초과 불과</small>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className={`${style.InspectionImgCreateForm_1_2} mb-3`}>\r\n                    <button type=\"submit\" className=\"button_team2_fill m-0\" onClick={inspectionImgResultBtn}>\r\n                      수정\r\n                    </button>\r\n                    <button className=\"button_team2_empty\" onClick={close}>\r\n                      닫기\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InspectionImgCreateFormModal;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport InspectionImgFormModal from \"./components/modal/InspectionImgFormModal\";\r\nimport InspectionImgCreateFormModal from \"./components/modal/InspectionImgCreateFormModal\";\r\nimport InspectionImgModifyFormModal from \"./components/modal/InspectionImgModifyFormModal\";\r\nimport moment from \"moment\";\r\nimport { updateState, updateResult } from \"apis/inspections\";\r\n\r\nfunction InspectionListItem(props) {\r\n  //검사 결과\r\n  const [inspectionR, setInspectionR] = useState(props.inspection.inspection_result);\r\n  //true 일때, 영상검사 보기 모달 열림\r\n  const [imgModalOpen, setImgModalOpen] = useState(false);\r\n  //true 일때, 영상검사 수정 모달 열림\r\n  const [imgModifyModalOpen, setImgModifyModalOpen] = useState(false);\r\n  //true 일때, 영상검사 등록 모달 열림\r\n  const [imgCreateModalOpen, setImgCreateModalOpen] = useState(false);\r\n\r\n  ////////////////////////////////////////////////////////////\r\n\r\n  //혈액검사 검사결과 입력\r\n  const handleResultChange = (event) => {\r\n    setInspectionR(event.target.value);\r\n  };\r\n\r\n  //혈액검사 등록 버튼\r\n  //DB Inspections 에서 해당 검사번호의 검사결과 수정\r\n  const inspectionRRegister = async (event) => {\r\n    if (inspectionR === \"\") {\r\n      alert(\"검사결과를 입력해주세요.\");\r\n    } else {\r\n      try {\r\n        props.inspection.inspection_result = inspectionR;\r\n        await updateResult(props.id, inspectionR);\r\n        setInspectionR();\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  //혈액검사 수정 버튼\r\n  //DB Inspections 에서 해당 검사번호의 검사결과 수정\r\n  const inspectionRModify = async (event) => {\r\n    if (inspectionR === \"\") {\r\n      alert(\"검사결과를 입력해주세요.\");\r\n    } else {\r\n      try {\r\n        props.inspection.inspection_result = inspectionR;\r\n        await updateResult(props.id, inspectionR);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  //영상검사 보기 버튼\r\n  const openImgModal = (event) => {\r\n    setImgModalOpen(true);\r\n  };\r\n  //영상검사 보기 모달 안에서 닫기 버튼 클릭\r\n  const closeImgModal = (event) => {\r\n    setImgModalOpen(false);\r\n  };\r\n\r\n  //영상검사 수정 버튼\r\n  const openImgModifyModal = (event) => {\r\n    setImgModifyModalOpen(true);\r\n  };\r\n  //영상검사 수정 모달 안에서 수정 버튼 클릭\r\n  const closeMImgModifyModal = (event) => {\r\n    setImgModifyModalOpen(false);\r\n  };\r\n  //영상검사 수정 모달 안에서 닫기 버튼 클릭\r\n  const closeImgModifyModal = (event) => {\r\n    event.preventDefault();\r\n    setImgModifyModalOpen(false);\r\n  };\r\n\r\n  //영상검사 등록 버튼\r\n  const openImgCreateModal = (event) => {\r\n    setImgCreateModalOpen(true);\r\n  };\r\n  //영사검사 등록 모달 안에서 등록 버튼 클릭\r\n  //영상검사의 경우, 등록 시 검사결과를 img로 수정 \r\n  const closeRImgCreateModal = async (event) => {\r\n    try {\r\n      setImgCreateModalOpen(false);\r\n      props.inspection.inspection_result = \"img\";\r\n      await updateResult(props.id, \"img\");\r\n      setInspectionR();\r\n      props.publishTopic(0);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  //영상검사 등록 모달 안에서 닫기 버튼 클릭\r\n  const closeImgCreateModal = (event) => {\r\n    event.preventDefault();\r\n    setImgCreateModalOpen(false);\r\n  };\r\n\r\n  //검사상태(대기~>검사) 변경\r\n  //DB Inspections 에서 해당 검사번호의 검사결과 수정\r\n  const changeStateInspection = async () => {\r\n    try {\r\n      if (props.inspection.inspection_id === props.id) {\r\n        if (props.inspection.inspection_state === \"대기\") {\r\n          //props.inspection.inspection_state = \"검사\";\r\n          await updateState(props.id, \"검사\");\r\n          props.handleStateInspectionFalse();\r\n          props.publishTopic(0);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  //검사상태(검사~>대기) 변경\r\n  //DB Inspections 에서 해당 검사번호의 검사결과 수정\r\n  const changeStateWait = async () => {\r\n    try {\r\n      if (props.inspection.inspection_id === props.id) {\r\n        if (props.inspection.inspection_state === \"검사\") {\r\n          //props.inspection.inspection_state = \"대기\";\r\n          props.inspection.inspection_result = \"\";\r\n          props.inspection.inspection_state = \"대기\";\r\n          await updateResult(props.id, \"\");\r\n          await updateState(props.id, \"대기\");\r\n          setInspectionR();\r\n          props.handleStateWaitFalse();\r\n          props.publishTopic(0);\r\n          props.plusStateWaitCount();\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  //검사상태(검사~>완료) 변경\r\n  //DB Inspections 에서 해당 검사번호의 검사결과 수정\r\n  const changeStateFinish = async () => {\r\n    try {\r\n      if (props.inspection.inspection_id === props.id) {\r\n        if (props.inspection.inspection_state === \"검사\") {\r\n          if (inspectionR === \"\") {\r\n            alert(\"검사결과를 입력해주세요.\");\r\n          } else {\r\n            //props.inspection.inspection_state = \"완료\";\r\n            await updateState(props.id, \"완료\");\r\n            props.handleStateFinishFalse();\r\n            props.publishTopic(0);\r\n            props.plusStateFinishCount();\r\n          }\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  ////////////////////////////////////////////////////////////\r\n\r\n  useEffect(() => {\r\n    if (props.stateInspection === true) {\r\n      changeStateInspection();\r\n    }\r\n    if (props.stateWait === true) {\r\n      changeStateWait();\r\n    }\r\n    if (props.stateFinish === true) {\r\n      changeStateFinish();\r\n    }\r\n  }, [props]);\r\n\r\n  ////////////////////////////////////////////////////////////\r\n\r\n  return (\r\n    <>\r\n      <tr\r\n        className=\"InspectionListItem\"\r\n        key={props.inspection.inspection_id}\r\n        onClick={() => {\r\n          props.handleChecked(props.inspection.inspection_id);\r\n        }}\r\n      >\r\n        <td className=\"align-middle\">\r\n          <input type=\"checkbox\" name=\"inspectionCheck\" checked={props.id === props.inspection.inspection_id ? true : false} readOnly />\r\n        </td>\r\n        <td className=\"align-middle\">{props.inspection.inspection_list_category}</td>\r\n        <td className=\"align-middle\">{props.inspection.inspection_list_specimen}</td>\r\n        <td className=\"align-middle\">{props.inspection.inspection_list_name}</td>\r\n\r\n        {props.inspection.inspection_list_category === \"혈액검사\" ? (\r\n          props.inspection.inspection_result === \"\" ? (\r\n            props.inspection.inspection_state === \"대기\" ? (\r\n              <td></td>\r\n            ) : props.inspection.inspection_state === \"완료\" ? (\r\n              <td></td>\r\n            ) : (\r\n              <td className=\"align-middle\">\r\n                <div>\r\n                  <input type=\"text\" value={inspectionR} onChange={handleResultChange} style={{ width: \"70px\" }} />\r\n                  <button className=\"button_team2_fill\" onClick={inspectionRRegister}>\r\n                    등록\r\n                  </button>\r\n                </div>\r\n              </td>\r\n            )\r\n          ) : props.inspection.inspection_state === \"완료\" ? (\r\n            <td className=\"align-middle\">{props.inspection.inspection_result}</td>\r\n          ) : (\r\n            <td className=\"align-middle\">\r\n              <div>\r\n                <input type=\"text\" value={inspectionR} onChange={handleResultChange} style={{ width: \"70px\" }} />\r\n                <button className=\"button_team2_fill\" onClick={inspectionRModify}>\r\n                  수정\r\n                </button>\r\n              </div>\r\n            </td>\r\n          )\r\n        ) : props.inspection.inspection_result === \"\" ? (\r\n          props.inspection.inspection_state === \"대기\" ? (\r\n            <td></td>\r\n          ) : props.inspection.inspection_state === \"완료\" ? (\r\n            <td></td>\r\n          ) : (\r\n            <td className=\"InspectionListItem_1 align-middle\">\r\n              <div>\r\n                <React.Fragment>\r\n                  <button className=\"button_team2_empty\" onClick={openImgCreateModal}>\r\n                    등록\r\n                  </button>\r\n                  <InspectionImgCreateFormModal id={props.id} open={imgCreateModalOpen} closeR={closeRImgCreateModal} close={closeImgCreateModal} inspection={props.inspection} />\r\n                </React.Fragment>\r\n              </div>\r\n            </td>\r\n          )\r\n        ) : props.inspection.inspection_state === \"완료\" ? (\r\n          <td className=\"align-middle\">\r\n            <React.Fragment>\r\n              <button className=\"button_team2_fill\" onClick={openImgModal}>\r\n                보기\r\n              </button>\r\n              <InspectionImgFormModal id={props.id} open={imgModalOpen} close={closeImgModal} inspection={props.inspection} />\r\n            </React.Fragment>\r\n          </td>\r\n        ) : (\r\n          <td className=\"align-middle\">\r\n            <div className=\"InspectionListItem_1\">\r\n              <React.Fragment>\r\n                <button className=\"button_team2_fill\" onClick={openImgModal}>\r\n                  보기\r\n                </button>\r\n                <InspectionImgFormModal id={props.id} open={imgModalOpen} close={closeImgModal} inspection={props.inspection} />\r\n                <button className=\"button_team2_empty\" onClick={openImgModifyModal}>\r\n                  수정\r\n                </button>\r\n                <InspectionImgModifyFormModal id={props.id} open={imgModifyModalOpen} closeM={closeMImgModifyModal} close={closeImgModifyModal} inspection={props.inspection} />\r\n              </React.Fragment>\r\n            </div>\r\n          </td>\r\n        )}\r\n\r\n        <td className=\"align-middle\">{props.inspection.inspection_list_reference}</td>\r\n        <td className=\"align-middle\">{props.inspection.inspection_date !== undefined ? moment(props.inspection.inspection_date).format(\"HH:mm\") : \"\"}</td>\r\n        {props.inspection.inspeciton_list_container === \"EDTA\" ? (\r\n          <td className=\"align-middle\" style={{ color: \"#8041D9\" }}>\r\n            ●{props.inspection.inspeciton_list_container}\r\n          </td>\r\n        ) : props.inspection.inspeciton_list_container === \"SST\" ? (\r\n          <td className=\"align-middle\" style={{ color: \"#FFE400\" }}>\r\n            ●{props.inspection.inspeciton_list_container}\r\n          </td>\r\n        ) : (\r\n          <td className=\"align-middle\">{props.inspection.inspeciton_list_container}</td>\r\n        )}\r\n        <td className=\"align-middle\">{props.inspection.inspection_doctor_name}</td>\r\n        <td className=\"align-middle\">{props.inspection.inspection_inspector_name}</td>\r\n        <td className=\"align-middle\">{props.inspection.inspection_lab}</td>\r\n        {props.inspection.inspection_state === \"대기\" ? (\r\n          <td className=\"align-middle\" style={{ color: \"#009900\" }}>\r\n            {props.inspection.inspection_state}\r\n          </td>\r\n        ) : props.inspection.inspection_state === \"검사\" ? (\r\n          <td className=\"align-middle\" style={{ color: \"#ff6600\" }}>\r\n            {props.inspection.inspection_state}\r\n          </td>\r\n        ) : (\r\n          <td className=\"align-middle\" style={{ color: \"#00AAF0\" }}>\r\n            {props.inspection.inspection_state}\r\n          </td>\r\n        )}\r\n      </tr>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default InspectionListItem;\r\n","import InspectionBarcodeModal from \"./components/modal/InspectionBarcodeModal\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport ReactExport from \"react-export-excel\";\r\nimport InspectionListItem from \"./InspectionListItem\";\r\nimport { readInspection } from \"apis/inspections\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Nodata from \"components/common/NoData\";\r\n\r\nlet inspectionsList = [];\r\n\r\nfunction InspectionList(props) {\r\n  //검사 상세 내역 전체 목록\r\n  const [inspections, setInspections] = useState(inspectionsList);\r\n  //검사 상세 내역 필터된(로그인한 검사자만) 목록\r\n  const [filterInspections, setFilterInspections] = useState([]);\r\n  //true 일때, 검사상태: 대기~>검사\r\n  const [stateInspection, setStateInspection] = useState(false);\r\n  //true 일때, 검사상태: 검사~>대기\r\n  const [stateWait, setStateWait] = useState(false);\r\n  //true 일때, 검사상태: ~>완료\r\n  const [stateFinish, setStateFinish] = useState(false);\r\n  //검사상태가 완료인 검사의 갯수\r\n  const [stateFinishCount, setStateFinishCount] = useState(0);\r\n  //검사상태가 대기인 검사의 갯수\r\n  const [stateWaitCount, setStateWaitCount] = useState(0);\r\n  //true 일때, 바코드 모달 열림\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  //검사번호\r\n  const [id, setId] = useState(\"\");\r\n  //Spinner\r\n  const [loading, setLoading] = useState(false);\r\n  //로그인한 User의 id\r\n  const globalUid = useSelector((state) => state.authReducer.uid);\r\n  //로그인한 User의 권한\r\n  const authorityRole = useSelector((state) => state.authReducer.uauthority);\r\n\r\n  ////////////////////////////////////////////////////////////\r\n  //엑셀 저장\r\n  ////////////////////////////////////////////////////////////\r\n  const ExcelFile = ReactExport.ExcelFile;\r\n  const ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\r\n  const ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\r\n  let dataSet = [];\r\n  function getDataSet() {\r\n    for (var i = 0; i <= inspections.length - 1; i++) {\r\n      dataSet.push({\r\n        category: inspections[i].inspection_list_category,\r\n        specimen: inspections[i].inspection_list_specimen,\r\n        name: inspections[i].inspection_list_name,\r\n        result: inspections[i].inspection_result,\r\n        reference: inspections[i].inspection_list_reference,\r\n        date: inspections[i].inspection_date,\r\n        container: inspections[i].inspeciton_list_container,\r\n        doctor: inspections[i].inspection_doctor_name,\r\n        inspector: inspections[i].inspeciton_list_container,\r\n        lab: inspections[i].inspection_lab,\r\n      });\r\n    }\r\n    return dataSet;\r\n  }\r\n\r\n  ////////////////////////////////////////////////////////////\r\n\r\n  //DB Inspections 에서 해당 진료번호를 가지고, 전체 검사 목록 가져옴\r\n  //로그인한 검사자의 검사 목록만 filter, 권한이 master일때는 전체 목록\r\n  const getInspections = async (treatmentId) => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await readInspection(treatmentId);\r\n      inspectionsList = response.data.inspectionList;\r\n      if(authorityRole !== \"ROLE_MASTER\"){\r\n      const iList = inspectionsList.filter((inspection) => {\r\n        if(inspection.inspection_inspector_id === globalUid){\r\n          return inspection;\r\n        }\r\n      });\r\n      setFilterInspections(iList);\r\n      } else {\r\n        setFilterInspections(inspectionsList);\r\n      }\r\n      setInspections(inspectionsList);\r\n    } catch (error) {\r\n      console.log(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  //검사상태가 바뀔 때(검사시작, 검사취소, 검사완료)\r\n  //DB Inspections 에서 해당 진료번호를 가지고, 전체 검사 목록 가져옴\r\n  //로그인한 검사자의 검사 목록만 filter, 권한이 master일때는 전체 목록\r\n  const getInspectionsWhenStateChange = async (treatmentId) => {\r\n    try {\r\n      const response = await readInspection(treatmentId);\r\n      inspectionsList = response.data.inspectionList;\r\n      if(authorityRole !== \"ROLE_MASTER\"){\r\n      const iList = inspectionsList.filter((inspection) => {\r\n        if(inspection.inspection_inspector_id === globalUid){\r\n          return inspection;\r\n        }\r\n      });\r\n      setFilterInspections(iList);\r\n      } else {\r\n        setFilterInspections(inspectionsList);\r\n      }\r\n      setInspections(inspectionsList);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  //검사들의 검사상태가 완료인 갯수를 센 후, stateFinishCount상태에 저장\r\n  function getStateFinishCount() {\r\n    let finishCount = 0;\r\n    for (var i = 0; i <= inspections.length - 1; i++) {\r\n      if (inspections[i].inspection_state === \"완료\") {\r\n        finishCount++;\r\n      }\r\n    }\r\n    setStateFinishCount(finishCount);\r\n  }\r\n\r\n  function getStateWaitCount() {\r\n    let waitCount = 0;\r\n    for (var i = 0; i <= inspections.length - 1; i++) {\r\n      if (inspections[i].inspection_state === \"대기\") {\r\n        waitCount++;\r\n      }\r\n    }\r\n    setStateWaitCount(waitCount);\r\n  }\r\n\r\n  //검사취소 버튼 클릭 (검사결과: 검사 ~> 대기)\r\n  const cancelBtn = () => {\r\n    setStateWait(true);\r\n    getStateWaitCount();\r\n  };\r\n\r\n  //엑셀저장 버튼 클릭\r\n  const excelBtn = () => {\r\n    dataSet = [];\r\n  };\r\n\r\n  //검사완료 버튼 클릭 (검사결과: 검사 ~> 완료)\r\n  const completeBtn = () => {\r\n    if (window.confirm(\"검사완료 시, 결과 수정이 불가합니다\")) {\r\n      setStateFinish(true);\r\n      getStateFinishCount();\r\n    } else {\r\n      return;\r\n    }\r\n  };\r\n\r\n  //검사상태를 완료로 바꾼 후, stateFinishCount + 1\r\n  const plusStateFinishCount = () => {\r\n    getStateFinishCount();\r\n    setStateFinishCount(stateFinishCount + 1);\r\n  };\r\n\r\n  //검사상태를 대기로 바꾼 후, stateWaitCount + 1\r\n  const plusStateWaitCount = () => {\r\n    getStateWaitCount();\r\n    setStateWaitCount(stateWaitCount + 1);\r\n    setStateWaitCount(stateWaitCount - 1);\r\n  };\r\n\r\n  //검사시작 버튼 클릭 시,\r\n  //혈액검사면 바코드 모달 열림, 영상검사면 검사상태 검사로 바뀜 + 총검사상태 검사로 바뀜\r\n  const openModal = () => {\r\n    inspections.find((ins) => {\r\n      if (ins.inspection_id === id) {\r\n        if (ins.inspection_list_category === \"혈액검사\") {\r\n          setModalOpen(true);\r\n          return ins;\r\n        } else {\r\n          setStateInspection(true);\r\n          props.handleIStateInspectionTrue();\r\n          props.publishTopic(0);\r\n          return false;\r\n        }\r\n      }\r\n    });\r\n  };\r\n  //바코드 모달 안에서 확인 버튼 클릭\r\n  const closeCheckModal = () => {\r\n    setModalOpen(false);\r\n    setStateInspection(true);\r\n    props.handleIStateInspectionTrue();\r\n  };\r\n  //바코드 모달 안에서 취소 버튼 클릭\r\n  const closeCancelModal = () => {\r\n    setModalOpen(false);\r\n  };\r\n\r\n  //검사 체크(선택)\r\n  const handleChecked = (inspectionId) => {\r\n    setId(inspectionId);\r\n  };\r\n\r\n  //검사시작 후(검사상태: 대기~>검사)\r\n  const handleStateInspectionFalse = () => {\r\n    setStateInspection(false);\r\n  };\r\n\r\n  //검사취소 후(검사상태: 검사~>대기)\r\n  const handleStateWaitFalse = () => {\r\n    setStateWait(false);\r\n  };\r\n\r\n  //검사완료 후(검사상태: 검사~>완료)\r\n  const handleStateFinishFalse = () => {\r\n    setStateFinish(false);\r\n  };\r\n\r\n  ////////////////////////////////////////////////////////////\r\n\r\n  useEffect(() => {\r\n    if (props.treatmentId) {\r\n      getInspections(props.treatmentId);\r\n    } else {\r\n      setInspections([]);\r\n      setFilterInspections([]);\r\n    }\r\n    getStateFinishCount();\r\n    getStateWaitCount();\r\n  }, [props.treatmentId]);\r\n\r\n  useEffect(() => {\r\n    if (props.treatmentId) {\r\n      getInspectionsWhenStateChange(props.treatmentId);\r\n    }\r\n    getStateFinishCount();\r\n    getStateWaitCount();\r\n  }, [props]);\r\n\r\n  //진료번호가 바뀔 때,\r\n  //stateFinishCount를 0으로 바꿔 누적되지 않고, 다시 세도록 함\r\n  useEffect(() => {\r\n    setStateFinishCount(0);\r\n    setStateWaitCount(0);\r\n  }, [props.treatmentId]);\r\n\r\n  //stateFinishCount 바뀔 때,\r\n  //검사목록 갯수와 검사상태가 완료인 갯수가 같으면\r\n  //총검사결과: 검사~>완료 true\r\n  useEffect(() => {\r\n    if (inspections.length !== 0 && inspections.length === stateFinishCount) {\r\n      props.handleIStateFinishTrue();\r\n    } else {\r\n      props.handleIStateFinishFalse();\r\n    }\r\n  }, [stateFinishCount]);\r\n\r\n  //stateWaitCount 바뀔 때,\r\n  //검사목록 갯수와 검사상태가 대기인 갯수가 같으면\r\n  //총검사결과: 검사~>대기 true\r\n  useEffect(() => {\r\n    if (inspections.length !== 0 && inspections.length === stateWaitCount) {\r\n      props.handleIStateWaitTrue();\r\n    } else {\r\n      props.handleIStateWaitFalse();\r\n    }\r\n  }, [stateWaitCount]);\r\n\r\n  ////////////////////////////////////////////////////////////\r\n  //바코드 모달에 props으로 전달할 검사 정보\r\n  ////////////////////////////////////////////////////////////\r\n  var inspection_list_specimen = \" \";\r\n  var inspeciton_list_container = \" \";\r\n  var inspection_list_name = \" \";\r\n  var patient_name = \" \";\r\n  var inspection_inspector_name = \" \";\r\n  inspections.find((ins) => {\r\n    if (ins.inspection_id === id) {\r\n      inspection_list_specimen = ins.inspection_list_specimen;\r\n      inspeciton_list_container = ins.inspeciton_list_container;\r\n      inspection_list_name = ins.inspection_list_name;\r\n      patient_name = ins.patient_name;\r\n      inspection_inspector_name = ins.inspection_inspector_name;\r\n    }\r\n  });\r\n\r\n  ////////////////////////////////////////////////////////////\r\n\r\n  return (\r\n    <div className=\"InspectionList\">\r\n      <div className=\"InspectionList_title\">검사 상세 내역</div>\r\n      <div className=\"InspectionList_1 border\">\r\n        <div className=\"InspectionList_1_1\">\r\n          <React.Fragment>\r\n            <button className=\"button_team2_fill InspectionList_1_2\" onClick={openModal}>\r\n              검사 시작\r\n            </button>\r\n            <InspectionBarcodeModal\r\n              id={id}\r\n              tid={props.treatmentId}\r\n              open={modalOpen}\r\n              closeCheck={closeCheckModal}\r\n              closeCancel={closeCancelModal}\r\n              inspectionListSpecimen={inspection_list_specimen}\r\n              inspectionListContainer={inspeciton_list_container}\r\n              inspectionListName={inspection_list_name}\r\n              patientName={patient_name}\r\n              inspectionInspectorName={inspection_inspector_name}\r\n            />\r\n          </React.Fragment>\r\n          <button className=\"button_team2_empty InspectionList_1_2\" onClick={cancelBtn}>\r\n            검사 취소\r\n          </button>\r\n\r\n          <ExcelFile\r\n            element={\r\n              <button className=\"button_team2_fill InspectionList_1_2\" onClick={excelBtn}>\r\n                엑셀 저장\r\n              </button>\r\n            }\r\n          >\r\n            <ExcelSheet data={getDataSet} name=\"inspectionsExcel\">\r\n              <ExcelColumn label=\"진단검사명\" value=\"category\" />\r\n              <ExcelColumn label=\"검체명\" value=\"specimen\" />\r\n              <ExcelColumn label=\"검사명\" value=\"name\" />\r\n              <ExcelColumn label=\"결과\" value=\"result\" />\r\n              <ExcelColumn label=\"참고치\" value=\"reference\" />\r\n              <ExcelColumn label=\"검사시간\" value=\"date\" />\r\n              <ExcelColumn label=\"용기\" value=\"container\" />\r\n              <ExcelColumn label=\"담당의\" value=\"doctor\" />\r\n              <ExcelColumn label=\"검사자\" value=\"inspector\" />\r\n              <ExcelColumn label=\"검사실\" value=\"lab\" />\r\n            </ExcelSheet>\r\n          </ExcelFile>\r\n\r\n          <button className=\"button_team2_empty InspectionList_1_2\" onClick={completeBtn}>\r\n            검사 완료\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"InspectionList_list \">\r\n          <table className=\"table InspectionList_2_1\" style={{ height: \"10px\" }}>\r\n            <thead className=\"InspectionList_2_2\">\r\n              <tr>\r\n                <th style={{ width: \"1%\" }}></th>\r\n                <th style={{ width: \"9%\" }}>진단검사명</th>\r\n                <th style={{ width: \"10%\" }}>검체명</th>\r\n                <th style={{ width: \"10%\" }}>검사명</th>\r\n                <th style={{ width: \"15%\" }}>결과</th>\r\n                <th style={{ width: \"10\" }}>참고치</th>\r\n                <th style={{ width: \"9%\" }}>검사 시간</th>\r\n                <th style={{ width: \"7%\" }}>용기</th>\r\n                <th style={{ width: \"7%\" }}>담당의</th>\r\n                <th style={{ width: \"7%\" }}>검사자</th>\r\n                <th style={{ width: \"8%\" }}>검사실</th>\r\n                <th style={{ width: \"7%\" }}>상태</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {loading ? (\r\n                <div className=\"spinner2\">\r\n                  <div className={`spinner-border text-primary`} role=\"status\">\r\n                    <span className=\"sr-only\">loading...</span>\r\n                  </div>\r\n                </div>\r\n              ) : filterInspections.length === 0 ? (\r\n                <td colSpan=\"12\">\r\n                  <React.Fragment>\r\n                    <Nodata />\r\n                  </React.Fragment>\r\n                </td>\r\n              ) : (\r\n                <>\r\n                  {filterInspections.map((inspection) => {\r\n                    return (\r\n                      <InspectionListItem\r\n                        key={inspection.inspection_id}\r\n                        inspection={inspection}\r\n                        id={id}\r\n                        handleChecked={(inspectionId) => handleChecked(inspectionId)}\r\n                        stateInspection={stateInspection}\r\n                        handleStateInspectionFalse={handleStateInspectionFalse}\r\n                        stateWait={stateWait}\r\n                        handleStateWaitFalse={handleStateWaitFalse}\r\n                        stateFinish={stateFinish}\r\n                        handleStateFinishFalse={handleStateFinishFalse}\r\n                        plusStateFinishCount={plusStateFinishCount}\r\n                        plusStateWaitCount={plusStateWaitCount}\r\n                        publishTopic={props.publishTopic}\r\n                        iStateFinish={props.iStateFinish}\r\n                        iStateWait={props.iStateWait}\r\n                        message={props.message}\r\n                      />\r\n                    );\r\n                  })}\r\n                </>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InspectionList;\r\n","import \"./Inspection.css\";\r\nimport InspectionPatientList from \"./InspectionPatientList\";\r\nimport InspectionList from \"./InspectionList\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport Paho from \"paho-mqtt\";\r\nimport { sendMqttMessage } from \"apis/mqtt\";\r\n\r\nfunction Inspection(props) {\r\n  ////////////////////////////////////////////////////////////\r\n  //MQTT\r\n  // 1. 검사 대기 추가   - doctor -> inspector\r\n  // { topic: \"/138010/nurse/doctor/inspector\", content: \"addInspections\"}\r\n  // 2. 검사 수정   - inspector -> inspector\r\n  // { topic: \"/138010/nurse/doctor/inspector\", content: \"updateInspects\"}\r\n  // 3. 총검사 상태 완료   - inspector -> inspector\r\n  // { topic: \"/138010/nurse/doctor/inspector\", content: \"iStateInspections\"}\r\n  ////////////////////////////////////////////////////////////\r\n  const [subTopic, setSubTopic] = useState(\"/138010/nurse/doctor/inspector\"); // 병원코드/검사자\r\n  const [pubMessage, setPubMessage] = useState([\r\n    {\r\n      topic: \"/138010/nurse/doctor/inspector\",\r\n      content: \"updateInspects\",\r\n    },\r\n    {\r\n      topic: \"/138010/nurse/doctor/inspector\",\r\n      content: \"iStateInspections\",\r\n    },\r\n  ]);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  let client = useRef(null);\r\n\r\n  const connectMqttBroker = () => {\r\n    client.current = new Paho.Client(\"kosa3.iptime.org\", 50012, \"client-\" + new Date().getTime());\r\n    // client.current = new Paho.Client(\"localhost\", 61614, \"client-\" + new Date().getTime());\r\n\r\n    client.current.onConnectionLost = () => {\r\n      console.log(\"Mqtt 접속 끊김\");\r\n    };\r\n\r\n    client.current.onMessageArrived = (msg) => {\r\n      //console.log(\"메시지 수신\");\r\n      var Jmessage = JSON.parse(msg.payloadString);\r\n      setMessage(() => {\r\n        return Jmessage;\r\n      });\r\n    };\r\n\r\n    client.current.connect({\r\n      onSuccess: () => {\r\n        client.current.subscribe(subTopic);\r\n        console.log(\"Mqtt 접속 성공\");\r\n      },\r\n    });\r\n  };\r\n  const disconnectMqttBroker = () => {\r\n    client.current.disconnect(); // onConnectionLost 실행됨\r\n  };\r\n\r\n  const publishTopic = async (num) => {\r\n    await sendMqttMessage(pubMessage[num]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    connectMqttBroker();\r\n  }, []);\r\n\r\n  ////////////////////////////////////////////////////////////\r\n  ////////////////////////////////////////////////////////////\r\n\r\n  //진료번호\r\n  const [treatmentId, setTreatmentId] = useState(\"\");\r\n  //true 일때, 총검사상태: 대기~>검사\r\n  const [iStateInspection, setIStateInspection] = useState(false);\r\n  //true 일때, 총검사상태: 검사~>대기\r\n  const [iStateWait, setIStateWait] = useState(false);\r\n  //true 일때, 총검사상태: 검사~>완료\r\n  const [iStateFinish, setIStateFinish] = useState(false);\r\n\r\n  //검사대기 목록에서 체크된 진료번호\r\n  const checkedtId = (id) => {\r\n    setTreatmentId(id);\r\n  };\r\n\r\n  //검사시작 시(총검사상태: 대기~>검사)\r\n  const handleIStateInspectionTrue = () => {\r\n    setIStateInspection(true);\r\n  };\r\n\r\n  //검사시작 후(총검사상태: 대기~>검사)\r\n  const handleIStateInspectionFalse = () => {\r\n    setIStateInspection(false);\r\n  };\r\n\r\n  //모든 검사상태가 대기 시(총검사상태: 검사~>대기)\r\n  const handleIStateWaitTrue = () => {\r\n    setIStateWait(true);\r\n  };\r\n\r\n  //모든 검사상태가 대기 후(총검사상태: 검사~>대기)\r\n  const handleIStateWaitFalse = () => {\r\n    setIStateWait(false);\r\n  };\r\n\r\n  //모든 검사상태가 완료 시(총검사상태: 검사~>완료)\r\n  const handleIStateFinishTrue = () => {\r\n    setIStateFinish(true);\r\n  };\r\n\r\n  //모든 검사상태가 완료 후(총검사상태: 검사~>완료)\r\n  const handleIStateFinishFalse = () => {\r\n    setIStateFinish(false);\r\n  };\r\n\r\n  ////////////////////////////////////////////////////////////\r\n\r\n  return (\r\n    <>\r\n      <div className=\"Inspection\">\r\n        <div className=\"Inspection_1\">\r\n          {/* 검사대기환자 */}\r\n          <InspectionPatientList\r\n            treatmentId={treatmentId}\r\n            checkedtId={(id) => checkedtId(id)}\r\n            iStateInspection={iStateInspection}\r\n            handleIStateInspectionFalse={handleIStateInspectionFalse}\r\n            iStateFinish={iStateFinish}\r\n            handleIStateFinishFalse={handleIStateFinishFalse}\r\n            iStateWait={iStateWait}\r\n            handleIStateWaitFalse={handleIStateWaitFalse}\r\n            message={message}\r\n            publishTopic={publishTopic}\r\n          />\r\n        </div>\r\n        <div className=\"Inspection_2\">\r\n          {/* 검사상세내역 */}\r\n          <InspectionList\r\n            treatmentId={treatmentId}\r\n            handleIStateInspectionTrue={handleIStateInspectionTrue}\r\n            iStateFinish={iStateFinish}\r\n            handleIStateFinishTrue={handleIStateFinishTrue}\r\n            handleIStateFinishFalse={handleIStateFinishFalse}\r\n            iStateWait={iStateWait}\r\n            handleIStateWaitTrue={handleIStateWaitTrue}\r\n            handleIStateWaitFalse={handleIStateWaitFalse}\r\n            publishTopic={publishTopic}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Inspection;\r\n","//상태 조건값 선언\r\nconst initialState = {\r\n  uid: \"\",\r\n  authToken: \"\",\r\n  uauthority: \"\"\r\n};\r\n\r\n//액션 타입 선언\r\nconst SET_UID = \"auth/setUid\";\r\nconst SET_AUTH_TOKEN = \"auth/setAuthToken\";\r\nconst SET_UAUTHORITY = \"auth/setUauthority\";\r\n\r\n//액션 생성 함수 선언\r\nexport const createSetUidAction = (uid) => {\r\n  return {\r\n    type: SET_UID,\r\n    uid: uid,\r\n  };\r\n};\r\n\r\nexport const createSetAuthTokenAction = (authToken) => {\r\n  return {\r\n    type: SET_AUTH_TOKEN,\r\n    authToken: authToken,\r\n  };\r\n};\r\n\r\nexport const cresteSetUauthorityAction = (uauthority) => {\r\n  return {\r\n    type: SET_UAUTHORITY,\r\n    uauthority: uauthority\r\n  };\r\n};\r\n\r\n//리듀스 선언\r\nconst authReducer = (state = initialState, action) => { //default값 넣어줌 initialState\r\n  if (action.type === SET_UID) {\r\n    return { ...state, uid: action.uid };\r\n  } else if (action.type === SET_AUTH_TOKEN){\r\n    return { ...state, authToken: action.authToken };\r\n  } else if (action.type === SET_UAUTHORITY) {\r\n    return { ...state, uauthority: action.uauthority }\r\n  } else {\r\n    return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;","import \"./Help.css\";\r\nimport { RiCustomerServiceLine } from \"react-icons/ri\";\r\n\r\nfunction Help(props) {\r\n  return (\r\n    <div className={`Help`}>\r\n      <div className={`user_guide`}>\r\n        <a  className=\"user_guide_a\" href=\"/resources/pdf/더존ICT그룹_프로젝트과제_H_ERP_0527.pdf\" download>\r\n        <div>사용자 가이드</div>\r\n        <div className={`icon mt-3`}><i className=\"bi bi-question-circle\"></i></div> \r\n        <div className=\"user_guide_explain\">※ 클릭 시 사용자 가이드가 <br/>다운로드 됩니다.</div>\r\n        </a>       \r\n      </div>\r\n      <div className={`online_center`}>        \r\n        <div>온라인 고객센터</div>\r\n          <a href=\"https://help.douzone.com/support/voice.jsp\" target=\"_blank\" rel=\"noreferrer\">\r\n            <div className={`icon icon1 mt-3`}><i className=\"bi bi-globe\"></i></div>\r\n          </a>\r\n        <div className=\"user_guide_explain\">※ 클릭 시 온라인 고객센터 페이지로 <br/>이동됩니다.</div>\r\n      </div>\r\n      <div className={`as`}>\r\n        <div>원격 A/S</div>\r\n        {/* <div className={`icon`}><i className=\"bi bi-laptop\"></i></div> */}\r\n        <div className=\"icon\"><RiCustomerServiceLine/></div>\r\n        <div></div>\r\n        <div className=\"text-center\"><i className=\"bi bi-telephone mr-1\" style={{\"fontSize\":\"1.6rem\"}}></i>1688-6000</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Help;","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"http://kosa3.iptime.org:50002\";\r\n//axios.defaults.baseURL = \"http://localhost:8080\";\r\n\r\nexport function addAuthHeader(authToken){\r\n  axios.defaults.headers.common[\"authToken\"] = authToken;\r\n}\r\n\r\nexport function removeAuthHeader(){\r\n  delete axios.defaults.headers.common[\"authToken\"];\r\n}","import axios from \"axios\";\r\n\r\nexport function login(user){\r\n  //공통경로 생략\r\n  const promise = axios.post(\"/auth/login\", user);\r\n  return promise;\r\n}\r\n\r\nexport function getUser(user_id) {\r\n  const promise = axios.get(\"/auth/read\", {params: {user_id}});\r\n  return promise;\r\n}\r\n\r\nexport function updateUserInfo(user) {\r\n  const promise = axios.put(\"/auth/update\", user);\r\n  return promise;\r\n}","//상태 조건값 선언\r\nconst initialState = {\r\n  hid: \"\",\r\n  hname: \"\", //병원 이름\r\n  haddress: \"\",\r\n  hurl: \"\",\r\n  hlat: \"37.52684965592309\",\r\n  hlong: \"127.10834881127674\",\r\n};\r\n\r\n//액션 타입 선언\r\nconst SET_HID = \"hospital/setHid\";\r\nconst SET_HNAME = \"hospital/setHname\";\r\nconst SET_HADDRESS = \"hospital/setHaddress\";\r\nconst SET_HURL = \"hospital/setHURL\";\r\nconst SET_HLAT = \"hospital/setHLAT\";\r\nconst SET_HLONG = \"hospital/setHLONG\";\r\n\r\n//액션 생성 함수 선언\r\nexport const createSetHidAction = (hid) => {\r\n  return {\r\n    type: SET_HID,\r\n    hid: hid,\r\n  };\r\n};\r\n\r\nexport const createSetHnameAction = (hname) => {\r\n  return {\r\n    type: SET_HNAME,\r\n    hname: hname,\r\n  };\r\n};\r\n\r\nexport const createSetHaddressAction = (haddress) => {\r\n  return {\r\n    type: SET_HADDRESS,\r\n    haddress: haddress,\r\n  };\r\n};\r\n\r\nexport const createSetHurlAction = (hurl) => {\r\n  return {\r\n    type: SET_HURL,\r\n    hurl: hurl,\r\n  };\r\n};\r\n\r\nexport const createSetHLATAction = (hlat) => {\r\n  return {\r\n    type: SET_HLAT,\r\n    hlat: hlat,\r\n  };\r\n};\r\n\r\nexport const createSetHLONGAction = (hlong) => {\r\n  return {\r\n    type: SET_HLONG,\r\n    hlong: hlong,\r\n  };\r\n};\r\n\r\n//리듀스 선언\r\nconst hospitalReducer = (state = initialState, action) => { //default값 넣어줌 initialState\r\n  if (action.type === SET_HID) {\r\n    return { ...state, hid: action.hid };\r\n  } else if(action.type === SET_HNAME){\r\n    return { ...state, hname: action.hname };\r\n  } else if(action.type === SET_HADDRESS){\r\n    return { ...state, haddress: action.haddress };\r\n  } else if(action.type === SET_HURL){\r\n    return { ...state, hurl: action.hurl };\r\n  } else if(action.type === SET_HLAT){\r\n    return { ...state, hlat: action.hlat };\r\n  } else if(action.type === SET_HLONG){\r\n    return { ...state, hlong: action.hlong };\r\n  } else {\r\n    return state;\r\n  }\r\n};\r\n\r\nexport default hospitalReducer;","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { createSetAuthTokenAction, createSetUidAction, cresteSetUauthorityAction } from \"redux/auth-reducer\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport Help from \"./Help\";\r\nimport \"./Login.css\";\r\nimport { addAuthHeader } from \"apis/axiosConfig\";\r\nimport { login } from \"apis/auth\";\r\nimport { ValidationModal } from \"../components/common/ValidationModal\";\r\nimport { createSetHaddressAction, createSetHidAction, createSetHLATAction, createSetHLONGAction, createSetHnameAction, createSetHurlAction } from \"redux/hospital-reducer\";\r\n\r\nfunction Login(props) {\r\n  // 유저 상태\r\n  const [user, setUser] = useState({\r\n    userId: \"\",\r\n    userPassword: \"\"\r\n  });\r\n\r\n  // Spinner\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // 바인딩할 상태함수\r\n  const dispatch = useDispatch();\r\n\r\n  const handleChange = (event) => {\r\n    setUser({\r\n      ...user,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n\r\n  // 로그인\r\n  const loginUser = async (event) => {\r\n    setLoading(true);\r\n    try{\r\n      // 로그인 요청\r\n      const response = await login(user);\r\n      // console.log(response.data);\r\n\r\n      // 로그인 성공 시 JWT 저장 및 경로 이동\r\n      if (response.data.result === \"success\") {\r\n        // alert(\"로그인 성공\");\r\n\r\n        // 요청 헤더에 JWT 토큰 추가\r\n        addAuthHeader(response.data.authToken);\r\n        // // Redux에 인증 내용 저장      \r\n        dispatch(createSetUidAction(response.data.uid));\r\n        dispatch(createSetAuthTokenAction(response.data.authToken));\r\n        dispatch(cresteSetUauthorityAction(response.data.uauthority));\r\n        dispatch(createSetHnameAction(response.data.hname));\r\n        dispatch(createSetHidAction(response.data.hid));\r\n        dispatch(createSetHaddressAction(response.data.haddress));\r\n        dispatch(createSetHLATAction(response.data.hlat));\r\n        dispatch(createSetHLONGAction(response.data.hlong));\r\n        dispatch(createSetHurlAction(response.data.hurl));\r\n\r\n        // sessionStorage에 인증 내용 저장\r\n        sessionStorage.setItem(\"uid\", response.data.uid);\r\n        sessionStorage.setItem(\"authToken\", response.data.authToken);\r\n        sessionStorage.setItem(\"uauthority\", response.data.uauthority);\r\n        sessionStorage.setItem(\"hname\", response.data.hname);\r\n        sessionStorage.setItem(\"hid\", response.data.hid);\r\n        sessionStorage.setItem(\"haddress\", response.data.haddress);\r\n        sessionStorage.setItem(\"hlat\", response.data.hlat);\r\n        sessionStorage.setItem(\"hlong\", response.data.hlong);\r\n        sessionStorage.setItem(\"hurl\", response.data.hurl);\r\n        \r\n        // 로그인 아이디에 따른 경로 지정\r\n        if(user.userId.slice(0,1) === \"N\") {\r\n          props.history.push(\"/Register\");}\r\n        else if (user.userId.slice(0,1) === \"D\") {\r\n          props.history.push(\"/Treatment\");\r\n        } else if (user.userId.slice(0,1) === \"I\") {      \r\n          props.history.push(\"/Inspection\");\r\n        } \r\n      } else if (response.data.result === \"notCorrectPW\" || response.data.result === \"notFindID\") {\r\n        openModal();\r\n        // alert(\"로그인 실패 : 아이디 혹은 비밀번호가 맞지 않습니다.\");\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"올바른 아이디/비밀번호를 입력해주세요.\"\r\n        })        \r\n      }  else if (response.data.result === \"notEnabled\") {\r\n        openModal();\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"비활성화된 계정입니다.\"\r\n        });      \r\n      } \r\n    } catch(error) {\r\n      console.log(error);      \r\n    } finally {\r\n      setLoading(false);\r\n    }  \r\n  };\r\n  \r\n  //---------------------------------------------------------------------------------------\r\n  // 공지사항\r\n  const [bid, setBid] = useState(\"0\");\r\n\r\n  const boardClick = (id) => {\r\n    if (bid !== id) {\r\n      setBid(id);\r\n    } else {\r\n      setBid(\"0\");\r\n    }\r\n  };\r\n\r\n  \r\n  //---------------------------------------------------------------------------------------\r\n  // 유효성 검사를 위한 함수 사용\r\n  const { handleSubmit, register, errors } = useForm({ mode: \"onChange\" });\r\n  // 모달 상태(open일 떄 true로 바뀌어 열림)\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  // 유효성 검사 오류 메시지\r\n  const [errorMsg, setErrorMsg] = useState({\r\n    title : \"로그인 실패\",\r\n    content: \"\"\r\n  });\r\n\r\n  const openModal = (event) => {\r\n    setModalOpen(true);\r\n  };\r\n  const closeModal = () => {\r\n    setModalOpen(false);\r\n  };\r\n  \r\n  return (\r\n    <div className=\"box\">\r\n      <div className=\"Login\">\r\n        <div className=\"back\">\r\n          <div className=\"d-flex justify-content-center align-items-center mb-5\">\r\n            <h2 className=\"text-center mr-4\">의료정보 시스템</h2>\r\n            <div>\r\n              <img src=\"/resources/img/logo_blue.png\" alt=\"\" width={70}></img>\r\n            </div>\r\n          </div>\r\n          <form onSubmit={handleSubmit(loginUser)}>\r\n            <div className=\"form-group row\">\r\n              <label className=\"col-sm-3 col-form-label\">아이디</label>\r\n              <div className=\"col-sm\">\r\n                <input type=\"text\" className=\"form-control\" name=\"userId\" ref={register({required: true})} onChange={handleChange}></input>\r\n                <div className={errors.userId? \"Login_error\" : \"Login_noterror\"}>아이디를 입력해주세요.</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <label className=\"col-sm-3 col-form-label\">비밀번호</label>\r\n              <div className=\"col-sm\">\r\n                <input type=\"password\" className=\"form-control Login_password\" name=\"userPassword\" ref={register({required:true})} onChange={handleChange}></input>\r\n                <div className={errors.userPassword? \"Login_error\" : \"Login_noterror\"}>비밀번호를 입력해주세요.</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"d-flex justify-content-end\">\r\n              {loading ? \r\n              <button className=\"button_team2_fill\" disabled>\r\n                <div className=\"spinner-border spinner-border-sm\"></div>\r\n                <span className=\"pl-1\">LOADING</span>\r\n              </button>              \r\n              :\r\n              <button className=\"button_team2_fill\" type=\"submit\">LOGIN</button> }\r\n              <React.Fragment>\r\n                <ValidationModal open={modalOpen} close={closeModal} errorMsg={errorMsg}></ValidationModal>\r\n              </React.Fragment>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <div>\r\n          <Help/>\r\n        </div>\r\n        <div className=\"Board\">\r\n          <div className=\"Board_title\">공지사항</div>\r\n          <div className=\"text-center border\">\r\n            <div className=\"Board_table\">\r\n              <div style={{width: \"10%\"}}>분류</div>\r\n              <div style={{width: \"75%\"}}>제목</div>\r\n              <div style={{width: \"15%\"}}>작성일</div>\r\n            </div>\r\n            <div className={bid === \"1\"? \"Board_tr active\" : \"Board_tr\"} onClick={() => boardClick(\"1\")}>\r\n              <div style={{width: \"10%\"}}>[공지]</div>\r\n              <div style={{width: \"75%\"}}>서버 점검 관련 사항 공지</div>\r\n              <div style={{width: \"15%\"}}>2021-06-01</div>\r\n            </div>\r\n            <div className={bid === \"1\"? 'show' : 'Board_content'}>\r\n              <div>서버 점검으로 인해 2021-06-12 23시 00분부터 2021-06-13 04시 30분까지 프로그램 이용이 <br></br> 어려울 수 있습니다.</div>\r\n            </div>\r\n            <div className={bid === \"2\"? \"Board_tr active\" : \"Board_tr\"} onClick={() => boardClick(\"2\")}>\r\n              <div style={{width: \"10%\"}}>[공지]</div>\r\n              <div style={{width: \"75%\"}}>사용자 가이드 외 이용사항 문의 공지</div>\r\n              <div style={{width: \"15%\"}}>2021-06-01</div>\r\n            </div>\r\n            <div className={bid === \"2\"? 'show' : 'Board_content'}>\r\n              <div>사용자 가이드 외의 문의사항은 온라인 고객센터 혹은 원격 A/S 1688-6000을 통해 문의해주세요.</div>\r\n            </div>\r\n            <div className={bid === \"3\"? \"Board_tr active\" : \"Board_tr\"} onClick={() => boardClick(\"3\")}>\r\n              <div style={{width: \"10%\"}}>[공지]</div>\r\n              <div style={{width: \"75%\"}}>처음 사용하는 사용자를 위한 프로그램 이용 관련 문의</div>\r\n              <div style={{width: \"15%\"}}>2021-06-01</div>\r\n            </div>\r\n            <div className={bid === \"3\"? 'show' : 'Board_content'}>\r\n              <div>\r\n                상단에 존재하는 사용자 가이드를 클릭하시면 사용설명서를 다운 받으실 수 있습니다. <br/>\r\n                그 외의 문의 사항은 온라인 고객센터를 통해 문의 바랍니다.\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;","import { ResponsiveBar } from '@nivo/bar';\r\nimport style from \"./DataAnalysis.module.css\";\r\n\r\nfunction Data1(props) {\r\n  const {data1} = props;\r\n\r\n  return (\r\n    <>\r\n      <div className={style.DataAnalysis_col_header}>최근 3달 진료수</div>\r\n      <div className={style.DataAnalysis_col_content}>\r\n        <ResponsiveBar\r\n          data={data1}\r\n          keys={['진료수']}\r\n          indexBy=\"month\"\r\n          margin={{ top: 50, right: 130, bottom: 50, left: 60 }}\r\n          padding={0.3}\r\n          groupMode=\"grouped\"\r\n          valueScale={{ type: 'linear' }}\r\n          indexScale={{ type: 'band', round: true }}\r\n          colors={{ scheme: 'accent' }}\r\n          fill={[\r\n            {\r\n              match: {\r\n                id: 'treatments'\r\n              }\r\n            }\r\n          ]}\r\n          borderColor={{ from: 'color', modifiers: [['darker', 1.6]] }}\r\n          axisTop={null}\r\n          axisRight={null}\r\n          axisLeft={{\r\n            tickSize: 5,\r\n            tickPadding: 5,\r\n            tickRotation: 0,\r\n            legend: '진료수',\r\n            legendPosition: 'middle',\r\n            legendOffset: -40\r\n          }}\r\n          animate={true}\r\n          motionStiffness={90}\r\n          motionDamping={15}\r\n        />\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Data1;","import { ResponsivePie } from \"@nivo/pie\";\r\nimport style from \"./DataAnalysis.module.css\";\r\n\r\nfunction Data2(props) {\r\n  const {data2} = props;\r\n\r\n  return (\r\n    <>\r\n      <div className={style.DataAnalysis_col_header}>접수 현황</div>\r\n      <div className={style.DataAnalysis_col_content}>\r\n        <ResponsivePie\r\n          data={data2}\r\n          margin={{ top: 40, right: 80, bottom: 80, left: 80 }}\r\n          innerRadius={0.5}\r\n          padAngle={0.7}\r\n          cornerRadius={3}\r\n          activeOuterRadiusOffset={8}\r\n          borderWidth={1}\r\n          borderColor={{ from: \"color\", modifiers: [[\"darker\", 0.2]] }}\r\n          arcLinkLabelsSkipAngle={10}\r\n          arcLinkLabelsTextColor=\"#333333\"\r\n          arcLinkLabelsThickness={2}\r\n          arcLinkLabelsColor={{ from: \"color\" }}\r\n          arcLabelsSkipAngle={10}\r\n          arcLabelsTextColor={{ from: \"color\", modifiers: [[\"darker\", 2]] }}\r\n          legends={[\r\n            {\r\n              anchor: \"bottom\",\r\n              direction: \"row\",\r\n              justify: false,\r\n              translateX: 0,\r\n              translateY: 56,\r\n              itemsSpacing: 0,\r\n              itemWidth: 100,\r\n              itemHeight: 18,\r\n              itemTextColor: \"#999\",\r\n              itemDirection: \"left-to-right\",\r\n              itemOpacity: 1,\r\n              symbolSize: 18,\r\n              // symbolShape: \"circle\",\r\n              effects: [\r\n                {\r\n                  on: \"hover\",\r\n                  style: {\r\n                    itemTextColor: \"#000\",\r\n                  },\r\n                },\r\n              ],\r\n            },\r\n          ]}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Data2;\r\n","import { ResponsiveBar } from '@nivo/bar';\r\nimport style from \"./DataAnalysis.module.css\";\r\n\r\nfunction Data3(props) {\r\n  const {data3} = props;\r\n  return (\r\n    <>\r\n      <div className={style.DataAnalysis_col_header}>요일별 나이대별 환자 검사 통계</div>\r\n      <div className={style.DataAnalysis_col_content}>\r\n        <ResponsiveBar\r\n          data={data3}\r\n          keys={['10대', '20대', '30대', '40대', '50대', '60대', '70대', '80대', '90대']}\r\n          indexBy=\"dayOfWeek\"\r\n          margin={{ top: 50, right: 130, bottom: 50, left: 60 }}\r\n          padding={0.3}\r\n          valueScale={{ type: 'linear' }}\r\n          indexScale={{ type: 'band', round: true }}\r\n          colors={{ scheme: 'accent' }}\r\n          defs={[\r\n            {\r\n              id: 'dots',\r\n              type: 'patternDots',\r\n              background: 'inherit',\r\n              color: '#38bcb2',\r\n              size: 4,\r\n              padding: 1,\r\n              stagger: true\r\n            },\r\n            {\r\n              id: 'lines',\r\n              type: 'patternLines',\r\n              background: 'inherit',\r\n              color: '#eed312',\r\n              rotation: -45,\r\n              lineWidth: 6,\r\n              spacing: 10\r\n            }\r\n          ]}\r\n          borderColor={{ from: 'color', modifiers: [['darker', 1.6]] }}\r\n          axisTop={null}\r\n          axisRight={null}\r\n          axisBottom={{\r\n            tickSize: 5,\r\n            tickPadding: 5,\r\n            tickRotation: 0,\r\n            legend: '요일',\r\n            legendPosition: 'middle',\r\n            legendOffset: 40\r\n          }}\r\n          axisLeft={{\r\n            tickSize: 5,\r\n            tickPadding: 5,\r\n            tickRotation: 0,\r\n            legend: '검사 수',\r\n            legendPosition: 'middle',\r\n            legendOffset: -40\r\n          }}\r\n          labelSkipWidth={12}\r\n          labelSkipHeight={12}\r\n          labelTextColor={{ from: 'color', modifiers: [['darker', 1.6]] }}\r\n          legends={[\r\n            {\r\n              dataFrom: 'keys',\r\n              anchor: 'bottom-right',\r\n              direction: 'column',\r\n              justify: false,\r\n              translateX: 120,\r\n              translateY: 0,\r\n              itemsSpacing: 2,\r\n              itemWidth: 100,\r\n              itemHeight: 20,\r\n              itemDirection: 'left-to-right',\r\n              itemOpacity: 0.85,\r\n              symbolSize: 20,\r\n              effects: [\r\n                {\r\n                  on: 'hover',\r\n                  style: {\r\n                    itemOpacity: 1\r\n                  }\r\n                }\r\n              ]\r\n            }\r\n          ]}\r\n          animate={true}\r\n          motionStiffness={90}\r\n          motionDamping={15}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Data3;","import React from \"react\";\r\nimport { ResponsivePie } from '@nivo/pie';\r\nimport style from \"./DataAnalysis.module.css\";\r\n\r\nfunction Data4(props) {\r\n  const {data4} = props;\r\n  return (\r\n    <>\r\n      <div className={style.DataAnalysis_col_header}>분기별 환자 현황</div>\r\n      <div className={style.DataAnalysis_col_content}>\r\n        <ResponsivePie\r\n          data={data4}\r\n          margin={{ top: 40, right: 80, bottom: 80, left: 80 }}\r\n          innerRadius={0.5}\r\n          padAngle={0.7}\r\n          cornerRadius={3}\r\n          activeOuterRadiusOffset={8}\r\n          colors={{ scheme: 'category10' }}\r\n          borderWidth={1}\r\n          borderColor={{ from: 'color', modifiers: [['darker', 0.2]] }}\r\n          arcLinkLabelsSkipAngle={10}\r\n          arcLinkLabelsTextColor=\"#333333\"\r\n          arcLinkLabelsThickness={2}\r\n          arcLinkLabelsColor={{ from: 'color' }}\r\n          arcLabelsSkipAngle={10}\r\n          arcLabelsTextColor={{ from: 'color', modifiers: [['darker', 2]] }}\r\n          defs={[\r\n            {\r\n              id: 'dots',\r\n              type: 'patternDots',\r\n              background: 'inherit',\r\n              color: 'rgba(255, 255, 255, 0.3)',\r\n              size: 4,\r\n              padding: 1,\r\n              stagger: true\r\n            },\r\n            {\r\n              id: 'lines',\r\n              type: 'patternLines',\r\n              background: 'inherit',\r\n              color: 'rgba(255, 255, 255, 0.3)',\r\n              rotation: -45,\r\n              lineWidth: 6,\r\n              spacing: 10\r\n            }\r\n          ]}\r\n          legends={[\r\n            {\r\n              anchor: 'bottom',\r\n              direction: 'row',\r\n              justify: false,\r\n              translateX: 0,\r\n              translateY: 56,\r\n              itemsSpacing: 0,\r\n              itemWidth: 100,\r\n              itemHeight: 18,\r\n              itemTextColor: '#999',\r\n              itemDirection: 'left-to-right',\r\n              itemOpacity: 1,\r\n              symbolSize: 18,\r\n              symbolShape: 'circle',\r\n              effects: [\r\n                {\r\n                  on: 'hover',\r\n                  style: {\r\n                    itemTextColor: '#000'\r\n                  }\r\n                }\r\n              ]\r\n            }\r\n          ]}\r\n          animate={true}\r\n          motionStiffness={90}\r\n          motionDamping={15}\r\n        />\r\n      </div>\r\n    </>\r\n\r\n  );\r\n}\r\nexport default Data4;\r\n","import { getDatas } from \"apis/data\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Data1 from \"./Data1\";\r\nimport Data2 from \"./Data2\";\r\nimport Data3 from \"./Data3\";\r\nimport Data4 from \"./Data4\";\r\nimport style from \"./DataAnalysis.module.css\";\r\nimport Spinner from \"components/common/Spinner\";\r\n\r\nfunction DataAnalysis(props) {\r\n\r\n  const [data1, setData1] = useState([]);\r\n  const [data2, setData2] = useState([]);\r\n  const [data3, setData3] = useState([]);\r\n  const [data4, setData4] = useState([]);\r\n\r\n  // spinner \r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const getData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      var response = await getDatas();\r\n\r\n      calcData1(response.data.data1);\r\n      calcData2(response.data.data2);\r\n      calcData3(response.data.data3);\r\n      calcData4(response.data.data4);\r\n\r\n      setLoading(false);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n  const calcData1 = (datalist) => {\r\n    let count1 = 0;\r\n    let count2 = 0;\r\n    let count3 = 0;\r\n    for (var data of datalist) {\r\n      if (new Date(data.register_starttime).getMonth() === new Date().getMonth()) {\r\n        count1++;\r\n      } else if (new Date(data.register_starttime).getMonth() === new Date().getMonth() - 1) {\r\n        count2++;\r\n      } else if (new Date(data.register_starttime).getMonth() === new Date().getMonth() - 2) {\r\n        count3++\r\n      }\r\n    }\r\n    const newDataList = [\r\n      {\r\n        \"month\": \"전전달\",\r\n        \"진료수\": count3\r\n      },\r\n      {\r\n        \"month\": \"전달\",\r\n        \"진료수\": count2\r\n      },\r\n      {\r\n        \"month\": \"이번달\",\r\n        \"진료수\": count1\r\n      }\r\n    ]\r\n    setData1(newDataList);\r\n  };\r\n  const calcData2 = (datalist) => {\r\n    let count1 = 0, count2 = 0, count3 = 0;\r\n    for (var data of datalist) {\r\n      if (data.register_state === \"취소\") {\r\n        count1++;\r\n      } else if (data.register_state === \"대기\") {\r\n        count2++;\r\n      } else if (data.register_state === \"완료\") {\r\n        count3++;\r\n      }\r\n    }\r\n    const registerState = [\r\n      {\r\n        id: \"취소\",\r\n        label: \"취소\",\r\n        value: count1,\r\n      },\r\n      {\r\n        id: \"대기\",\r\n        label: \"대기\",\r\n        value: count2,\r\n      },\r\n      {\r\n        id: \"완료\",\r\n        label: \"완료\",\r\n        value: count3,\r\n      }\r\n    ];\r\n    setData2(registerState);\r\n  };\r\n  const calcData3 = (datalist) => {\r\n    let countA1 = 0, countA2 = 0, countA3 = 0, countA4 = 0, countA5 = 0, countA6 = 0, countA7 = 0, countA8 = 0, countA9 = 0;\r\n    let countB1 = 0, countB2 = 0, countB3 = 0, countB4 = 0, countB5 = 0, countB6 = 0, countB7 = 0, countB8 = 0, countB9 = 0;\r\n    let countC1 = 0, countC2 = 0, countC3 = 0, countC4 = 0, countC5 = 0, countC6 = 0, countC7 = 0, countC8 = 0, countC9 = 0;\r\n    let countD1 = 0, countD2 = 0, countD3 = 0, countD4 = 0, countD5 = 0, countD6 = 0, countD7 = 0, countD8 = 0, countD9 = 0;\r\n    let countE1 = 0, countE2 = 0, countE3 = 0, countE4 = 0, countE5 = 0, countE6 = 0, countE7 = 0, countE8 = 0, countE9 = 0;\r\n\r\n    let pAge = 0;\r\n    let yearToday = new Date().getFullYear();\r\n    yearToday *= 1;\r\n    for (var data of datalist) {\r\n      // 월요일\r\n      if (new Date(data.register_starttime).getDay() === 1) {\r\n        if ((data.patient_ssn.slice(7, 8) === \"3\") || (data.patient_ssn.slice(7, 8) === \"4\")) {\r\n          var newAge = \"20\" + (data.patient_ssn.slice(0, 2));\r\n          newAge *= 1;\r\n          pAge = yearToday - newAge;\r\n        } else {\r\n          var newAge2 = \"19\" + (data.patient_ssn.slice(0, 2));\r\n          newAge2 *= 1;\r\n          pAge = yearToday - newAge2;\r\n        }\r\n        if (pAge >= 10 && pAge < 20) {\r\n          countA1++;\r\n        } else if (pAge >= 20 && pAge < 30) {\r\n          countA2++;\r\n        } else if (pAge >= 30 && pAge < 40) {\r\n          countA3++;\r\n        } else if (pAge >= 40 && pAge < 50) {\r\n          countA4++;\r\n        } else if (pAge >= 50 && pAge < 60) {\r\n          countA5++;\r\n        } else if (pAge >= 60 && pAge < 70) {\r\n          countA6++;\r\n        } else if (pAge >= 70 && pAge < 80) {\r\n          countA7++;\r\n        } else if (pAge >= 80 && pAge < 90) {\r\n          countA8++;\r\n        } else if (pAge >= 90) {\r\n          countA9++;\r\n        }\r\n      }\r\n      // 화요일\r\n      else if (new Date(data.register_starttime).getDay() === 2) {\r\n        if ((data.patient_ssn.slice(7, 8) === \"3\") || (data.patient_ssn.slice(7, 8) === \"4\")) {\r\n          var newAge = \"20\" + (data.patient_ssn.slice(0, 2));\r\n          newAge *= 1;\r\n          pAge = yearToday - newAge;\r\n        } else {\r\n          var newAge2 = \"19\" + (data.patient_ssn.slice(0, 2));\r\n          newAge2 *= 1;\r\n          pAge = yearToday - newAge2;\r\n        }\r\n        if (pAge >= 10 && pAge < 20) {\r\n          countB1++;\r\n        } else if (pAge >= 20 && pAge < 30) {\r\n          countB2++;\r\n        } else if (pAge >= 30 && pAge < 40) {\r\n          countB3++;\r\n        } else if (pAge >= 40 && pAge < 50) {\r\n          countB4++;\r\n        } else if (pAge >= 50 && pAge < 60) {\r\n          countB5++;\r\n        } else if (pAge >= 60 && pAge < 70) {\r\n          countB6++;\r\n        } else if (pAge >= 70 && pAge < 80) {\r\n          countB7++;\r\n        } else if (pAge >= 80 && pAge < 90) {\r\n          countB8++;\r\n        } else if (pAge >= 90) {\r\n          countB9++;\r\n        }\r\n      }\r\n      // 수요일\r\n      else if (new Date(data.register_starttime).getDay() === 3) {\r\n        if ((data.patient_ssn.slice(7, 8) === \"3\") || (data.patient_ssn.slice(7, 8) === \"4\")) {\r\n          var newAge = \"20\" + (data.patient_ssn.slice(0, 2));\r\n          newAge *= 1;\r\n          pAge = yearToday - newAge;\r\n        } else {\r\n          var newAge2 = \"19\" + (data.patient_ssn.slice(0, 2));\r\n          newAge2 *= 1;\r\n          pAge = yearToday - newAge2;\r\n        }\r\n        if (pAge >= 10 && pAge < 20) {\r\n          countC1++;\r\n        } else if (pAge >= 20 && pAge < 30) {\r\n          countC2++;\r\n        } else if (pAge >= 30 && pAge < 40) {\r\n          countC3++;\r\n        } else if (pAge >= 40 && pAge < 50) {\r\n          countC4++;\r\n        } else if (pAge >= 50 && pAge < 60) {\r\n          countC5++;\r\n        } else if (pAge >= 60 && pAge < 70) {\r\n          countC6++;\r\n        } else if (pAge >= 70 && pAge < 80) {\r\n          countC7++;\r\n        } else if (pAge >= 80 && pAge < 90) {\r\n          countC8++;\r\n        } else if (pAge >= 90) {\r\n          countC9++;\r\n        }\r\n      }\r\n      // 목요일\r\n      else if (new Date(data.register_starttime).getDay() === 4) {\r\n        if ((data.patient_ssn.slice(7, 8) === \"3\") || (data.patient_ssn.slice(7, 8) === \"4\")) {\r\n          var newAge = \"20\" + (data.patient_ssn.slice(0, 2));\r\n          newAge *= 1;\r\n          pAge = yearToday - newAge;\r\n        } else {\r\n          var newAge2 = \"19\" + (data.patient_ssn.slice(0, 2));\r\n          newAge2 *= 1;\r\n          pAge = yearToday - newAge2;\r\n        }\r\n        if (pAge >= 10 && pAge < 20) {\r\n          countD1++;\r\n        } else if (pAge >= 20 && pAge < 30) {\r\n          countD2++;\r\n        } else if (pAge >= 30 && pAge < 40) {\r\n          countD3++;\r\n        } else if (pAge >= 40 && pAge < 50) {\r\n          countD4++;\r\n        } else if (pAge >= 50 && pAge < 60) {\r\n          countD5++;\r\n        } else if (pAge >= 60 && pAge < 70) {\r\n          countD6++;\r\n        } else if (pAge >= 70 && pAge < 80) {\r\n          countD7++;\r\n        } else if (pAge >= 80 && pAge < 90) {\r\n          countD8++;\r\n        } else if (pAge >= 90) {\r\n          countD9++;\r\n        }\r\n      }\r\n      // 금요일\r\n      else if (new Date(data.register_starttime).getDay() === 5) {\r\n        if ((data.patient_ssn.slice(7, 8) === \"3\") || (data.patient_ssn.slice(7, 8) === \"4\")) {\r\n          var newAge = \"20\" + (data.patient_ssn.slice(0, 2));\r\n          newAge *= 1;\r\n          pAge = yearToday - newAge;\r\n        } else {\r\n          var newAge2 = \"19\" + (data.patient_ssn.slice(0, 2));\r\n          newAge2 *= 1;\r\n          pAge = yearToday - newAge2;\r\n        }\r\n        if (pAge >= 10 && pAge < 20) {\r\n          countE1++;\r\n        } else if (pAge >= 20 && pAge < 30) {\r\n          countE2++;\r\n        } else if (pAge >= 30 && pAge < 40) {\r\n          countE3++;\r\n        } else if (pAge >= 40 && pAge < 50) {\r\n          countE4++;\r\n        } else if (pAge >= 50 && pAge < 60) {\r\n          countE5++;\r\n        } else if (pAge >= 60 && pAge < 70) {\r\n          countE6++;\r\n        } else if (pAge >= 70 && pAge < 80) {\r\n          countE7++;\r\n        } else if (pAge >= 80 && pAge < 90) {\r\n          countE8++;\r\n        } else if (pAge >= 90) {\r\n          countE9++;\r\n        }\r\n      }\r\n    }\r\n    const patient_data = [\r\n      {\r\n        \"dayOfWeek\": \"월\",\r\n        \"10대\": countA1,\r\n        \"20대\": countA2,\r\n        \"30대\": countA3,\r\n        \"40대\": countA4,\r\n        \"50대\": countA5,\r\n        \"60대\": countA6,\r\n        \"70대\": countA7,\r\n        \"80대\": countA8,\r\n        \"90대\": countA9,\r\n      },\r\n      {\r\n        \"dayOfWeek\": \"화\",\r\n        \"10대\": countB1,\r\n        \"20대\": countB2,\r\n        \"30대\": countB3,\r\n        \"40대\": countB4,\r\n        \"50대\": countB5,\r\n        \"60대\": countB6,\r\n        \"70대\": countB7,\r\n        \"80대\": countB8,\r\n        \"90대\": countB9,\r\n      },\r\n      {\r\n        \"dayOfWeek\": \"수\",\r\n        \"10대\": countC1,\r\n        \"20대\": countC2,\r\n        \"30대\": countC3,\r\n        \"40대\": countC4,\r\n        \"50대\": countC5,\r\n        \"60대\": countC6,\r\n        \"70대\": countC7,\r\n        \"80대\": countC8,\r\n        \"90대\": countC9,\r\n      },\r\n      {\r\n        \"dayOfWeek\": \"목\",\r\n        \"10대\": countD1,\r\n        \"20대\": countD2,\r\n        \"30대\": countD3,\r\n        \"40대\": countD4,\r\n        \"50대\": countD5,\r\n        \"60대\": countD6,\r\n        \"70대\": countD7,\r\n        \"80대\": countD8,\r\n        \"90대\": countD9,\r\n      },\r\n      {\r\n        \"dayOfWeek\": \"금\",\r\n        \"10대\": countE1,\r\n        \"20대\": countE2,\r\n        \"30대\": countE3,\r\n        \"40대\": countE4,\r\n        \"50대\": countE5,\r\n        \"60대\": countE6,\r\n        \"70대\": countE7,\r\n        \"80대\": countE8,\r\n        \"90대\": countE9,\r\n      }\r\n    ];\r\n    setData3(patient_data);\r\n  };\r\n  const calcData4 = (datalist) => {\r\n    let countQ1 = 0;\r\n    let countQ2 = 0;\r\n    let countQ3 = 0;\r\n    let countQ4 = 0;\r\n    for (var data of datalist) {\r\n      if (new Date(data.register_starttime).getMonth() >= 0 && new Date(data.register_starttime).getMonth() < 3) {\r\n        countQ1++;\r\n      } else if (new Date(data.register_starttime).getMonth() >= 3 && new Date(data.register_starttime).getMonth() < 6) {\r\n        countQ2++;\r\n      } else if (new Date(data.register_starttime).getMonth() >= 6 && new Date(data.register_starttime).getMonth() < 9) {\r\n        countQ3++\r\n      } else if (new Date(data.register_starttime).getMonth() >= 9 && new Date(data.register_starttime).getMonth() < 12) {\r\n        countQ4++\r\n      }\r\n    }\r\n    const newDataList = [\r\n      {\r\n        \"id\": \"1분기\",\r\n        \"label\": \"1분기\",\r\n        \"value\": countQ1,\r\n      },\r\n      {\r\n        \"id\": \"2분기\",\r\n        \"label\": \"2분기\",\r\n        \"value\": countQ2,\r\n      },\r\n      {\r\n        \"id\": \"3분기\",\r\n        \"label\": \"3분기\",\r\n        \"value\": countQ3,\r\n      },\r\n      {\r\n        \"id\": \"4분기\",\r\n        \"label\": \"4분기\",\r\n        \"value\": countQ4,\r\n      }\r\n    ]\r\n    setData4(newDataList);\r\n  };\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n  return (\r\n    <div className={style.DataAnalysis}>\r\n      {loading ? <Spinner /> :\r\n        <>\r\n          <div className={style.DataAnalysis_row1}>\r\n            <div className={style.DataAnalysis_col}>\r\n              <Data1 data1={data1} />\r\n            </div>\r\n            <div className={style.DataAnalysis_col}>\r\n              <Data2 data2={data2} />\r\n            </div>\r\n          </div>\r\n          <div className={style.DataAnalysis_row2}>\r\n            <div className={style.DataAnalysis_col}>\r\n              <Data3 data3={data3} />\r\n            </div>\r\n            <div className={style.DataAnalysis_col}>\r\n              <Data4 data4={data4} />\r\n            </div>\r\n          </div>\r\n        </>}\r\n    </div>\r\n  );\r\n}\r\nexport default DataAnalysis;\r\n","import axios from \"axios\";\r\n\r\nexport function getDatas(){\r\n  const promise = axios.get(\"/data\");\r\n  return promise;\r\n}","import axios from \"axios\";\r\nimport qs from \"qs\";\r\n\r\nexport function getAllUserList(){\r\n  const promise = axios.get(\"/user\");\r\n  return promise;\r\n}\r\n\r\nexport function getUserList(keyword=\"\", condition=\"all\"){\r\n  const promise = axios.get(\"/user/select\", {params: {keyword, condition}});\r\n  return promise;\r\n}\r\n\r\nexport function updateUser(user) {\r\n  const promise = axios.put(\"/user\", user);\r\n  return promise;\r\n}\r\n\r\nexport function updateUserEnabled(user) {\r\n  return axios.put(\"/user/enabled\", user);\r\n}\r\n\r\nexport function createUser(user) {\r\n  const promise = axios.post(\"/user\", user);\r\n  // const promise = axios.post(\"/user\", qs.stringify(user));\r\n  return promise;\r\n}","import { Modal } from \"../../components/common/Address\";\r\nimport React, { useState } from \"react\";\r\nimport { createUser } from \"apis/users\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { ToastsContainer, ToastsContainerPosition, ToastsStore } from \"react-toasts\";\r\nimport { ValidationModal } from \"components/common/ValidationModal\";\r\n\r\nfunction UserCreateForm(props) {\r\n  const hospital_id = useSelector((state) => state.hospitalReducer.hid);\r\n\r\n  // 직원 상태\r\n  const [user, setUser] = useState({\r\n    user_name: \"\",\r\n    user_authority: \"ROLE_DOCTOR\",\r\n    user_hospital_id: hospital_id,\r\n    user_ssn1: \"\",\r\n    user_ssn2: \"\",\r\n    user_sex: \"M\",\r\n    user_tel1: \"010\",\r\n    user_tel2: \"\",\r\n    user_tel3: \"\",\r\n    user_email1: \"\",\r\n    user_email2: \"naver.com\",\r\n    user_zipcode: \"\",\r\n    user_address: \"\",\r\n    user_detailaddress1: \"\",\r\n    user_detailaddress2: \"\",\r\n  });\r\n\r\n  //----------------------------------------------------------------------------------------\r\n  // validation 모달 상태(open일 떄 true로 바뀌어 열림)\r\n  const [validationModalOpen, setValidationModalOpen] = useState(false);\r\n  // 유효성 검사 오류 메시지\r\n  const [errorMsg, setErrorMsg] = useState({\r\n    title: \"직원 등록 실패\",\r\n    content: \"\",\r\n  });\r\n\r\n  const openvalidationModal = () => {\r\n    setValidationModalOpen(true);\r\n  };\r\n\r\n  const closeValidationModal = () => {\r\n    setValidationModalOpen(false);\r\n  };\r\n\r\n  //----------------------------------------------------------------------------------------\r\n  // 주민번호 뒷자리 마스킹 상태\r\n  const [masking, setMasking] = useState(\"\");\r\n\r\n  //----------------------------------------------------------------------------------------\r\n  // 실행 함수\r\n  const handleChange = (event) => {\r\n    setUser({\r\n      ...user,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleChangeSsn = (event) => {\r\n    setUser({\r\n      ...user,\r\n      user_ssn2: event.target.value,\r\n    });\r\n    setMasking(event.target.value);\r\n  };\r\n\r\n  // 직원 등록\r\n  const handleCreate = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      var userValidation = true;\r\n      var regex = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z]).{2,}$/;\r\n\r\n      if(user.user_name === \"\") {\r\n        userValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"직원명을 입력해주세요.\"\r\n        });\r\n        return openvalidationModal();\r\n      } else if (user.user_name.length < 2) {\r\n        userValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"올바른 직원명을 입력해주세요.\"\r\n        });\r\n        return openvalidationModal();\r\n      } else if (user.user_ssn1 === \"\" || user.user_ssn2 === \"\") {\r\n        userValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"주민등록번호를 입력해주세요.\"\r\n        });\r\n        return openvalidationModal();\r\n      } else if (user.user_ssn1.length !== 6 || user.user_ssn2.length !== 7) {\r\n        userValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"올바른 주민등록번호를 입력해주세요.\"\r\n        });\r\n        return openvalidationModal();\r\n      } else if (user.user_tel2 === \"\" || user.user_tel3 === \"\") {\r\n        userValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"전화번호를 입력해주세요.\"\r\n        });\r\n        return openvalidationModal();\r\n      } else if (user.user_tel2.length < 3 || user.user_tel2.length > 4 || user.user_tel3.length < 3 || user.user_tel3.length > 4) {\r\n        userValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"올바른 전화번호를 입력해주세요.\"\r\n        });\r\n        return openvalidationModal();\r\n      } else if (user.user_email1 === \"\") {\r\n        userValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"이메일을 입력해주세요.\"\r\n        });\r\n        return openvalidationModal();\r\n      } else if (!regex.test(user.user_email1)) {\r\n        userValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"올바른 이메일을 입력해주세요.\"\r\n        });\r\n        return openvalidationModal();\r\n      }\r\n\r\n      if (userValidation) {          \r\n        const response = await createUser(user);\r\n        console.log(response.data);\r\n        if (response.data.result === \"notUnique\") {\r\n          setErrorMsg({\r\n            ...errorMsg,\r\n            content: \"이미 등록된 직원입니다.\",\r\n          });\r\n          return openvalidationModal();\r\n        } else {\r\n          setUser({\r\n            user_name: \"\",\r\n            user_authority: \"ROLE_DOCTOR\",\r\n            user_hospital_id: hospital_id,\r\n            user_ssn1: \"\",\r\n            user_ssn2: \"\",\r\n            user_sex: \"M\",\r\n            user_tel1: \"010\",\r\n            user_tel2: \"\",\r\n            user_tel3: \"\",\r\n            user_email1: \"\",\r\n            user_email2: \"naver.com\",\r\n            user_zipcode: \"\",\r\n            user_address: \"\",\r\n            user_detailaddress1: \"\",\r\n            user_detailaddress2: \"\",\r\n          });\r\n          setMasking(\"\");\r\n          ToastsStore.success(\"직원을 등록했습니다.\");\r\n          props.publishTopic(1);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  //---------------------------------------------------------------------------------------\r\n  // 주소 모달 상태(open일 떄 true로 바뀌어 열림)\r\n  const [addressModalOpen, setAddressModalOpen] = useState(false);\r\n\r\n  const openAddressModal = (event) => {\r\n    event.preventDefault();\r\n    setAddressModalOpen(true);\r\n  };\r\n  const closeAddressModal = () => {\r\n    setAddressModalOpen(false);\r\n  };\r\n  const sendModal = (data) => {\r\n    setAddressModalOpen(false);\r\n    setUser({\r\n      ...user,\r\n      user_zipcode: data.zonecode,\r\n      user_address: data.address,\r\n    });\r\n    if (data.buildingName === \"\") {\r\n      setUser((prevUser) => {\r\n        return {\r\n          ...prevUser,\r\n          user_detailaddress2: data.bname,\r\n        };\r\n      });\r\n    } else {\r\n      setUser((prevUser) => {\r\n        return {\r\n          ...prevUser,\r\n          user_detailaddress2: data.bname + \", \" + data.buildingName,\r\n        };\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-2\">\r\n      <div className=\"User_title\">\r\n        직원 등록\r\n      </div>\r\n      <div className=\"border p-2\">\r\n        <form onSubmit={handleCreate}>\r\n          <div className=\"User_item\">\r\n            <label className=\"col-sm-3 m-0\">직원명 * : </label>\r\n            <div className=\"col-sm\">\r\n              {/* <input type=\"text\" name=\"user_name\" placeholder=\"직원명\" value={user.user_name} onChange={handleChange} ref={register({ required: true, minLength: 2 })}></input> */}\r\n              <input type=\"text\" name=\"user_name\" placeholder=\"직원명\" value={user.user_name} onChange={handleChange}></input>\r\n              <React.Fragment>\r\n                <ValidationModal open={validationModalOpen} close={closeValidationModal} errorMsg={errorMsg}></ValidationModal>\r\n              </React.Fragment>\r\n            </div>\r\n          </div>\r\n          <div className=\"User_item\">\r\n            <label className=\"col-sm-3 m-0\">주민등록번호 * : </label>\r\n            <div className=\"row ml-3 mr-0\">\r\n              {/* <input type=\"text\" className=\"col-sm\" name=\"user_ssn1\" value={user.user_ssn1} placeholder=\"앞자리\" onChange={handleChange} ref={register({ required: true, minLength: 6, maxLength: 6 })}></input> */}\r\n              <input type=\"text\" className=\"col-sm\" name=\"user_ssn1\" value={user.user_ssn1} placeholder=\"앞자리\" onChange={handleChange}></input>\r\n              <div className=\"mr-2 ml-2 d-flex align-items-center\">-</div>\r\n              <input type=\"text\" className=\"col-sm\" name=\"user_ssn2\" value={masking} placeholder=\"뒷자리\" onChange={handleChangeSsn} \r\n                onBlur={() => {setMasking(masking?.replace(/(?<=.{1})./gi, \"*\"));}}></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"User_item\">\r\n            <label className=\"col-sm-3 m-0\">성별 * : </label>\r\n            <div className=\"col-sm d-flex align-items-center\">\r\n              <input type=\"radio\" name=\"user_sex\" value=\"M\" checked={user.user_sex === \"M\" ? true : false} onChange={handleChange}></input>\r\n              <label className=\"ml-3 mb-0\">남</label>\r\n            </div>\r\n            <div className=\"col-sm d-flex align-items-center\">\r\n              <input type=\"radio\" name=\"user_sex\" value=\"F\" checked={user.user_sex === \"F\" ? true : false} onChange={handleChange}></input>\r\n              <label className=\"ml-3 mb-0\">여</label>\r\n            </div>\r\n          </div>\r\n          <div className=\"User_item\">\r\n            <label className=\"col-sm-3 m-0\">직책 * :</label>\r\n            <div className=\"col-sm d-flex align-items-center\">\r\n              <input type=\"radio\" name=\"user_authority\" value=\"ROLE_DOCTOR\" checked={user.user_authority === \"ROLE_DOCTOR\" ? true : false} onChange={handleChange}></input>\r\n              <label className=\"ml-3 mb-0\">의사</label>\r\n            </div>\r\n            <div className=\"col-sm d-flex align-items-center\">\r\n              <input type=\"radio\" name=\"user_authority\" value=\"ROLE_NURSE\" checked={user.user_authority === \"ROLE_NURSE\" ? true : false} onChange={handleChange}></input>\r\n              <label className=\"ml-3 mb-0\">간호사</label>\r\n            </div>\r\n            <div className=\"col-sm-4 d-flex align-items-center\">\r\n              <input type=\"radio\" name=\"user_authority\" value=\"ROLE_INSPECTOR\" checked={user.user_authority === \"ROLE_INSPECTOR\" ? true : false} onChange={handleChange}></input>\r\n              <label className=\"ml-3 mb-0\">임상병리사</label>\r\n            </div>\r\n          </div>\r\n          <div className=\"User_item\">\r\n            <label className=\"col-sm-3 m-0 pr-0\">전화 번호 * : </label>\r\n            <div className=\"row col-sm mr-0\">\r\n              <select className=\"col-sm ml-3\" name=\"user_tel1\" value={user.user_tel1} onChange={handleChange}>\r\n                <option value=\"010\">010</option>\r\n                <option value=\"011\">011</option>\r\n                <option value=\"016\">016</option>\r\n                <option value=\"017\">017</option>\r\n                <option value=\"02\">02</option>\r\n                <option value=\"031\">031</option>\r\n                <option value=\"032\">032</option>\r\n                <option value=\"033\">033</option>\r\n                <option value=\"041\">041</option>\r\n                <option value=\"042\">042</option>\r\n                <option value=\"043\">043</option>\r\n                <option value=\"044\">044</option>\r\n                <option value=\"051\">051</option>\r\n                <option value=\"052\">052</option>\r\n                <option value=\"053\">053</option>\r\n                <option value=\"054\">054</option>\r\n                <option value=\"055\">055</option>\r\n                <option value=\"061\">061</option>\r\n                <option value=\"062\">062</option>\r\n                <option value=\"063\">063</option>\r\n                <option value=\"064\">064</option>\r\n              </select>\r\n              <div className=\"mr-2 ml-2 d-flex align-items-center\">-</div>\r\n              {/* <input type=\"text\" className=\"col-sm\" name=\"user_tel2\" value={user.user_tel2} onChange={handleChange} ref={register({ required: true, minLength: 3, maxLength: 4 })}></input> */}\r\n              <input type=\"text\" className=\"col-sm\" name=\"user_tel2\" value={user.user_tel2} onChange={handleChange}></input>\r\n              <div className=\"mr-2 ml-2 d-flex align-items-center\">-</div>\r\n              {/* <input type=\"text\" className=\"col-sm\" name=\"user_tel3\" value={user.user_tel3} onChange={handleChange} ref={register({ required: true, minLength: 3, maxLength: 4 })}></input> */}\r\n              <input type=\"text\" className=\"col-sm\" name=\"user_tel3\" value={user.user_tel3} onChange={handleChange}></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"User_item\">\r\n            <label className=\"col-sm-3 m-0\">이메일 * : </label>\r\n            <div className=\"row ml-3 mr-0\">\r\n              {/* <input type=\"text\" className=\"col-sm mr-1\" name=\"user_email1\" value={user.user_email1} placeholder=\"ABC1234\" onChange={handleChange}\r\n                ref={register({ required: true, pattern: /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z]).{2,}$/ })}></input> */}\r\n              <input type=\"text\" className=\"col-sm mr-1\" name=\"user_email1\" value={user.user_email1} placeholder=\"ABC1234\" onChange={handleChange}></input>\r\n              <div className=\"mr-1 d-flex align-items-center\">@</div>\r\n              <select className=\"col-sm\" name=\"user_email2\" onChange={handleChange} value={user.user_email2}>\r\n                <option value=\"naver.com\">naver.com</option>\r\n                <option value=\"gmail.com\">gmail.com</option>\r\n                <option value=\"kakao.com\">kakao.com</option>\r\n                <option value=\"daum.net\">daum.net</option>\r\n                <option value=\"nate.com\">nate.com</option>\r\n                <option value=\"yahoo.com\">yahoo.com</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"User_item\">\r\n            <label className=\"col-sm-3 m-0\">주소: </label>\r\n            <div className=\"col-sm\">\r\n              <div className=\"row mb-2 pr-0\">\r\n                <input type=\"text\" className=\"col-sm-5 ml-3\" name=\"user_zipcode\" value={user.user_zipcode} placeholder=\"우편번호\" onChange={handleChange} readOnly></input>\r\n                <React.Fragment>\r\n                  <button className=\"button_team2_empty\" onClick={openAddressModal}>\r\n                    우편번호 찾기\r\n                  </button>\r\n                  <Modal open={addressModalOpen} close={closeAddressModal} send={sendModal}></Modal>\r\n                </React.Fragment>\r\n              </div>\r\n              <input type=\"text\" className=\"col-sm mb-2\" name=\"user_address\" placeholder=\"주소\" value={user.user_address} onChange={handleChange} readOnly></input>\r\n              <div className=\"row no-gutters mb-2\">\r\n                <input type=\"text\" className=\"col-sm mr-2\" name=\"user_detailaddress1\" value={user.user_detailaddress1} placeholder=\"상세주소\" onChange={handleChange}></input>\r\n                <input type=\"text\" className=\"col-sm\" name=\"user_detailaddress2\" value={user.user_detailaddress2} placeholder=\"참고항목\" onChange={handleChange} readOnly></input>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex justify-content-end\">\r\n            <button className=\"button_team2_fill\" type=\"submit\">\r\n              등록\r\n            </button>\r\n            <ToastsContainer store={ToastsStore} position={ToastsContainerPosition.TOP_CENTER} lightBackground />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserCreateForm;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { AutoSizer, List } from \"react-virtualized\";\r\nimport { getAllUserList, getUserList } from \"apis/users\";\r\nimport moment from \"moment\";\r\nimport Spinner from \"components/common/Spinner\";\r\nimport Nodata from \"components/common/NoData\";\r\n\r\nfunction UserList(props) {\r\n  // 직원 목록 상태\r\n  const [users, setUsers] = useState([]);\r\n  // 직원 직책 수 상태\r\n  const [userCount, setUserCount] = useState([]);\r\n\r\n  // 직원 직책 카운트\r\n  function getUsersCount(userList) {\r\n    const userCount = [];\r\n    var count1 = 0;\r\n    var count2 = 0;\r\n    var count3 = 0;\r\n    var count4 = 0;\r\n    var count5 = 0;\r\n    var countAll = 0;\r\n    for (var i = 0; i < userList.length; i++) {\r\n      countAll++;\r\n      if(userList[i].user_authority === \"ROLE_DOCTOR\") {\r\n        count1++;\r\n      } else if(userList[i].user_authority === \"ROLE_NURSE\") {\r\n        count2++;\r\n      } else if(userList[i].user_authority === \"ROLE_INSPECTOR\") {\r\n        count3++;\r\n      } \r\n      \r\n      if (userList[i].user_enabled === 1) {\r\n        count4++;\r\n      } else if (userList[i].user_enabled === 0) {\r\n        count5++;\r\n      }\r\n    }\r\n    userCount.push(countAll);\r\n    userCount.push(count1);\r\n    userCount.push(count2);\r\n    userCount.push(count3);\r\n    userCount.push(count4);\r\n    userCount.push(count5);\r\n  \r\n    return userCount;\r\n  };\r\n\r\n  // 검색 상태\r\n  const [keyword, setKeyword] = useState(\"\");\r\n\r\n  // 직책 상태\r\n  const [condition, setCondition] = useState(\"all\");\r\n\r\n  // 직원 코드 비교를 위한 상태\r\n  const [id, setId] = useState(\"\");\r\n\r\n  // Spinner\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleChange = (event) => {\r\n    setKeyword(event.target.value);\r\n  };\r\n\r\n  // 검색\r\n  const handleSearch = async (event) => {\r\n    setLoading(true);\r\n    try {\r\n      event.preventDefault();\r\n      const response = await getUserList(keyword, condition);\r\n      // console.log(response.data.userList)\r\n      setUsers(response.data.userList);\r\n    } catch(error) {\r\n      console.log(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // 직원 선택 -> updateForm으로 데이터 보내기\r\n  const handleClick = (user) => {\r\n    setId(user.user_id);\r\n    props.changeUser(user);\r\n  };\r\n\r\n  // 직책 선택\r\n  const clickCondition = async (selectCondition) => {\r\n    setLoading(true);\r\n    try {\r\n      if (condition !== selectCondition) {\r\n        // console.log(selectCondition, \"선택\");\r\n        setCondition(selectCondition);\r\n        const response = await getUserList(keyword, selectCondition);\r\n        setUsers(response.data.userList);\r\n        // console.log(response.data);\r\n      } else {\r\n        setCondition(\"all\");\r\n        setKeyword(\"\");\r\n        const response = await getAllUserList();\r\n        setUsers(response.data.userList);\r\n        // console.log(response.data);\r\n      }            \r\n    } catch(error) {\r\n      console.log(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // 마운트 시 직원 목록 불러오기\r\n  useEffect(() => {\r\n    const work = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const response = await getAllUserList();\r\n        // console.log(response.data.userList)\r\n        setUsers(response.data.userList);\r\n        setUserCount(() => getUsersCount(response.data.userList));\r\n      } catch(error) {\r\n        console.log(error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    work();\r\n  }, []);\r\n\r\n  //----------------------------------------------------------------------------------------\r\n  // MQTT 메시지 받기\r\n  useEffect(() => {\r\n    // console.log(\"받습니다\", props.message);\r\n    const work = async () => {      \r\n      try {\r\n        const response = await getAllUserList();\r\n        // console.log(response.data.userList)\r\n        setUsers(response.data.userList);\r\n        setUserCount(() => getUsersCount(response.data.userList));\r\n        setLoading(true);\r\n      } catch(error) {\r\n        console.log(error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    work();\r\n  },[props.message])\r\n\r\n  // Autosizer\r\n  const rowRenderer = ({index, key, style}) => {\r\n    return (\r\n      <div className={users[index].user_enabled === 1 ? \"UserList_tr\" : \"UserList_tr_block\"} key={key} style={style} onClick={() => handleClick(users[index])}>\r\n        <div style={{width: \"3%\"}} key={users.user_id}><input type=\"checkbox\" width={50} checked={id === users[index].user_id? true : false} readOnly></input></div>\r\n        <div style={{width: \"11%\"}}>{users[index].user_id}</div>\r\n        <div style={{width: \"6%\"}}>{users[index].user_name}</div>\r\n        <div style={{width: \"9%\"}}>{users[index].user_authority === \"ROLE_DOCTOR\"? \"의사\" \r\n                                    : (users[index].user_authority === \"ROLE_NURSE\"? \"간호사\" : \"임상병리사\")}</div>\r\n        <div style={{width: \"8%\"}}>{users[index].user_ssn1}</div>\r\n        <div style={{width: \"4%\"}}>{users[index].user_sex === \"M\"? \"남\" : \"여\"}</div>\r\n        <div style={{width: \"12%\"}}>{users[index].user_tel1} - {users[index].user_tel2} - {users[index].user_tel3}</div>\r\n        <div style={{width: \"12%\"}}>{users[index].user_email1}@{users[index].user_email2}</div>\r\n        <div style={{width: \"34%\"}}>{users[index].user_address} {users[index].user_detailaddress1} {users[index].user_detailaddress2}</div>\r\n        <div style={{width: \"11%\"}}>{moment(users[index].user_regdate).format(\"yyyy-MM-DD\")}</div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"UserList\">\r\n      <div className=\"User_title\">직원 목록</div>\r\n      <div className=\"UserList_content border\">\r\n        <div className=\"mb-2 UserList_content1\">\r\n          <div className=\"UserList_content1_1\">\r\n            <input type=\"text\" className=\"col\" name=\"search\" value={keyword} placeholder=\"이름/생년월일을 입력하세요.\" onChange={handleChange}></input>\r\n            <button className=\"button_team2_fill\" onClick={handleSearch}>검색</button>\r\n          </div>\r\n          <div className=\"UserList_content1_2\">\r\n          <div className=\"pr-3\" onClick={() => clickCondition(\"all\")}>전체: {userCount[0]}명</div>\r\n            <div className=\"pr-3\" onClick={() => clickCondition(\"ROLE_DOCTOR\")}>의사: {userCount[1]}명</div>\r\n            <div className=\"pr-3\" onClick={() => clickCondition(\"ROLE_NURSE\")}>간호사: {userCount[2]}명</div>\r\n            <div className=\"pr-3\" onClick={() => clickCondition(\"ROLE_INSPECTOR\")}>임상병리사: {userCount[3]}명</div>\r\n            <div className=\"pr-3\" onClick={() => clickCondition(\"1\")}>활성화: {userCount[4]}명</div>\r\n            <div onClick={() => clickCondition(\"0\")}>비활성화: {userCount[5]}명</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"text-center\">\r\n            <div className=\"UserList_Table\">\r\n              <div style={{width: \"2%\"}}></div>\r\n              <div style={{width: \"11%\"}}>직원 코드</div>\r\n              <div style={{width: \"7%\"}}>직원명</div>\r\n              <div style={{width: \"10%\"}}>직책</div>\r\n              <div style={{width: \"7%\"}}>생년월일</div>\r\n              <div style={{width: \"5%\"}}>성별</div>\r\n              <div style={{width: \"13%\"}}>전화번호</div>\r\n              <div style={{width: \"13%\"}}>이메일</div>\r\n              <div style={{width: \"32%\"}}>주소</div>\r\n              <div style={{width: \"11%\"}}>등록일</div>\r\n            </div>\r\n          <div>\r\n            {loading ? <Spinner /> \r\n            : users.length === 0 ? \r\n              <React.Fragment>\r\n                <Nodata />\r\n              </React.Fragment>\r\n            :\r\n            <>\r\n              <AutoSizer disableHeight>\r\n                {({width, height}) => {\r\n                  return <List width={width} height={660} list={users} rowCount={users.length} rowHeight={44} rowRenderer={rowRenderer} overscanRowCount={5}></List>\r\n                }}\r\n              </AutoSizer>\r\n            </>}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserList;","import { Modal } from \"../../components/common/Address\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport \"./User.css\";\r\nimport { updateUser, updateUserEnabled } from \"apis/users\";\r\nimport moment from \"moment\";\r\nimport { ToastsContainer, ToastsContainerPosition, ToastsStore } from \"react-toasts\";\r\nimport { ValidationModal } from \"components/common/ValidationModal\";\r\n\r\nfunction UserUpdateForm(props) {\r\n  // 직원 상태\r\n  const [user, setUser] = useState({});\r\n  const [userId, setUserId] = useState(\"\");\r\n  \r\n  // 마스킹 상태\r\n  const [masking, setMasking] = useState(\"\");\r\n\r\n  //----------------------------------------------------------------------------------------\r\n  // validation 모달 상태(open일 떄 true로 바뀌어 열림)\r\n  const [validationModalOpen, setValidationModalOpen] = useState(false);\r\n  // 유효성 검사 오류 메시지\r\n  const [errorMsg, setErrorMsg] = useState({\r\n    title : \"직원정보 수정 실패\",\r\n    content: \"\"\r\n  });\r\n\r\n  const openvalidationModal = (event) => {\r\n    setValidationModalOpen(true);\r\n  };\r\n  const closeValidationModal = () => {\r\n    setValidationModalOpen(false);\r\n  };\r\n\r\n  //----------------------------------------------------------------------------------------\r\n  // 실행 함수\r\n  const handleChange = (event) => {\r\n    setUser({\r\n      ...user,\r\n      user_id: props.user.user_id,\r\n      [event.target.name]: event.target.value\r\n    });\r\n    if (event.target.name === \"user_ssn2\") {\r\n      setMasking(event.target.value);\r\n    }\r\n  };\r\n\r\n  const handleChangeSsn = (event) => {\r\n    setUser({\r\n      ...user,\r\n      user_ssn2 : event.target.value\r\n    });\r\n    setMasking(event.target.value);\r\n  };\r\n\r\n  // 직원 정보 수정\r\n  const handleUpdate = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      var userValidation = true;\r\n      var regex = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z]).{2,}$/;\r\n\r\n      if(user.user_name === \"\") {\r\n        userValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"직원명을 입력해주세요.\"\r\n        });\r\n        return openvalidationModal();\r\n      } else if (user.user_name.length < 2) {\r\n        userValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"올바른 직원명을 입력해주세요.\"\r\n        });\r\n        return openvalidationModal();\r\n      } else if (user.user_ssn1 === \"\" || user.user_ssn2 === \"\") {\r\n        userValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"주민등록번호를 입력해주세요.\"\r\n        });\r\n        return openvalidationModal();\r\n      } else if (user.user_ssn1.length !== 6 || user.user_ssn2.length !== 7) {\r\n        userValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"올바른 주민등록번호를 입력해주세요.\"\r\n        });\r\n        return openvalidationModal();\r\n      } else if (user.user_tel2 === \"\" || user.user_tel3 === \"\") {\r\n        userValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"전화번호를 입력해주세요.\"\r\n        });\r\n        return openvalidationModal();\r\n      } else if (user.user_tel2.length < 3 || user.user_tel2.length > 4 || user.user_tel3.length < 3 || user.user_tel3.length > 4) {\r\n        userValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"올바른 전화번호를 입력해주세요.\"\r\n        });\r\n        return openvalidationModal();\r\n      } else if (user.user_email1 === \"\") {\r\n        userValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"이메일을 입력해주세요.\"\r\n        });\r\n        return openvalidationModal();\r\n      } else if (!regex.test(user.user_email1)) {\r\n        userValidation = false;\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"올바른 이메일을 입력해주세요.\"\r\n        });\r\n        return openvalidationModal();\r\n      }\r\n\r\n      if (userValidation) {\r\n        const response = await updateUser(user);\r\n        if(response.data) {\r\n          ToastsStore.success(\"직원 정보를 수정했습니다.\");\r\n          props.publishTopic(0);\r\n        }\r\n      }      \r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }; \r\n\r\n  // 직원 활성화 OR 비활성화\r\n  const handleEnabled = async (event) => {\r\n    try {\r\n      await updateUserEnabled(user);\r\n      if (user.user_enabled === 1) {\r\n        ToastsStore.success(\"해당 직원을 비활성화했습니다.\");\r\n        props.publishTopic(2);\r\n      } else {\r\n        ToastsStore.success(\"해당 직원을 활성화했습니다.\");\r\n        props.publishTopic(3);\r\n      }      \r\n    } catch(error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  \r\n  //----------------------------------------------------------------------------------------\r\n  // 주소 모달 상태(open일 떄 true로 바뀌어 열림)\r\n  const [AddressModalOpen, setAddressModalOpen] = useState(false);\r\n\r\n  const openAddressModal = (event) => {\r\n    event.preventDefault();\r\n    setAddressModalOpen(true);\r\n  };\r\n  const closeAddressModal = () => {\r\n    setAddressModalOpen(false);\r\n  };\r\n  const sendModal = (data) => {\r\n    setAddressModalOpen(false);\r\n    setUser({\r\n      ...user,\r\n      user_zipcode: data.zonecode, \r\n      user_address: data.address\r\n    })\r\n    if (data.buildingName === \"\") {\r\n      setUser(prevUser => {\r\n        return {\r\n          ...prevUser,\r\n          user_detailaddress2: data.bname          \r\n        };\r\n      });\r\n    } else {\r\n      setUser(prevUser => {\r\n        return {\r\n          ...prevUser,\r\n          user_detailaddress2: data.bname + \", \" + data.buildingName   \r\n        };\r\n      });\r\n    }\r\n  };\r\n  \r\n  //----------------------------------------------------------------------------------------\r\n  // 마운트 시 실행\r\n  useEffect(() => {\r\n    setUser({\r\n      user_id: props.user.user_id,\r\n      user_name: props.user.user_name,\r\n      user_authority : props.user.user_authority,\r\n      user_ssn1: props.user.user_ssn1,\r\n      user_ssn2: props.user.user_ssn2,\r\n      user_sex: props.user.user_sex,\r\n      user_tel1: props.user.user_tel1,\r\n      user_tel2: props.user.user_tel2,\r\n      user_tel3: props.user.user_tel3,\r\n      user_email1: props.user.user_email1,\r\n      user_email2: props.user.user_email2,\r\n      user_zipcode: props.user.user_zipcode,\r\n      user_address: props.user.user_address,\r\n      user_detailaddress1: props.user.user_detailaddress1,\r\n      user_detailaddress2: props.user.user_detailaddress2,\r\n      user_regdate: props.user.user_regdate,\r\n      user_enabled: props.user.user_enabled\r\n    });    \r\n    setUserId(props.user.user_id);\r\n\r\n    if (props.user.user_ssn2) {        \r\n      let ssn2Masking = props.user.user_ssn2.slice(0, 1) + \"******\";\r\n      setMasking(ssn2Masking);\r\n    } \r\n  }, [props.user]);\r\n\r\n  useEffect(() => {\r\n    // console.log(\"받습니다\", props.message);\r\n    if(props.message.content === \"blockUser\") {\r\n      setUser({\r\n        ...user,\r\n        user_enabled: 0\r\n      });\r\n    } else if(props.message.content === \"allowUser\") {\r\n      setUser({\r\n        ...user,\r\n        user_enabled: 1\r\n      });\r\n    }\r\n  }, [props.message]);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"User_title\">직원 정보 수정</div>\r\n      <div className=\"border p-2\">\r\n      <form onSubmit={handleUpdate}>\r\n          <div className=\"User_item\">\r\n            <label className=\"col-sm-3 pl-3 p-0 m-0\">직원 코드: </label>\r\n            <div className=\"col-sm d-flex \">{user.user_id}</div>\r\n          </div>\r\n          <div className=\"User_item\">\r\n            <label className=\"col-sm-3 pl-3 p-0 m-0\">직원명 * : </label>\r\n            <div className=\"col-sm\">\r\n              <input type=\"text\" name=\"user_name\" value={user.user_name} placeholder=\"직원명\" onChange={handleChange}></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"User_item\">\r\n            <label className=\"col-sm-3 m-0\">주민등록번호 * : </label>\r\n            <div className=\"row ml-3 mr-0\">\r\n              <input type=\"text\" className=\"col-sm\" name=\"user_ssn1\" value={user.user_ssn1} placeholder=\"앞자리\" onChange={handleChange}></input>\r\n              <div className=\"mr-2 ml-2 d-flex align-items-center\">-</div>\r\n              <input type=\"text\" className=\"col-sm\" name=\"user_ssn2\" value={masking} placeholder=\"뒷자리\" \r\n                     onChange={handleChangeSsn} onBlur={() => {setMasking(masking?.replace(/(?<=.{1})./gi, '*'));}}></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"User_item\">\r\n            <label className=\"col-sm-3 pl-3 p-0 m-0\">성별 * : </label>\r\n            <div className=\"col-sm d-flex align-items-center\">\r\n              <input type=\"radio\" name=\"user_sex\" value=\"M\" checked={user.user_sex === \"M\"? true : false} onChange={handleChange}></input>\r\n              <label className=\"ml-3 mb-0\">남</label>\r\n            </div>\r\n            <div className=\"col-sm d-flex align-items-center\">\r\n              <input type=\"radio\" name=\"user_sex\" value=\"F\" checked={user.user_sex === \"F\"? true : false} onChange={handleChange}></input>\r\n              <label className=\"ml-3 mb-0\">여</label>\r\n            </div>\r\n          </div>\r\n          <div className=\"User_item\">\r\n            <label className=\"col-sm-3 pl-3 p-0 m-0\">직책 * : </label>\r\n            <div className=\"col-sm d-flex align-items-center\">\r\n              <input type=\"radio\" name=\"user_authority\" value=\"ROLE_DOCTOR\" checked={user.user_authority === \"ROLE_DOCTOR\"? true : false} onChange={handleChange}></input>\r\n              <label className=\"ml-3 mb-0\">의사</label>\r\n            </div>\r\n            <div className=\"col-sm d-flex align-items-center\">\r\n              <input type=\"radio\" name=\"user_authority\" value=\"ROLE_NURSE\" checked={user.user_authority === \"ROLE_NURSE\"? true : false} onChange={handleChange}></input>\r\n              <label className=\"ml-3 mb-0\">간호사</label>\r\n            </div>\r\n            <div className=\"col-sm-4 d-flex align-items-center\">\r\n              <input type=\"radio\" name=\"user_authority\" value=\"ROLE_INSPECTOR\" checked={user.user_authority === \"ROLE_INSPECTOR\"? true : false} onChange={handleChange}></input>\r\n              <label className=\"ml-3 mb-0\">임상병리사</label>\r\n            </div>\r\n          </div>\r\n          <div className=\"User_item\">\r\n            <label className=\"col-sm-3 m-0\">전화 번호 * : </label>\r\n            <div className=\"row col-sm mr-0\">\r\n              <select className=\"col-sm ml-3\" name=\"user_tel1\" value={user.user_tel1} onChange={handleChange}>\r\n                <option value=\"010\">010</option>\r\n                <option value=\"011\">011</option>\r\n                <option value=\"016\">016</option>\r\n                <option value=\"017\">017</option>\r\n                <option value=\"02\">02</option>\r\n                <option value=\"031\">031</option>\r\n                <option value=\"032\">032</option>\r\n                <option value=\"033\">033</option>\r\n                <option value=\"041\">041</option>\r\n                <option value=\"042\">042</option>\r\n                <option value=\"043\">043</option>\r\n                <option value=\"044\">044</option>\r\n                <option value=\"051\">051</option>\r\n                <option value=\"052\">052</option>\r\n                <option value=\"053\">053</option>\r\n                <option value=\"054\">054</option>\r\n                <option value=\"055\">055</option>\r\n                <option value=\"061\">061</option>\r\n                <option value=\"062\">062</option>\r\n                <option value=\"063\">063</option>\r\n                <option value=\"064\">064</option>\r\n              </select>\r\n              <div className=\"mr-2 ml-2 d-flex align-items-center\">-</div>\r\n              <input type=\"text\" className=\"col-sm\" name=\"user_tel2\" value={user.user_tel2} onChange={handleChange}></input>\r\n              <div className=\"mr-2 ml-2 d-flex align-items-center\">-</div>\r\n              <input type=\"text\" className=\"col-sm\" name=\"user_tel3\" value={user.user_tel3} onChange={handleChange}></input>\r\n            </div>\r\n          </div>\r\n          <div className=\"User_item\">\r\n            <label className=\"col-sm-3 m-0\">이메일 * : </label>\r\n            <div className=\"row ml-3 mr-0\">\r\n              {/* <input type=\"text\" className=\"col-sm mr-1\" name=\"user_email1\" value={user.user_email1} placeholder=\"ABC1234\" onChange={handleChange}\r\n                     ref={register({required: true, pattern: /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z]).{2,}$/})}></input> */}\r\n                     <input type=\"text\" className=\"col-sm mr-1\" name=\"user_email1\" value={user.user_email1} placeholder=\"ABC1234\" onChange={handleChange}></input>\r\n              <div className=\"mr-1 d-flex align-items-center\">@</div>\r\n              <select className=\"col-sm\" name=\"user_email2\" onChange={handleChange} value={user.user_email2}>\r\n                <option value=\"naver.com\">naver.com</option>\r\n                <option value=\"gmail.com\">gmail.com</option>\r\n                <option value=\"kakao.com\">kakao.com</option>\r\n                <option value=\"daum.net\">daum.net</option>\r\n                <option value=\"nate.com\">nate.com</option>\r\n                <option value=\"yahoo.com\">yahoo.com</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"User_item\">\r\n            <label className=\"col-sm-3 m-0\">주소 : </label>\r\n            <div className=\"col-sm\">\r\n              <div className=\"row mb-2\"> \r\n                <input type=\"text\" className=\"col-sm-5 ml-3\" name=\"user_zipcode\" value={user.user_zipcode} placeholder=\"우편번호\" readOnly></input>\r\n                <React.Fragment>\r\n                  <button className=\"button_team2_empty\" onClick={openAddressModal}>우편번호 찾기</button>\r\n                  <Modal open={AddressModalOpen} close={closeAddressModal} send={sendModal}></Modal>\r\n                </React.Fragment>   \r\n              </div>\r\n              <input type=\"text\" className=\"col-sm mb-2\" name=\"user_address\" value={user.user_address} placeholder=\"주소\" readOnly></input>\r\n              <div className=\"row no-gutters mb-2\">\r\n                <input type=\"text\" className=\"col-sm mr-2\" name=\"user_detailaddress1\" value={user.user_detailaddress1} placeholder=\"상세주소\" onChange={handleChange}></input>\r\n                <input type=\"text\" className=\"col-sm\" name=\"user_detailaddress2\" value={user.user_detailaddress2} placeholder=\"참고항목\" readOnly></input>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"User_item\">\r\n            <label className=\"col-sm-3 col-form-label pl-3 p-0\">등록 날짜: </label>\r\n            <div className=\"col-sm d-flex align-items-center\">{userId !== undefined? moment(user.user_regdate).format(\"yyyy-MM-DD\") : \"\"}</div>\r\n          </div>\r\n          {userId !== undefined?\r\n          <div className= \"d-flex justify-content-end\">\r\n            <button className=\"button_team2_fill\" type=\"submit\">수정</button>           \r\n            <div className=\"button_team2_empty\" onClick={handleEnabled}>{user.user_enabled === 0 ? \"활성화\" : \"비활성화\"}</div>\r\n            <ToastsContainer store={ToastsStore} position={ToastsContainerPosition.TOP_CENTER} lightBackground/> \r\n            <React.Fragment>\r\n              <ValidationModal open={validationModalOpen} close={closeValidationModal} errorMsg={errorMsg}></ValidationModal>\r\n            </React.Fragment>\r\n          </div> \r\n          :<div className= \"d-flex justify-content-end\" style={{\"visibility\":\"hidden\"}}><button className=\"button_team2_fill\">수정</button></div> \r\n          }\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserUpdateForm;","import { useEffect, useRef, useState } from \"react\";\r\nimport UserCreateForm from \"./UserCreateForm\";\r\nimport UserList from \"./UserList\";\r\nimport UserUpdateForm from \"./UserUpdateForm\";\r\nimport Paho from \"paho-mqtt\";\r\nimport { sendMqttMessage } from \"apis/mqtt\";\r\n\r\nfunction User(props) {\r\n  // 직원 상태\r\n  const [user, setUser] = useState({});\r\n\r\n  function changeUser(user) {\r\n    setUser({\r\n      user_id: user.user_id,\r\n      user_name: user.user_name,\r\n      user_authority: user.user_authority,\r\n      user_ssn1: user.user_ssn1,\r\n      user_ssn2: user.user_ssn2,\r\n      user_sex: user.user_sex,\r\n      user_tel1: user.user_tel1,\r\n      user_tel2: user.user_tel2,\r\n      user_tel3: user.user_tel3,\r\n      user_email1: user.user_email1,\r\n      user_email2: user.user_email2,\r\n      user_zipcode: user.user_zipcode,\r\n      user_address: user.user_address,\r\n      user_detailaddress1: user.user_detailaddress1,\r\n      user_detailaddress2: user.user_detailaddress2,\r\n      user_regdate: user.user_regdate,\r\n      user_enabled: user.user_enabled\r\n    });\r\n  };\r\n  \r\n  // MQTT\r\n  const [subTopic, setSubTopic] = useState(\"/138010/master\");\r\n  const pubMessage = [\r\n    {\r\n    topic: \"/138010/master\",\r\n    content: \"updateUser\"\r\n    }, \r\n    {\r\n      topic: \"/138010/master\",\r\n      content: \"addUser\"\r\n    },\r\n    {\r\n      topic: \"/138010/master\",\r\n      content: \"blockUser\"\r\n    },\r\n    {\r\n      topic: \"/138010/master\",\r\n      content: \"allowUser\"\r\n    }\r\n  ]\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  let client = useRef(null);\r\n\r\n  const connectMqttBroker = () => {\r\n    // Paho.Mqtt.Client x\r\n    client.current = new Paho.Client(\"kosa3.iptime.org\", 50012, \"client-\" + new Date().getTime());\r\n    //client.current = new Paho.Client(\"localhost\", 61614, \"client-\" + new Date().getTime());\r\n\r\n    client.current.onConnectionLost = () => {\r\n      console.log(\"Mqtt 접속 끊김\");\r\n    };\r\n\r\n    client.current.onMessageArrived = (msg) => {\r\n      console.log(\"메시지 수신\");\r\n      var Jmessage = JSON.parse(msg.payloadString);\r\n      setMessage(() => {\r\n        return Jmessage;\r\n      });\r\n    };\r\n\r\n    client.current.connect({\r\n      onSuccess: () => {\r\n        client.current.subscribe(subTopic);\r\n        console.log(\"Mqtt 접속 성공\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const disconnectMqttBroker = () => {\r\n    client.current.disconnect(); // onConnectionLost 실행됨\r\n  };\r\n\r\n  const publishTopic = async (num) => {\r\n    await sendMqttMessage(pubMessage[num]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    connectMqttBroker();\r\n    console.log(\"MESSAGE: \", message);\r\n  });\r\n\r\n  return (\r\n    <div className=\"User\">\r\n      {/* 좌측 */}\r\n      <div className=\"User_left\">\r\n        {/* 직원 목록 */}\r\n        <UserList user={user} changeUser={changeUser} message={message}/>\r\n      </div>\r\n\r\n      {/* 우측 */}\r\n      <div className=\"User_right\">\r\n        <div>\r\n          {/* 직원 정보 수정 */}\r\n          <UserUpdateForm user={user} publishTopic={publishTopic} message={message}/>\r\n        </div>\r\n        <div>\r\n          {/* 직원 등록 */}\r\n          <UserCreateForm publishTopic={publishTopic}/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default User;","import { FcInfo } from \"react-icons/fc\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Page404(props) {\r\n  const history = useHistory();\r\n\r\n  const handleGoback = () => {\r\n    history.goBack();\r\n  };\r\n\r\n  return (\r\n    <div className=\"text-center\" style={{fontSize: \"1.8rem\", height: \"100%\", marginTop: \"15%\"}}>\r\n      <div><FcInfo/> 잘못된 경로의 페이지 입니다.</div>\r\n      <button className=\"button_team2_fill mt-4\" onClick={handleGoback}>뒤로가기</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Page404;","import { FcInfo } from \"react-icons/fc\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Page403(props) {\r\n  const history = useHistory();\r\n\r\n  const handleGoback = () => {\r\n    history.goBack();\r\n  };\r\n\r\n  return (\r\n    <div className=\"text-center\" style={{fontSize: \"1.8rem\", height: \"100%\", marginTop: \"15%\"}}>\r\n      <div><FcInfo/> 접근 제한된 페이지 입니다.</div>\r\n      <button className=\"button_team2_fill mt-4\" onClick={handleGoback}>뒤로 가기</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Page403;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport Page403 from \"views/errors/Page403\";\r\n\r\nfunction DoctorRoute({ role, component: Component, render, ...rest }) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => {\r\n        // 권한 체크\r\n        if (role === \"ROLE_NURSE\" || role === \"ROLE_DOCTOR\" || role === \"ROLE_MASTER\") {\r\n          return <Component {...props} role={role} />\r\n        }\r\n        else{\r\n          return <Page403 />\r\n        }\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default DoctorRoute;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport Page403 from \"views/errors/Page403\";\r\n\r\nfunction DoctorRoute({ role, component: Component, render, ...rest }) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => {\r\n        // 권한 체크\r\n        if (role === \"ROLE_DOCTOR\" || role === \"ROLE_MASTER\") {\r\n          return <Component {...props} role={role} />\r\n        }\r\n        else{\r\n          return <Page403 />\r\n        }\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default DoctorRoute;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport Page403 from \"views/errors/Page403\";\r\n\r\nfunction InspectorRoute({ role, component: Component, render, ...rest }) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => {\r\n        // 권한 체크\r\n        if (role === \"ROLE_INSPECTOR\" || role === \"ROLE_MASTER\") {\r\n          return <Component {...props} role={role} />\r\n        }\r\n        else{\r\n          return <Page403 />\r\n        }\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default InspectorRoute;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport Page403 from \"views/errors/Page403\";\r\n\r\nfunction MasterRoute({ role, component: Component, render, ...rest }) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => {\r\n        // 권한 체크\r\n        if (role === \"ROLE_MASTER\") {\r\n          return <Component {...props} role={role} />\r\n        }\r\n        else{\r\n          return <Page403 />\r\n        }\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default MasterRoute;","import { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport Patient from \"views/Patient\";\r\nimport Register from \"views/Register\";\r\nimport Treatment from \"views/Treatment\";\r\nimport Inspection from \"views/Inspection\";\r\nimport Login from \"views/Login\";\r\nimport DataAnalysis from \"views/DataAnalysis\";\r\nimport User from \"views/User\";\r\nimport Page404 from \"views/errors/Page404\";\r\nimport NurseRoute from \"components/common/CustomeRoute/NurseRoute\";\r\nimport DoctorRoute from \"components/common/CustomeRoute/DoctorRoute\";\r\nimport InspectorRoute from \"components/common/CustomeRoute/InspectorRoute\";\r\nimport MasterRoute from \"components/common/CustomeRoute/MasterRoute\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nfunction AppRoute() {\r\n    const Uauthority = useSelector((state) => state.authReducer.uauthority);\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/\" exact component={Login} />\r\n            <NurseRoute\r\n                path=\"/Patient\"\r\n                component={Patient}\r\n                role={Uauthority}\r\n            />\r\n            <NurseRoute\r\n                path=\"/Register\"\r\n                component={Register}\r\n                role={Uauthority}\r\n            />\r\n            <DoctorRoute\r\n                path=\"/Treatment\"\r\n                component={Treatment}\r\n                role={Uauthority}\r\n            />\r\n            <InspectorRoute\r\n                path=\"/Inspection\"\r\n                component={Inspection}\r\n                role={Uauthority}\r\n            />\r\n            <MasterRoute\r\n                path=\"/DataAnalysis\"\r\n                component={DataAnalysis}\r\n                role={Uauthority}\r\n            />\r\n            <MasterRoute\r\n                path=\"/User\"\r\n                component={User}\r\n                role={Uauthority}\r\n            />\r\n            <Route component={Page404} />\r\n        </Switch>\r\n    );\r\n}\r\nexport default AppRoute;","import { Modal } from \"../../components/common/Address\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport style from \"./style.module.css\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { get, useForm } from \"react-hook-form\";\r\nimport { getUser, updateUserInfo } from \"apis/auth\";\r\nimport { ToastsContainer, ToastsContainerPosition, ToastsStore } from \"react-toasts\";\r\nimport { ValidationModal } from \"components/common/ValidationModal\";\r\n\r\nfunction Auth(props) {\r\n  const { openModal, closeModal } = props;\r\n  const globalUid = useSelector((state) => state.authReducer.uid);\r\n\r\n  // 회원 상태\r\n  const [user, setUser] = useState({});\r\n  \r\n  //---------------------------------------------------------------------------------------  \r\n  // 유효성 검사를 위한 함수 사용\r\n  const { handleSubmit, register, errors } = useForm({ mode: \"onChange\" });\r\n  // validation 모달 상태(open일 떄 true로 바뀌어 열림)\r\n  const [validationModalOpen, setValidationModalOpen] = useState(false);\r\n  // 유효성 검사 오류 메시지\r\n  const [errorMsg, setErrorMsg] = useState({\r\n    title : \"회원정보 수정 실패\",\r\n    content: \"\"\r\n  });\r\n\r\n  const openValidationModal = (event) => {\r\n    setValidationModalOpen(true);\r\n  };\r\n  const closeValidationModal = () => {\r\n    setValidationModalOpen(false);\r\n  };\r\n  \r\n  //---------------------------------------------------------------------------------------\r\n\r\n  const handleChange = (event) => {\r\n    setUser({\r\n      ...user,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  };\r\n\r\n  // 회원정보 수정\r\n  const handleUpdate = async (event) => {\r\n    try {      \r\n      if (user.old_password !== \"\" && user.old_password === user.new_password) {\r\n        openValidationModal();\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"이전 비밀번호와 동일합니다.\"\r\n        });  \r\n      } else if (user.new_password !== \"\" && user.new_password === user.re_password) {\r\n        const response = await updateUserInfo(user);\r\n        if (response.data === \"success\") {\r\n          ToastsStore.success(\"회원 정보가 수정되었습니다.\");\r\n          setUser({\r\n            ...user,\r\n            old_password: \"\",\r\n            new_password: \"\",\r\n            re_password: \"\",\r\n          });\r\n          closeModal();\r\n        } else {\r\n          openValidationModal();\r\n          setErrorMsg({\r\n            ...errorMsg,\r\n            content: \"기존 비밀번호가 맞지 않습니다.\"\r\n          });\r\n        }        \r\n      } else if (user.old_password !== \"\") {\r\n        openValidationModal();\r\n        setErrorMsg({\r\n          ...errorMsg,\r\n          content: \"비밀번호가 동일하지 않습니다.\"\r\n        });\r\n      }\r\n    } catch(error) {\r\n      console.log(error);\r\n    }    \r\n  };\r\n\r\n  // 마운트 시 user 설정\r\n  useEffect(() => {\r\n    const work = async () => {\r\n      try {\r\n        const response = await getUser(globalUid);\r\n        setUser(response.data);\r\n      } catch(error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    work()\r\n  }, []);\r\n\r\n  //---------------------------------------------------------------------------------------\r\n  // 주소 모달 상태(open일 떄 true로 바뀌어 열림)\r\n  const [addressModalOpen, setAddressModalOpen] = useState(false);\r\n\r\n  const openAddressModal = () => {\r\n    setAddressModalOpen(true); \r\n  };\r\n  const closeAddressModal = () => {\r\n    setAddressModalOpen(false);\r\n  };\r\n  const sendModal = (data) => {\r\n    setAddressModalOpen(false);\r\n    setUser({\r\n      ...user,\r\n      user_zipcode: data.zonecode,\r\n      user_Address: data.address,\r\n    });\r\n    if (data.buildingName === \"\") {\r\n      setUser((prevUser) => {\r\n        return {\r\n          ...prevUser,\r\n          user_detailaddress2: data.bname,\r\n        };\r\n      });\r\n    } else {\r\n      setUser((prevUser) => {\r\n        return {\r\n          ...prevUser,\r\n          user_detailaddress2: data.bname + \", \" + data.buildingName,\r\n        };\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`${style.Auth}`}>\r\n      <div className={openModal ? `${style.openModal} ${style.modal}` : `${style.modal}`}>\r\n        {openModal ? (\r\n          <section>\r\n            <div className={`${style.Auth_header}`}>\r\n              <div>회원정보 수정</div>\r\n              <button className=\"close\" onClick={closeModal}>\r\n                {\" \"}\r\n                &times;{\" \"}\r\n              </button>\r\n            </div>\r\n            <main>\r\n              <div className={`d-flex justify-content-center`}>\r\n                <div className={`${style.Auth_box}`}>\r\n                  <form onSubmit={handleSubmit(handleUpdate)}>\r\n                    <div className={`${style.Auth_content}`}>\r\n                      <label className=\"col-sm-4 m-0\">회원 코드: </label>\r\n                      <div className=\"col-sm\">{user.user_id}</div>\r\n                    </div>\r\n                    <div className={`${style.Auth_content}`}>\r\n                      <label className=\"col-sm-4 m-0\">회원 이름: </label>\r\n                      <div className=\"col-sm\">{user.user_name}</div>\r\n                    </div>\r\n                    <div className={`${style.Auth_content}`}>\r\n                      <label className=\"col-sm-4 m-0\">직급: </label>\r\n                      <div className=\"col-sm\">{user.user_authority === \"ROLE_DOCTOR\"? \"의사\" \r\n                                              : (user.user_authority === \"ROLE_NURSE\"? \"간호사\"\r\n                                              : (user.user_authority === \"ROLE_INSPECTOR\" ? \"임상병리사\": \"의사\"))}\r\n                      </div>\r\n                    </div>\r\n                    <div className={`${style.Auth_content}`}>\r\n                      <label className=\"col-sm-4 m-0\">생년월일: </label>\r\n                      <div className=\"col-sm\">{user.user_ssn1}</div>\r\n                    </div>\r\n                    <div className={`${style.Auth_content}`}>\r\n                      <label className=\"col-sm-4 m-0\">성별: </label>\r\n                      <div className=\"col-sm\">{user.user_sex === \"M\" ? \"남\" : \"여\"}</div>\r\n                    </div>\r\n                    <div className={`${style.Auth_content}`}>\r\n                      <label className=\"col-sm-4 m-0 pb-3\">전화 번호: </label>\r\n                      <div>\r\n                        <div className=\"row col-sm\">\r\n                          <select className=\"col-sm-3\" name=\"user_tel1\" value={user.user_tel1} onChange={handleChange}>\r\n                            <option value=\"010\">010</option>\r\n                            <option value=\"011\">011</option>\r\n                            <option value=\"016\">016</option>\r\n                            <option value=\"017\">017</option>\r\n                            <option value=\"02\">02</option>\r\n                            <option value=\"031\">031</option>\r\n                            <option value=\"032\">032</option>\r\n                            <option value=\"033\">033</option>\r\n                            <option value=\"041\">041</option>\r\n                            <option value=\"042\">042</option>\r\n                            <option value=\"043\">043</option>\r\n                            <option value=\"044\">044</option>\r\n                            <option value=\"051\">051</option>\r\n                            <option value=\"052\">052</option>\r\n                            <option value=\"053\">053</option>\r\n                            <option value=\"054\">054</option>\r\n                            <option value=\"055\">055</option>\r\n                            <option value=\"061\">061</option>\r\n                            <option value=\"062\">062</option>\r\n                            <option value=\"063\">063</option>\r\n                            <option value=\"064\">064</option>\r\n                          </select>\r\n                          <div className=\"mr-2 ml-2 d-flex align-items-center\">-</div>\r\n                          <input type=\"text\" className=\"col-sm-3\" name=\"user_tel2\" value={user.user_tel2} ref={register({required: true, minLength:3, maxLength:4})} onChange={handleChange}></input>\r\n                          <div className=\"mr-2 ml-2 d-flex align-items-center\">-</div>\r\n                          <input type=\"text\" className=\"col-sm-3\" name=\"user_tel3\" value={user.user_tel3} ref={register({required: true, minLength:3, maxLength:4})} onChange={handleChange}></input>\r\n                        </div>\r\n                        <div className={(errors.user_tel2 || errors.user_tel3)? `${style.Auth_error}` : `${style.Auth_noterror}`}>\r\n                          {(errors.user_tel2 || errors.user_tel3)?.type === \"required\" ? \"전화번호를 입력해주세요.\" \r\n                          :\r\n                          (errors.user_tel2 || errors.user_tel3)?.type === \"minLength\" ? \"3자리 이상 작성해주세요.\" \r\n                          :\r\n                          \"4자리 이하 작성해주세요.\"\r\n                          }\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className={`${style.Auth_content}`}>\r\n                      <label className=\"col-sm-4 m-0 pb-3\">이메일: </label>\r\n                      <div>\r\n                        <div className=\"row col-sm p-0 m-0\">\r\n                          <input type=\"text\" className=\"col-sm mr-1\" name=\"user_email1\" value={user.user_email1} placeholder=\"ABC1234\" onChange={handleChange} \r\n                                  ref={register({required: true, pattern: /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z]).{2,}$/})}></input>\r\n                          <div className=\"mr-1 d-flex align-items-center\">@</div>\r\n                          {/* <input type=\"text\" className=\"col-sm mr-1\" name=\"user_email2\" value={user.user_email2} onChange={handleChange} \r\n                                  ref={register({required: true, pattern: /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z].{2,}$/})} disabled={email}></input> */}\r\n                          <select className=\"col-sm\" name=\"user_email2\" onChange={handleChange} value={user.user_email2}>\r\n                            <option value=\"naver.com\">naver.com</option>\r\n                            <option value=\"gmail.com\">gmail.com</option>\r\n                            <option value=\"kakao.com\">kakao.com</option>\r\n                            <option value=\"daum.net\">daum.net</option>\r\n                            <option value=\"nate.com\">nate.com</option>\r\n                            <option value=\"yahoo.com\">yahoo.com</option>\r\n                          </select>    \r\n                        </div>                 \r\n                        <div className={errors.user_email1? `${style.Auth_error}` : `${style.Auth_noterror}`}>\r\n                          {(errors.user_email1)?.type === \"pattern\" ? \"올바른 형식으로 입력해주세요.\" \r\n                          :  \r\n                          \"이메일를 입력해주세요.\"\r\n                          }\r\n                        </div>             \r\n                      </div>\r\n                    </div>\r\n                    <div className={`${style.Auth_content}`}>\r\n                      <label className=\"col-sm-4 m-0\">주소: </label>\r\n                      <div className=\"col-sm\">\r\n                        <div className=\"row mb-2\">\r\n                          <input type=\"text\" className=\"col-sm-6\" name=\"user_zipcode\" value={user.user_zipcode} placeholder=\"우편번호\" readOnly></input>\r\n                          <React.Fragment>\r\n                            <button className=\"button_team2_empty\" onClick={openAddressModal}>우편번호 찾기</button>\r\n                            <Modal open={addressModalOpen} close={closeAddressModal} send={sendModal}></Modal>\r\n                          </React.Fragment>\r\n                        </div>\r\n                        <div className=\"row mb-2\"><input type=\"text\" className=\"col-sm\" name=\"user_address\" value={user.user_address} placeholder=\"주소\" readOnly></input></div>\r\n                        <div className=\"row mb-2\">\r\n                          <input type=\"text\" className=\"col-sm mr-2\" name=\"user_detailaddress1\" value={user.user_detailaddress1} placeholder=\"상세주소\" onChange={handleChange}></input>\r\n                          <input type=\"text\" className=\"col-sm\" name=\"user_detailaddress2\" value={user.user_detailaddress2} placeholder=\"참고항목\" readOnly></input>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className={`${style.Auth_content}`}>\r\n                      <label className=\"col-sm-4 m-0 pb-3\">기존 비밀번호: </label>\r\n                      <div className=\"col-sm-8 p-0\">\r\n                        <input type=\"password\" className={`col-sm ${style.Auth_password}`} name=\"old_password\" ref={register({required: true})} onChange={handleChange}></input>\r\n                        <div className={errors.old_password? `${style.Auth_error}` : `${style.Auth_noterror}`}>비밀번호롤 입력하세요.</div>\r\n                      </div>\r\n                    </div>\r\n                    <div className={`${style.Auth_content}`}>\r\n                      <label className=\"col-sm-4 m-0 pb-3\">새로운 비밀번호: </label>\r\n                      <div className=\"col-sm-8 p-0\">\r\n                        <input type=\"password\" className={`col-sm ${style.Auth_password}`} name=\"new_password\" onChange={handleChange}\r\n                                ref={register({required: true,  minLength: 8, maxLength: 16, pattern: /^(?=.*[a-zA-z])(?=.*[0-9])(?=.*[$`~!@$!%*#^?&\\\\(\\\\)\\-_=+])(?!.*[^a-zA-z0-9$`~!@$!%*#^?&\\\\(\\\\)\\-_=+]).{8,16}$/})}></input>\r\n                        <div className={errors.new_password? `${style.Auth_error}` : `${style.Auth_noterror}`}>\r\n                          {(errors.new_password)?.type === \"required\" ? \"비밀번호롤 입력하세요.\"\r\n                           : \r\n                           (errors.new_password)?.type === \"minLength\" ? \"8자리 이상 작성해주세요.\" \r\n                           : \r\n                           (errors.new_password)?.type === \"maxLength\" ? \"16자리 이하로 작성해주세요.\" : \"숫자, 영문, 특수문자 1개 이상 사용해주세요.\"}\r\n                          </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className={`${style.Auth_content}`}>\r\n                      <label className=\"col-sm-4 m-0 pb-3\">비밀번호 재입력: </label>\r\n                      <div className=\"col-sm-8 p-0\">\r\n                        <input type=\"password\" className={`col-sm ${style.Auth_password}`} name=\"re_password\" onChange={handleChange}\r\n                                ref={register({required: true,  minLength: 8, maxLength: 16, pattern: /^(?=.*[a-zA-z])(?=.*[0-9])(?=.*[$`~!@$!%*#^?&\\\\(\\\\)\\-_=+])(?!.*[^a-zA-z0-9$`~!@$!%*#^?&\\\\(\\\\)\\-_=+]).{8,16}$/})}></input>\r\n                        <div className={errors.re_password? `${style.Auth_error}` : `${style.Auth_noterror}`}>\r\n                          {(errors.re_password)?.type === \"required\" ? \"비밀번호롤 입력하세요.\"\r\n                           : \r\n                           (errors.re_password)?.type === \"minLength\" ? \"8자리 이상 작성해주세요.\" \r\n                           : \r\n                           (errors.re_password)?.type === \"maxLength\" ? \"16자리 이하로 작성해주세요.\" \r\n                           : \r\n                           \"숫자, 영문, 특수문자 1개 이상 사용해주세요.\"}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-center\">\r\n                      <button className={`button_team2_fill`} type=\"submit\">수정</button>  \r\n                      <ToastsContainer store={ToastsStore} position={ToastsContainerPosition.TOP_CENTER} lightBackground/>        \r\n                      <React.Fragment>\r\n                        <ValidationModal open={validationModalOpen} close={closeValidationModal} errorMsg={errorMsg}></ValidationModal>\r\n                      </React.Fragment>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </main>\r\n          </section>\r\n        ) : null}\r\n      </div>\r\n    </div>   \r\n  );\r\n}\r\n\r\nexport default Auth;","import React, { Component, useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport style from \"./WeatherAPI.module.css\";\r\n\r\nconst API_KEY = \"722e5a754ab41987e87ad60035c356f2\";\r\n\r\nfunction WeatherAPI(props) {\r\n  const { hlat, hlong } = props;\r\n  const [hospitalTemp, setHospitalTemp] = useState();\r\n  const [imgUrl, setImgUrl] = useState(\"resources/img/sun.png\");\r\n\r\n  const getWeatherData = (lat, long) => {\r\n    const options = {\r\n      timeout: 10000,\r\n      enableHighAccuracy: true,\r\n      maximumAge: 0\r\n    };\r\n    if ((hlat != null) || (hlong != null)) {\r\n      lat = hlat;\r\n      long = hlong;\r\n      if ((lat !== null) && (long !== null)) {\r\n        fetch(`http://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${long}&APPID=${API_KEY}`)\r\n          .then(response => response.json())\r\n          .then(json => {\r\n            setHospitalTemp(Math.floor(json.main.temp - 273.15));\r\n            setImgUrl(`http://openweathermap.org/img/w/${json.weather[0].icon}.png`);\r\n          })\r\n          .catch(error => {\r\n            console.log('Error', error);\r\n          });\r\n      }\r\n    }\r\n    else {\r\n      if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition((position) => {\r\n          lat = position.coords.latitude;\r\n          long = position.coords.longitude;\r\n          if ((lat !== null) && (long !== null)) {\r\n            fetch(`http://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${long}&APPID=${API_KEY}`)\r\n              .then(response => response.json())\r\n              .then(json => {\r\n                setHospitalTemp(Math.floor(json.main.temp - 273.15));\r\n                setImgUrl(`http://openweathermap.org/img/w/${json.weather[0].icon}.png`);\r\n              })\r\n              .catch(error => {\r\n                console.log('Error', error);\r\n              });\r\n          }\r\n        }, (error) => {\r\n          console.log(error)\r\n        }, options);\r\n      }\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    getWeatherData(hlat, hlong);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getWeatherData(hlat, hlong);\r\n  }, [hlat, hlong]);\r\n\r\n  return (\r\n    <div className={style.WeatherAPI_items}>\r\n      <div className={style.WeatherAPI_item}>\r\n        <img alt=\"weather_icon\" src={imgUrl} width=\"40px\" />\r\n      </div>\r\n      <div className={style.WeatherAPI_item}>\r\n        온도 : {hospitalTemp}°C\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default WeatherAPI;","import { removeAuthHeader } from \"apis/axiosConfig\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createSetAuthTokenAction, createSetUidAction, cresteSetUauthorityAction } from \"redux/auth-reducer\";\r\nimport React, { useState } from \"react\";\r\nimport Auth from \"./views/Auth\";\r\nimport { RiCalendarCheckLine, RiStethoscopeFill, RiTestTubeFill } from \"react-icons/ri\";\r\nimport { IoBarChart } from \"react-icons/io5\";\r\nimport WeatherAPI from \"components/common/WeatherAPI\";\r\nimport { createSetHaddressAction, createSetHidAction, createSetHLATAction, createSetHLONGAction, createSetHnameAction, createSetHurlAction } from \"redux/hospital-reducer\";\r\n\r\nfunction Header(props) {  \r\n  const globalUid = useSelector((state) => state.authReducer.uid);\r\n  const hname = useSelector((state) => state.hospitalReducer.hname);\r\n  const hospital_url = useSelector((state) => state.hospitalReducer.hurl);\r\n  const hlat = useSelector((state) => state.hospitalReducer.hlat);\r\n  const hlong = useSelector((state) => state.hospitalReducer.hlong);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const logout = (event) => {\r\n    dispatch(createSetUidAction(\"\"));\r\n    dispatch(createSetAuthTokenAction(\"\"));\r\n    dispatch(cresteSetUauthorityAction(\"\"));\r\n    dispatch(createSetHnameAction(\"\"));\r\n    dispatch(createSetHidAction(\"\"));\r\n    dispatch(createSetHaddressAction(\"\"));\r\n    dispatch(createSetHurlAction(\"\"));\r\n    dispatch(createSetHLATAction(\"\"));\r\n    dispatch(createSetHLONGAction(\"\"));\r\n    removeAuthHeader();\r\n    \r\n    // SessionStorage에 인증 내용 제거\r\n    sessionStorage.removeItem(\"uid\");\r\n    sessionStorage.removeItem(\"authToken\");\r\n    sessionStorage.removeItem(\"uauthority\");\r\n    sessionStorage.removeItem(\"hname\");\r\n    sessionStorage.removeItem(\"hid\");\r\n    sessionStorage.removeItem(\"haddress\");\r\n    sessionStorage.removeItem(\"hurl\");\r\n    sessionStorage.removeItem(\"hlat\");\r\n    sessionStorage.removeItem(\"hlong\");\r\n  };\r\n\r\n  //---------------------------------------------------------------------------------------\r\n  // 모달 상태(open일 떄 true로 바뀌어 열림)\r\n  const [authModalOpen, setAuthModalOpen] = useState(false);\r\n\r\n  const openAuthModal = () => {\r\n    setAuthModalOpen(true);\r\n  };\r\n  const closeAuthModal = () => {\r\n    setAuthModalOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"header1\">\r\n        <div className=\"header1_1\">\r\n          <span className=\"logo\">TEAM2<img className=\"ml-1\" src=\"/resources/img/logo_white_bold.png\" alt=\"\" width={30}></img></span>\r\n        </div>\r\n        <div className=\"header1_2\">\r\n          <WeatherAPI hlat={hlat} hlong={hlong}/>\r\n        </div>\r\n        <div className=\"header1_3\">\r\n          {globalUid !== \"\"?\r\n            <div className=\"header1_3_1\">\r\n              <div>\r\n                <a className=\"header_url\" href={hospital_url} target=\"_blank\" rel=\"noreferrer\">{hname}</a>\r\n              </div>\r\n              <div className=\"header_auth\" >         \r\n                <React.Fragment>\r\n                  <span onClick={openAuthModal}>\r\n                  {globalUid} 님\r\n                  </span>\r\n                  <Auth openModal={authModalOpen} closeModal={closeAuthModal}></Auth>\r\n                </React.Fragment>\r\n              </div>\r\n              <div><Link to=\"/\"><button className=\"button_team2_empty\" onClick={logout}>LOGOUT</button></Link></div>\r\n            </div>\r\n          :\r\n            <div className=\"d-flex justify-content-end\"><Link to=\"/\" className=\"button_team2_empty\">LOGIN</Link></div>\r\n          }\r\n        </div>\r\n      </div>\r\n      {globalUid === \"\"? \"\":\r\n        <div className=\"header2 row no-gutters\">\r\n          <div className=\"col-4 row d-flex justify-content-between ml-1\">\r\n            <div><Link to=\"/Register\" className=\"link_team2\"><RiCalendarCheckLine className=\"mr-1\"/>접수</Link></div>\r\n            <div><Link to=\"/Treatment\" className=\"link_team2\"><RiStethoscopeFill className=\"mr-1\"/>진료</Link></div>\r\n            <div><Link to=\"/Inspection\" className=\"link_team2\"><RiTestTubeFill className=\"mr-1\"/>검사 및 치료</Link></div>\r\n            <div><Link to=\"/DataAnalysis\" className=\"link_team2\"><IoBarChart className=\"mr-1\"/>데이터분석</Link></div>\r\n          </div>\r\n          <div className=\"col-7\"></div>\r\n          <div className=\"col-1 row d-flex justify-content-end\">\r\n            <div><Link to=\"/User\" className=\"link_team2 mr-2\"><i className=\"bi bi-people-fill mr-1\"></i>직원관리</Link></div>\r\n          </div>\r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;","import AppRoute from 'AppRoute';\r\nimport Header from 'Header';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n    <Header />\r\n    <div>\r\n      <AppRoute/>\r\n    </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers } from \"redux\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport hospitalReducer from \"./hospital-reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  authReducer: authReducer,\r\n  hospitalReducer: hospitalReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { createStore } from 'redux';\r\nimport rootReducer from 'redux/root-reducer';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport { createSetAuthTokenAction, createSetUidAction, cresteSetUauthorityAction } from 'redux/auth-reducer';\r\nimport { addAuthHeader } from 'apis/axiosConfig';\r\nimport { Provider } from 'react-redux';\r\nimport { createSetHaddressAction, createSetHidAction, createSetHLATAction, createSetHLONGAction, createSetHnameAction, createSetHurlAction } from 'redux/hospital-reducer';\r\n\r\nconst store = createStore(rootReducer, composeWithDevTools());\r\n\r\nstore.dispatch(createSetUidAction(sessionStorage.getItem(\"uid\") || \"\"));\r\nstore.dispatch(createSetAuthTokenAction(sessionStorage.getItem(\"authToken\") || \"\"));\r\nstore.dispatch(cresteSetUauthorityAction(sessionStorage.getItem(\"uauthority\") || \"\"));\r\nstore.dispatch(createSetHnameAction(sessionStorage.getItem(\"hname\" || \"\")));\r\nstore.dispatch(createSetHidAction(sessionStorage.getItem(\"hid\") || \"\"));\r\nstore.dispatch(createSetHaddressAction(sessionStorage.getItem(\"haddress\") || \"\"));\r\nstore.dispatch(createSetHurlAction(sessionStorage.getItem(\"hurl\" || \"\")));\r\nstore.dispatch(createSetHLATAction(sessionStorage.getItem(\"hlat\" || \"\")));\r\nstore.dispatch(createSetHLONGAction(sessionStorage.getItem(\"hlong\" || \"\")));\r\n\r\nif (sessionStorage.getItem(\"authToken\")) {\r\n  addAuthHeader(sessionStorage.getItem(\"authToken\"));\r\n}\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </BrowserRouter>\r\n  ,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}